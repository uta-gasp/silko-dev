webpackJsonp([0],[,,,function(t,e,s){"use strict";function n(t){return{get:function(e,s){return s in e||"string"!=typeof s||"_isVue"==s||console.error("[i10n] "+s+" not in "+t),e[s]}}}function i(){var t={},e=a.a.user?a.a.user.prefs.lang:"en";e=e.toLowerCase(),r.indexOf(e)<0&&(e=r[0]);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return i.forEach(function(s){var n=o[s];if(n)for(var i in n)t[i]=n[i][e]}),new Proxy(t,n(i))}s.d(e,"a",function(){return r}),e.b=i;var a=s(18),o={db:{err_no_resp:{en:"no response",fi:"ei vastausta"},err_not_supported:{en:"not supported",fi:"ei tuettu"},err_no_results:{en:"no results",fi:"ei tuloksia"},err_unknown:{en:"unknown error",fi:"tuntematon virhe"}},navbar:{results:{en:"Results",fi:"Tulokset"},logout:{en:"Log out",fi:"Kirjaudu ulos"}},home:{hdr_subtitle:{en:"A reading aid for students and teachers",fi:"Lukemisen apuväline oppilaille ja opettajille"},hdr_info_title:{en:function(t){return"As a "+t.toLowerCase()+", you can"},fi:function(t){return t+" voi"}},hdr_password_reset:{en:"Send password reset notification to this email:",fi:"Lähetä salasanan asetusviesti tähän osoitteeseen:"},btn_request_account:{en:"Request an account",fi:"Pyydä tilin luomista"},btn_forgot_password:{en:"Forgot password?",fi:"Unohditko salasanasi?"},btn_send:{en:"Send",fi:"Lähetä"},info_adm_1:{en:"Add and list teachers",fi:"Lisätä opettajia"},info_adm_2:{en:"Move teachers to other school",fi:"Siirtää opettajia toiseen kouluun"},info_adm_3:{en:"Add and list students",fi:"Lisätä oppilaita"},info_adm_4:{en:"Move students to other school",fi:"Siirtää oppilaita toiseen kouluun"},info_tch_1:{en:"Add, list, edit and remove instructions",fi:"Muokata tehtävien ohjeita"},info_tch_2:{en:"Add, list, edit and remove classes",fi:"Lisätä ja poistaa luokkia"},info_tch_3:{en:"Add, list, edit and remove tasks",fi:"Muokata tehtäviä"},info_tch_4:{en:"Add students to classes, list them and remove",fi:"Lisätä ja poistaa oppilaita luokista"},info_tch_5:{en:"Assign tasks to students",fi:"Lisätä tehtäviä oppilaille"},info_tch_6:{en:"Create visalizations from data of tasks completed by students",fi:"Luoda visualisointeja suoritetuista tehtävistä"},info_std_1:{en:"List tasks assigned to complete",fi:"Listata suorittamista odottavat tehtävät"},info_std_2:{en:"Complete assignments",fi:"Tehdä tehtäviä"},info_std_3:{en:"List completed assignments",fi:"Listata suoritetut tehtävät"},msg_connecting:{en:"Connecting to database...",fi:"Muodostetaan yhteyttä tietokantaan..."},msg_test_info:{en:"Tested with",fi:"Testattu selaimilla"},msg_contact_info:{en:"School rectors and teachers, please contact us directly.",fi:"Pyydämme että rehtorit ja opettajat ottavat meihin suoraan yhteyttä."},msg_contact_uta:{en:"University of Tampere",fi:"Tampereen yliopisto"},msg_request_sent:{en:function(t){return'The registration request for "'+t+'" has been sent.'},fi:function(t){return'Pyyntä rekisteröidä "'+t+'" on lähetetty.'}},msg_password_reset:{en:function(t){return'The password reset request has been sent to "'+t+'".'},fi:function(t){return'Salasanan vaihtopyyntä on lähetetty käyttöjälle "'+t+'".'}},tit_registration:{en:"Registration",fi:"Rekisteröinti"},tit_pass_reset:{en:"Password reset",fi:"Salasanan vaihto"},err_password_reset:{en:function(t){return'Cannot send the password reset request to "'+t+'".'},fi:function(t){return'Salasanan vaihtopyynnän lähetys käyttöjälle "'+t+'" ei onnistunut.'}},ws_err_title:{en:"Communication with gaze tracker is blocked by the browser",fi:"Selain estää yhteyden katseenseurantalaitteeseen"},ws_err_subtitle:{en:"Please enable the communication and reload the page",fi:"Salli yhteys ja lataa sivu uudestaan"},ws_unblock_1:{en:["Navigate to","page. Agree to be careful if the browsers asks you to be so."],fi:["Navigoi sivulle",". Lupaa olla varovainen jos selain pyytää sitä."]},ws_unblock_2:{en:["Type","in the search box."],fi:["Kirjoita","hakuikkunaan."]},ws_unblock_3:{en:["If the value of this parameter is",", then double-click on it to change it to","."],fi:["Jos tämän parametrin arvo on",", kaksoisklikkaa sitä, jolloin arvoksi muuttuu","."]},ws_unblock_4:{en:'(search "how to enable websocket over https" for you browser)',fi:'(etsi "how to enable websocket over https" selaimessasi)'}},assignments:{msg_removed_account:{en:"This student account was removed from all schools and is considered as frozen. No tasks will be assigned to this account in future.",fi:"Oppilaan tili on suljettu eikä sille voida antaa enää uusia tehtäviä."},msg_no_assignments:{en:"No assigned tasks yet",fi:"Ei tehtäviä"},msg_no_completed:{en:"No completed tasks yet",fi:"Ei tehtäviä"},hdr_assignments:{en:"Tasks to complete",fi:"Tehtävät"},hdr_completed:{en:"Completed tasks",fi:"Valmiit tehtävät"},hdr_wpm:{en:"WPM",fi:"Sanat/Min"},tit_syllab:{en:"Syllabifications",fi:"Tavutuksia"},tit_voice:{en:"Voice",fi:"Ääni"},tit_rec:{en:"Recording",fi:"Äänitallenne"}},assignment:{btn_calib:{en:"Calibrate",fi:"Kalibroi"},btn_skip_calib:{en:"Skip calibration",fi:"Ohita kalibrointi"},btn_next:{en:"Next",fi:"Seuraava"},btn_finish:{en:"Finish",fi:"Lopeta"},btn_thanks:{en:"Thank you!",fi:"Kiitos!"},msg_tracking_lost:{en:"Gaze tracking is not available",fi:"Katseenseuranta ei ole käytettävissä"},msg_tracker_not_calibrated:{en:"The tracker is not calibrated yet",fi:"Katseenseurantaa ei ole vielä kalibroitu"},msg_calib_window_not_visible:{en:"If you pressed CALIBRATE and calibration window is not visible, please minimize the browser: the calibration window is located below it.",fi:"Jos valitsit KALIBROI ja kalibrointi-ikkuna ei ole näkyvissä, minimoi selaimen ikkuna: kalibrointi-ikkuna on sen alla."},hdr_cannot_conect:{en:"Cannot connect to a gaze tracker",fi:"Katseenseurannan yhdistäminen ei onnistu"},msg_cannot_conect_1:{en:"Possible reasons:",fi:"Mahdollisia syitä:"},msg_cannot_conect_2:{en:"ETU-Driver service is not running",fi:"ETU-Driver service ei ole käynnissä"},msg_cannot_conect_3:{en:"ETU-Driver service is running, but its WebSocket server is not enabled",fi:"ETU-Driver service on käynnissä, mutta sen WebSocket serveriä ei ole sallittu"}},modal_error:{title:{en:"Assignment error",fi:"Tehtävän liittämisvirhe"}},teachers:{hdr_new:{en:"Add teacher",fi:"Uusi opettaja"},msg_no_teachers:{en:"No teachers exists yet",fi:"Opettajia ei ole vielä olemassa"},msg_moved:{en:"The teacher was moved to another school",fi:"Opettaja siirrettiin toiseen kouluun"},err_exists:{en:"A teacher with this email exists already",fi:"Opettaja, jolla on tämä osoite, on jo olemassa"},err_move:{en:"Failed to move the teacher to another school",fi:"Opettajan siirto toiseen kouluun ei onnistunut"}},students:{hdr_new:{en:"New student",fi:"Uusi oppilas"},msg_no_students:{en:"No students exists yet",fi:"Ei vielä oppilaita"},msg_moved:{en:"The student was moved to another school",fi:"Oppilas siirrettiin toiseen kouluun"},err_load_teacher:{en:"Failed to load teacher's school",fi:"Opettajan koulun lataus ei onnistunut"},err_exists:{en:"A student with this email or ID exists already",fi:"Oppilas, jolla on sama osoite tai tunnus, on jo olemassa"},err_move:{en:"Failed to move the student to another school",fi:"Oppilaan siirto toiseen kouluun ei onnistunut"},err_access_school:{en:"Failed to access the student school",fi:"Oppilaan kouluun ei saatu yhteyttä"}},instructions:{hdr_new:{en:"New instruction",fi:"Uusi ohje"},hdr_editor:{en:"Instruction editor",fi:"Ohjeiden muokkaus"},msg_no_instructions:{en:"No instructions exists yet",fi:"Ohjeita ei vielä olemassa"},err_exists:{en:"An instructions of this name exists already",fi:"Tämän niminen ohje on jo olemassa"},tit_edit:{en:"Edit instruction",fi:"Muokkaa ohjetta"},tit_delete:{en:"Delete instruction",fi:"Poista ohje"}},instruction_editor:{hdr_texts:{en:"Texts",fi:"Tekstit"},msg_instruction_invalid:{en:"instruction is too short",fi:"ohje on liian lyhyt"},ph_calib_inst:{en:"Calibration instruction",fi:"Kalibrointiohje"},ph_start_inst:{en:"Start instruction",fi:"Aloitusohje"},ph_first_page:{en:"First page",fi:"Ensimmäinen sivu"}},classes:{hdr_new:{en:"New class",fi:"Uusi luokka"},tit_delete_class:{en:"Delete the class",fi:"Poista luokka"},err_name_exists:{en:"A class of this name exists already",fi:"Tämän niminen luokka on jo olemassa"}},task_list:{btn_new:{en:"Create new",fi:"Luo uusi"},lbl_pages:{en:function(t){return t+" pages"},fi:function(t){return t+" sivua"}},tit_edit:{en:function(t){return t?"This task has recorded sessions":"Edit the task"},fi:function(t){return t?"Tätä tehtävää on jo suoritettu":"Muokkaa tehtävää"}},tit_copy:{en:"Create a new task from the existing",fi:"Luo uusi tehtävä vanhan perusteella"},tit_delete:{en:"Delete the task",fi:"Poista tehtävä"},msg_delete_warning:{en:"All students assignments completed on this task will be deleted as well",fi:"Myös kaikki tämän tehtävän suoritukset poistetaan"},msg_cancel_warning:{en:"All changes will be lost. OK to continue?",fi:"Muutoksia ei talletata. Jatketaanko?"},hdr_editor:{en:function(t){return"Task editor"+t},fi:function(t){return"Tehtävien muokkaus"+t}},err_same_name:{en:"A task with the same name exists already",fi:"Tämän niminen tehtävä on jo olemassa"}},student_list:{lbl_add:{en:"Add an assignment",fi:"Lisää tehtävä"},tit_remove:{en:"Remove the student from this class",fi:"Poista oppilas tästä luokasta"},tit_students:{en:"Available students",fi:"Mahdolliset oppilaat"},data_grade:{en:"grade",fi:"luokka-aste"},data_student:{en:"student",fi:"oppilas"},err_load_school:{en:"Failed to load the teacher's school",fi:"Opettajan koulun lataus ei onnistunut"},err_load_school_students:{en:"Failed to load the school's students",fi:"Koulun oppilaiden lataus ei onnistunut"},err_add_assig:{en:"Failed to assign the task",fi:"Tehtävän lisäys oppilaalle ei onnistunut"},err_remove_assig:{en:"Failed to remove the assignment",fi:"Tehtävän poisto ei onnistunut"},msg_students_added:{en:"Students were added",fi:"Oppilaat lisättiin"},msg_assig_added:{en:"The task was assigned",fi:"Tehtävä lisättiin oppilaalle"},msg_assig_removed:{en:"The assignment was removed",fi:"Tehtävä poistettiin oppilaalta"}},remove_warning:{header:{en:function(t){return"Deleting "+t},fi:function(t){return"Poistetaan "+t}},warning:{en:function(t,e){return"The "+t+' "'+e+'" will be deleted permanently'},fi:function(t,e){return t+' "'+e+'" poistetaan pysyvästi'}},continue:{en:"Continue?",fi:"Jatketaanko?"}},task_editor:{btn_preview:{en:"Preview",fi:"Esikatselu"},btn_set_default:{en:"Set as default",fi:"Muuta oletukseksi"},lbl_use_timeout:{en:"Use timeout:",fi:"Aikakatkaisu:"},lbl_minute:{en:"min.",fi:"min."},lbl_record_audio:{en:"Record audio",fi:"Äänitä"},lbl_alignment:{en:"Alignment",fi:"Tasaus"},lbl_font:{en:"Font",fi:"Kirjasin"},lbl_formatting:{en:"Formatting",fi:"Muotoilu"},item_center:{en:"center",fi:"keskelle"},item_left:{en:"left",fi:"vasemmalle"},item_none:{en:"none",fi:"ei mitään"},msg_not_editable:{en:"The task contains images bound to words and therefore its text cannot be modified.",fi:"Tehtävässä on sanoihin sidottuja kuvia ja siksi sen tekstiä ei voi muokata."}},task_editor_feedback:{lbl_speech:{en:"Speech",fi:"Puhe"},lbl_syllab:{en:"Syllabification",fi:"Tavutus"},lbl_syllabs:{en:"Syllabifications",fi:"Tavutukset"},lbl_temp:{en:"temporary",fi:"hetkellinen"},lbl_word:{en:"word-length dependent",fi:"sanan pituudesta riippuva"},lbl_exceptions:{en:"Exceptions",fi:"Poikkeukset"},lbl_example:{en:"Example: maailma=maa il ma",fi:"Esimerkki: maailma=maa il ma"},item_none:{en:"none",fi:"ei käytössä"},item_fixed:{en:"fixed",fi:"kiinteä"},item_calib:{en:"calibrated",fi:"kalibroitu"},item_colors:{en:"colors",fi:"värit"},item_hyphen:{en:"hyphen",fi:"tavuviiva"}},task_editor_images:{lbl_preview:{en:"Preview",fi:"Esikatselu"},lbl_page:{en:"Page",fi:"Sivu"},lbl_location:{en:"Location",fi:"Paikka"},lbl_size:{en:"Size",fi:"Koko"},lbl_on:{en:"On",fi:"Käytössä"},lbl_off:{en:"Off",fi:"Ei käytössä"},lbl_keep_size:{en:function(t){return t?"original":"shrinked"},fi:function(t){return t?"alkuperäinen":"pienennetty"}},lbl_bytes:{en:"bytes",fi:"tavua"},lbl_pixels:{en:"pixels from",fi:"pikseliä"},lbl_show:{en:"Show",fi:"Näytä"},lbl_at:{en:"at",fi:"sanassa"},lbl_longer:{en:"longer than",fi:"yli"},lbl_hide:{en:"Hide",fi:"Piilota"},lbl_seconds:{en:"seconds",fi:"sekuntia"},msg_no_images:{en:"No images",fi:"Ei kuvia"},msg_choose:{en:"Choose an image…",fi:"Valitse kuva…"},msg_drag:{en:"or drag it here",fi:"tai raahaa se tähän"},msg_fix_on_word:{en:"fixation on word",fi:"fiksaatio sanassa"},tit_params:{en:"Edit the image appearance parameters",fi:"Muokkaa kuvan esityksen parametreja"},tit_remove:{en:"Remove the image",fi:"Poista kuva"},item_any:{en:"any",fi:"kaikki"},item_left:{en:"left",fi:"vasemmalta"},item_bottom:{en:"bottom",fi:"alareunasta"},item_right:{en:"right",fi:"oikealta"},item_original:{en:"original",fi:"alkuperäinen"},item_15:{en:"15% of width / height",fi:"15% alkuperäisestä"},item_initially:{en:"initially",fi:"heti"},item_on_fix:{en:"on fixation",fi:"fiksaatiolle"},item_never:{en:"never",fi:"ei koskaan"},item_when_other:{en:"when other image is shown",fi:"kun toinen kuva näytetään"},item_after:{en:"after",fi:"kun on kulunut"},btn_upload:{en:"Upload",fi:"Lataa"},err_image_type:{en:"Only JPEG and PNG images are supported",fi:"Vain JPEG ja PNG kuvat sallitaan"},err_image_size:{en:"File size must not exceed 100 kB",fi:"Tiedoston koko saa olla enintään 100 kB"},err_upload:{en:"Cannot upload the file",fi:"Tiedoston lataus ei onnistu"}},task_editor_quest:{lbl_for:{en:"For",fi:"Kysytään"},lbl_text:{en:"Text",fi:"Teksti"},item_text:{en:"whole text",fi:"tekstin lopussa"},item_word:{en:"long-gazed word",fi:"jos sanaa on katsottu kauan"},ph_word:{en:"Word",fi:"Sana"},ph_question:{en:"Question",fi:"Kysymys"},ph_answer:{en:"answer",fi:"vastaus"}},task_text_format:{rules:{en:"Rules",fi:"Säännöt"},empty_line:{en:"Empty line",fi:"Tyhjä rivi"},separator:{en:"page separator",fi:"erottaa sivut"},styles:{en:"applies comma-separated styles listed afterward for",fi:"edeltää pilkulla erotettuja muotoiluohjeita"},word:{en:"a word",fi:"sanalle"},line:{en:"a line",fi:"riville"},lighter:{en:"25% lighter than the normal text",fi:"25% vaaleampi kuin tekstin oletusväri"},darker:{en:"25% darker than the normal text",fi:"25% tummempi kuin tekstin oletusväri"},color:{en:"font color",fi:"tekstin väri"},size:{en:"font size",fi:"tekstikoko"},style:{en:"font style",fi:"tekstin kursivointi"},weight:{en:"font weight",fi:"tekstin lihavointi"},example:{en:"Example",fi:"Esimerkki"}},selection_box:{lbl_select:{en:function(t){return"Select a "+t},fi:function(t){return"Valitse "+t}},lbl_no_avail:{en:function(t){return"Not available "+t},fi:function(t){return t+" ei käytettävissä"}},btn_select:{en:"Select",fi:"Valitse"},btn_select_all:{en:"Select all",fi:"Valitse kaikki"},btn_remove_all:{en:"Remove all selections",fi:"Poista kaikki valinnat"}},preview:{lbl_syllab_word:{en:"Ctrl + click on a word to syllabify it",fi:"Ctrl + click sanan kohdalla tavuttaa sen"},lbl_speak_word:{en:"Alt + click on a word to pronounce it",fi:"Alt + click sanan kohdalla puhuu sanan ääneen"},btn_syllab_all:{en:"Syllabify all",fi:"Tavuta kaikki"},btn_close:{en:"Close",fi:"Sulje"}},results:{msg_no_data:{en:"No data was recorded yet",fi:"Dataa ei vielä ole tallennettu"},btn_durations:{en:"Durations",fi:"Kestot"},btn_gaze_plot:{en:"Gaze plot",fi:"Katsepolku"},btn_gaze_replay:{en:"Gaze replay",fi:"Katsepolun toisto"},btn_audio_replay:{en:"Audio replay",fi:"Äänityksen toisto"},btn_word_replay:{en:"Word replay",fi:"Sanataulukko"},btn_questionnaire:{en:"Questionnaire",fi:"Kyselytulokset"},btn_summary:{en:"Summary",fi:"Yhteenveto"},btn_edit:{en:"Edit",fi:"Muokkaa"},data_grade:{en:"grade",fi:"luokka-aste"},data_student:{en:"student",fi:"oppilas"},data_session:{en:"session",fi:"suoritus"},tit_sessions:{en:function(t){return"Sessions by "+t},fi:function(t){return"Oppilaan "+t+" suoritukset"}},tit_students:{en:function(t){return'Students completed "'+t+'"'},fi:function(t){return'Tehtävän "'+t+'" suorittaneet'}},tit_students_of:{en:function(t){return'students of "'+t+'"'},fi:function(t){return'luokan "'+t+'" oppilaat'}},err_load_classes:{en:"Failed to load classes",fi:"Luokkien lataus ei onnistunut"},err_load_student:{en:"Failed to load student data",fi:"Oppilaan datojen lataus ei onnistunut"}},session_box:{err_delete:{en:"Failed to delete the session",fi:"Suorituksen lataus ei onnistunut"}},audio:{play:{en:"Play",fi:"Toista"},pause:{en:"Pause",fi:"Pysäytä"}},control_panel:{tit_speech:{en:"Speech output",fi:"Äänivihjeet käytössä"},tit_syllab:{en:"Syllabification",fi:"Tavutus käytössä"},tit_quest:{en:"Questionnaire correctness",fi:"Kysely käytössä"},tit_prev:{en:"Previous page",fi:"Edellinen sivu"},tit_next:{en:"Next page",fi:"Seuraava sivu"},tit_settings:{en:"Settings",fi:"Asetukset"},tit_close:{en:"Close this visualization",fi:"Sulje tämä visualisointi"},lbl_intro:{en:"intro",fi:"intro"}},vis:{hdr_commons:{en:"Common",fi:"Yleiset"},hdr_reading:{en:function(t,e,s){return t+' reading "'+e+'" at '+s},fi:function(t,e,s){return t+' tehtävässä "'+e+'" kello '+s}},hdr_quest:{en:function(t){return'Questionnaire results in "'+t+'"'},fi:function(t){return'Kyselytulokset tehtävässä "'+t+'"'}},hdr_missing_data:{en:"Missing data",fi:"Data puuttuu"},hdr_total:{en:"Total",fi:"Yhteensä"},lbl_text_color:{en:"Text color",fi:"Tekstin väri"},lbl_hl_color:{en:"Highlighting color",fi:"Korostusväri"},lbl_frame_color:{en:"Word frame color",fi:"Sanan kehysväri"},lbl_draw_frame:{en:"Draw word frame",fi:"Piirrä sanoille kehys"},lbl_word_color:{en:"Word color metric",fi:"Sanojen väritysperuste"},lbl_syllab_back:{en:"Syllabification background",fi:"Tavutetun sanan tausta"},lbl_syllab_word:{en:"Syllabification word color",fi:"Tavutetun sanan väri"},msg_missing_data:{en:"Fixation data is missing on this page",fi:"Tällä sivulla ei ole katsedataa"},item_none:{en:"none",fi:"ei käytössä"},item_dur:{en:"duration",fi:"kesto"},item_char:{en:"char speed",fi:"nopeus (merkkiä)"},item_focus:{en:"focus count",fi:"lukukertojen määrä"}},vis_gaze_plot:{hdr_options:{en:"Gaze Plot",fi:"Katsepolku"},lbl_sacc_color:{en:"Saccade color",fi:"Sakkaadien väri"},lbl_reg_sacc_color:{en:"Regressive saccade color",fi:"Regressioiden väri"},lbl_show_conn:{en:"Show word-fixation connections",fi:"Näytä sana-fiksaatio viivat"},lbl_show_sacc:{en:"Show saccades",fi:"Näytä sakkaadit"},lbl_show_fix:{en:"Show fixations",fi:"Näytä fiksaatiot"}},vis_durations:{hdr_dur:{en:function(t,e){return'Word reading durations in "'+e+'"'+(t?" for "+t:"")},fi:function(t,e){return'Sanojen lukuajat tehtävässä "'+e+'"'+(t?" oppilaalle "+t:"")}},hdr_options:{en:"Durations",fi:"Kestot"},item_seconds:{en:"seconds",fi:"sekuntia"},item_percentage:{en:"percentage",fi:"prosenttia"},item_ms_char:{en:"ms/char",fi:"ms/kirje"},lbl_units:{en:"Units",fi:"Yksiköt"}},vis_word_replay:{hdr_word_replay:{en:function(t,e){return'Word replay in "'+e+'"'+(t?" for "+t:"")},fi:function(t,e){return'Sanataulukko tehtävässä "'+e+'"'+(t?" oppilaalle "+t:"")}},hdr_options:{en:"Word replay",fi:"Sanataulukko"},lbl_done:{en:"done",fi:"valmis"},lbl_no_data:{en:"no data",fi:"ei dataa"},lbl_level_dur:{en:"Level duration",fi:"Tason kesto"}},vis_gaze_replay:{lbl_font:{en:"Name font",fi:"Nimen fontti"},lbl_font_size:{en:"Name font size",fi:"Nimen fonttikoko"},lbl_spacing:{en:"Name spacing",fi:"Nimen rivinväli"},hdr_gaze_replay:{en:function(t,e){return'Gaze replay in "'+e+'"'+(t?" for "+t:"")},fi:function(t,e){return'Katsepolun toisto tehtävässä "'+e+'"'+(t?" oppilaalle "+t:"")}},hdr_options:{en:"Gaze Replay",fi:"Katsepolun toisto"}},vis_summary:{tit_wpm:{en:"Words per minute",fi:"Sanoja minuutissa"},tit_sylpm:{en:"Syllables per minute (sessions)",fi:"Tavuja minuutissa (suorituksia)"},tit_spw:{en:"Seconds per word",fi:"Sekuntia per sana"},tit_fd:{en:"Average fixation duration in milliseconds",fi:"Fiksaation kesto keskimäärin (millisekuntia)"},tit_fsd:{en:"Fixation standard deviation in milliseconds",fi:"Fiksaatioiden keston keskihajonta (millisekuntia)"},tit_syllabs:{en:"Syllabifications",fi:"Tavutuksia"},tit_regrs:{en:"Regressions",fi:"Regressioita"},lbl_time:{en:"Reading time",fi:"Lukuaika"},lbl_wpm:{en:"WPM",fi:"WPM"},lbl_spm:{en:"SPM",fi:"SPM"},lbl_spw:{en:"SPW",fi:"SPW"},lbl_fix:{en:"Fixation",fi:"Fiksaatio"},lbl_fsd:{en:"FSD",fi:"FSD"}},player:{tit_restart:{en:"Restart",fi:"Käynnistä alusta"},tit_pause_cont:{en:"Pause / Continue",fi:"Pysäytä / Jatka"}},options:{hdr_settings:{en:"Settings",fi:"Asetukset"},btn_apply:{en:"Apply",fi:"Käytä"},btn_save_close:{en:"Save and close",fi:"Tallenna ja sulje"},btn_reset:{en:"Reset",fi:"Palauta"}},sgwm:{hdr_data_map:{en:"Data mapping",fi:"Datan tulkinta"},hdr_fix_proc:{en:"Fixation processing",fi:"Fiksaatioiden käsittely"},hdr_splitter:{en:"Splitter",fi:"Alue"},hdr_merger:{en:"Merger",fi:"Yhdistäminen"},hdr_word_map:{en:"Word mapper",fi:"Liittäminen sanoihin"},lbl_loc:{en:"By location",fi:"Paikan perusteella"},lbl_dur:{en:"By duration",fi:"Keston perusteella"},lbl_margin:{en:function(t){return"margin "+t+", px"},fi:function(t){return t+"-marginaali, px"}},lbl_merge_th:{en:"merging threshold, ms",fi:"yhdistämisen kynnysarvo, ms"},lbl_merge_dist:{en:"merging distance, px",fi:"yhdistämisetäisyys, px"},lbl_min_dur:{en:"min duration, ms",fi:"vähimmäiskesto, ms"},lbl_left_margin:{en:"Left margin, chars",fi:"Vasen reuna, merkkiä"},lbl_right_margin:{en:"Right margin, chars",fi:"Oikea reuna, merkkiä"},lbl_v_margin_char:{en:"Vertical margin, chars",fi:"Vertikaaliero, merkkiä"},lbl_v_margin_lines:{en:"Vertical margin, lines",fi:"Vertikaaliero, rivejä"},lbl_incline:{en:"Max incline, rad",fi:"Enimmäiskulma, astetta"},lbl_short_prog:{en:"Shortest progression, fixations",fi:"Fiksaatioita vähintään"},lbl_line_sep:{en:"Line separation threshold, lines",fi:"Rivivälin kynnysarvo, rivejä"},lbl_line_incline:{en:"Max line incline, rad",fi:"Rivin enimmäiskulma, astetta"},lbl_remove_fix:{en:"Remove unmerged single fixations",fi:"Poista yhdistämättämät yksittäiset fiksaatiot"},lbl_empty_lines:{en:"Account for empty lines",fi:"Käsittele tyhjät rivit"},lbl_support_line:{en:"support current line by",fi:"nykyisen rivin painokerroin"},lbl_empty_line:{en:"empty line factor, lines",fi:"tyhjien rivien kerroin, rivejä"},lbl_first_line:{en:"Intelligent first reading line search",fi:"Salli ensimmäisen rivin poikkeuskäsittely"},lbl_skip_start:{en:"Skip from start, chars",fi:"Alusta ohitettavia merkkejä"},lbl_skip_end:{en:"Skip from end, chars",fi:"Lopusta ohitettavia merkkejä"},lbl_scale:{en:"Scaling diff limit",fi:"Skaalausraja"},lbl_rescale:{en:"Rescale fixations horizontally",fi:"Skaalaa fiksaatiot uudelleen vaakasuunnassa"},lbl_short_word:{en:"short word, chars",fi:"lyhyet sanat, merkkejä"},lbl_limit:{en:"limit to",fi:"enintään"},lbl_ignore_trans:{en:"Ignore transitions",fi:"Älä huomioi siirtymiä"}},_utils:{num_student:{en:function(t){return t&&t.length?t.length+" student"+(1!==t.length?"s":""):"No students"},fi:function(t){return t&&t.length?t.length+" oppilas"+(1!==t.length?"ta":""):"Ei oppilaita"}},num_task:{en:function(t){return t&&t.length?t.length+" task"+(1!==t.length?"s":""):"No tasks"},fi:function(t){return t&&t.length?t.length+" tehtävä"+(1!==t.length?"ä":""):"Ei tehtäviä"}}},_buttons:{manual:{en:"Manual",fi:"Ohjesivut"},create:{en:"Create",fi:"Luo"},save:{en:"Save",fi:"Tallenna"},ok:{en:"OK",fi:"OK"},cancel:{en:"Cancel",fi:"Peruuta"},add:{en:"Add",fi:"Lisää"},start:{en:"Start",fi:"Aloita"}},_form:{name:{en:"Name",fi:"Nimi"},email:{en:"Email",fi:"Sähköposti"},email_id:{en:"Email or ID",fi:"Sähköposti tai tunnus"},password:{en:"Password",fi:"Salasana"},name_invalid:{en:"name is too short",fi:"nimi on liian lyhyt"},email_invalid:{en:"email is not valid",fi:"sähköposti on väärässä muodossa"},password_invalid:{en:"password is too short",fi:"salasana on liian lyhyt"}},_labels:{admin:{en:"admin",fi:"ylläpitäjä"},school:{en:"School",fi:"Koulu"},schools:{en:"Schools",fi:"Koulut"},teacher:{en:"Teacher",fi:"Opettaja"},teachers:{en:"Teachers",fi:"Opettajat"},student:{en:"Student",fi:"Oppilas"},students:{en:"Students",fi:"Oppilaat"},instruction:{en:"Instruction",fi:"Ohje"},instructions:{en:"Instructions",fi:"Ohjeet"},class:{en:"Class",fi:"Luokka"},classes:{en:"Classes",fi:"Luokat"},grade:{en:"Grade",fi:"Luokka-aste"},task:{en:"Task",fi:"Tehtävä"},tasks:{en:"Tasks",fi:"Tehtävät"},actions:{en:"Actions",fi:"Toimenpiteet"},text:{en:"Text",fi:"Teksti"},image:{en:"Image",fi:"Kuva"},images:{en:"Images",fi:"Kuvat"},assignments:{en:"Assignments",fi:"Tehtävät"},sessions:{en:"Sessions",fi:"Suoritukset"},date:{en:"Date",fi:"Aika"},feedback:{en:"Feedback",fi:"Palaute"},questionnaire:{en:"Questionnaire",fi:"Kysely"}},_failures:{load:{en:function(t){return"Failed to load "+t.toLowerCase()},fi:function(t){return"Lataus epäonnistui: "+t.toLowerCase()}},create_new:{en:function(t){return"Failed to create "+t.toLowerCase()},fi:function(t){return"Luonti epäonnistui: "+t.toLowerCase()}},add_new:{en:function(t){return"Failed to add a new "+t.toLowerCase()},fi:function(t){return"Ei voitu luoda uutta: "+t.toLowerCase()}},update:{en:function(t){return"Failed to update the "+t.toLowerCase()},fi:function(t){return"Ei voitu päivittää: "+t.toLowerCase()}},delete:{en:function(t){return"Failed to delete the "+t.toLowerCase()},fi:function(t){return"Ei voitu poistaa: "+t.toLowerCase()}},remove:{en:function(t){return"Failed to remove the "+t.toLowerCase()},fi:function(t){return"Ei voitu poistaa: "+t.toLowerCase()}},added:{en:function(t){return"The "+t.toLowerCase()+" was added"},fi:function(t){return t+" lisättiin"}},created:{en:function(t){return"The "+t.toLowerCase()+" was created"},fi:function(t){return t+" luotiin"}},updated:{en:function(t){return"The "+t.toLowerCase()+" was updated"},fi:function(t){return t+" päivitettiin"}},deleted:{en:function(t){return"The "+t.toLowerCase()+" was deleted"},fi:function(t){return t+" poistettiin"}},removed:{en:function(t){return"The "+t.toLowerCase()+" was removed"},fi:function(t){return t+" poistettiin"}}}},r=["en","fi"]},,function(t,e,s){"use strict";var n=s(31),i=s.n(n),a=s(64),o=s.n(a),r=s(10),l=s.n(r),u=s(0),c=s.n(u),d=s(1),h=s.n(d),f=s(14),p=s.n(f),m=s(13),v=s.n(m),g=s(24),_=s(21),k=s(6),b=s(60),y=s(49),w=s(18),x=(s(26),function(t){function e(t){c()(this,e);var s=p()(this,(e.__proto__||l()(e)).call(this,t));return s.name="",s.school="",s.email="",s.grade="",s.classes={},s.sessions={},s.assignments={},s}return v()(e,t),h()(e,[{key:"addClass",value:function(t,e,s){return this.classes[t]=e,w.a.updateField(this,"classes/"+t,e,s)}},{key:"removeClass",value:function(t,e){return delete this.classes[t],this.setAssignment(t,null,function(t){if(t)return console.error(t)}),w.a.deleteField(this,"classes/"+t,e)}},{key:"addAssignment",value:function(t,e,s){var n=this;return w.a.setField(this,"assignments/"+t,e,function(i){i?console.error("@/model/student.js/.addAssignment",i):n.assignments[t]=e,s(i)})}},{key:"removeAssignment",value:function(t,e){var s=this;return w.a.deleteField(this,"assignments/"+t,function(n){n?console.error("@/model/student.js/.removeAssignment",n):delete s.assignments[t],e(n)})}},{key:"setAssignment",value:function(t,e,s){var n=this,i=this.assignments[t];e?this.assignments[t]=e:delete this.assignments[t];var a=function(e){e&&(n.assignments[t]=i,console.error("@/model/student.js/.setAssignment",e)),s(e)};return e?w.a.setField(this,"assignments/"+t,e,a):w.a.deleteField(this,"assignments/"+t,a)}},{key:"loadAssignments",value:function(t){var s=[];if(e.MULTICLASS)for(var n in this.assignments)s.push(n);else for(var i in this.assignments)s.push(this.assignments[i]);return w.a.getFromIDs(k.a,s,function(e,s){if(e)return t(e);var n=[],i=[];s.forEach(function(t){i.push(w.a.get(_.a,t.cls,function(e,s){if(e)return console.error("@/model/student.js/.loadAssignments db.get Class",e);n.push({cls:s,task:t})}))}),o.a.all(i).then(function(e){t(null,n)})})}},{key:"loadSessions",value:function(t){var e=[];for(var s in this.sessions)e.push(s);return w.a.getFromIDs(b.a,e,function(e,s){if(e)return t(e);var n=new i.a;s.forEach(function(t){n.set(t,{cls:{},task:{},session:null,data:null})});var a=[];s.forEach(function(t){a.push(w.a.get(_.a,t.cls,function(e,s){if(e)return console.error("@/model/student.js/.loadSessions db.get Class",e);n.get(t).cls=s})),a.push(w.a.get(k.a,t.task,function(e,s){if(e)return console.error("@/model/student.js/.loadSessions db.get Task",e);n.get(t).task=s})),a.push(w.a.get(y.a,t.data,function(e,s){if(e)return console.error("@/model/student.js/.loadSessions db.get Data",e);n.get(t).data=s}))}),o.a.all(a).then(function(e){var s=[];n.forEach(function(t,e){t.session=e,s.push(t)}),t(null,s)})})}},{key:"loadTask",value:function(t,e){return w.a.get(k.a,t,e)}},{key:"taskDone",value:function(t,s,n){var i=this;return this.sessions[s]=t,w.a.updateField(this,"sessions/"+s,t,function(s){if(s)return n(s);e.MULTICLASS?i.removeAssignment(t,n):i.setAssignment(t,null,n)})}},{key:"addQuestionnaire",value:function(t,e,s){return w.a.update("/"+y.a.db+"/"+t+"/questionnaire",e,function(t){if(t)return s(t);s()})}},{key:"getSessions",value:function(t){return w.a.getFromIDs(b.a,this.sessions,t)}},{key:"deleteSession",value:function(t,e){return this.sessions[t]?(delete this.sessions[t],w.a.deleteField(this,"sessions/"+t,function(s){if(s)return e(s);w.a.get(b.a,t,function(s,n){if(s)return e(s);var i=[];i.push(w.a.deleteItems(y.a,[n.data])),i.push(w.a.deleteItems(b.a,[t])),n.files.forEach(function(t){return w.a.deleteFile(t,function(t){t&&console.error("Student.deleteSession:",t)})}),o.a.all(i).then(function(){e(null)})})})):e(new Error("INTERNAL: Session does not exist"))}}],[{key:"list",value:function(t){return w.a.getAll(e,t)}},{key:"getData",value:function(t,e){return w.a.getFromIDs(y.a,t,e)}},{key:"db",get:function(){return"students"}},{key:"MULTICLASS",get:function(){return!0}},{key:"isLogged",get:function(){return w.a.user&&w.a.user.isStudent}},{key:"instance",get:function(){return w.a.user&&w.a.user.isStudent?w.a.user.ref:null}}]),e}(g.a));e.a=x,g.a.apply(x)},function(t,e,s){"use strict";var n=s(64),i=s.n(n),a=s(10),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=s(14),h=s.n(d),f=s(13),p=s.n(f),m=s(24),v=s(94),g=s(12),_=s(8),k=s(20),b=s(18),y=(s(26),function(t){function e(t){l()(this,e);var s=h()(this,(e.__proto__||o()(e)).call(this,t));return s.name="",s.owner="",s.cls="",s.type="",s.alignment="",s.fontname="Calibri",s.intro="",s.pages=[],s.syllab=e.defaultSyllab,s.speech=e.defaultSpeech,s.questionnaire=[],s.useTimeout=!1,s.timeout=5,s.recordAudio=!1,s}return p()(e,t),c()(e,[{key:"update",value:function(t,s){var n={alignment:t.alignment,fontname:t.fontname,intro:t.intro,pages:e.textToPages(t.text),syllab:t.syllab,speech:t.speech,questionnaire:t.questionnaire,useTimeout:t.useTimeout,timeout:t.timeout,recordAudio:t.recordAudio};return e.embedImagesIntoPages(n.pages,t.images),n.syllab.exceptions=e.textToSyllabs(t.syllab.exceptions),b.a.updateFields(this,n,s)}},{key:"getIntro",value:function(t){return this.intro?b.a.get(k.a,this.intro,t):i.a.resolve(t())}},{key:"deleteAllImages",value:function(t){var e=[];return this.pages.forEach(function(t){t.images&&t.images.forEach(function(t){var s=g.a.urlFromName(t.src);e.push(b.a.deleteFile(s,function(t){}))})}),i.a.all(e).then(function(e){t()})}}],[{key:"get",value:function(t,s){return b.a.get(e,t,s)}},{key:"textToPages",value:function(t){if(!t)return[];var e=0,s=new v.a(e),n=[s];return t.split("\n").forEach(function(t){if(!(t=t.trim()))return void(s.lines.length>0&&(s=new v.a(++e),n.push(s)));s.lines.push(t)}),s.lines.length||n.pop(),n}},{key:"pagesToText",value:function(t){if(!t.length)return"";var e=void 0;if("lines"in t[0]){e=t.map(function(t){return t.lines.join("\n")})}else{e=t.map(function(t){return t.join("\n")})}return e.join("\n\n")}},{key:"textToSyllabs",value:function(t){if(!t)return{};var s={};return t.split("\n").forEach(function(t){t=t.trim();var n=t.split(e.wordSyllabSeparator);if(2===n.length){var i=n[0].trim(),a=n[1].trim();!i||!a||i.split(e.syllabSeparator).length>1||(s[i]=a.split(e.syllabSeparator).filter(function(t){return t.length}).join(e.syllabSeparator))}}),s}},{key:"syllabsToText",value:function(t){var s=[];for(var n in t)s.push(""+n+e.wordSyllabSeparator+t[n]);return s.join("\n")}},{key:"embedImagesIntoPages",value:function(t,e){e&&(t.forEach(function(t){t.images=[]}),e.forEach(function(e){if(e.page<0)t.forEach(function(t){t.images.find(function(t){return t.src===e.src})||t.images.push(new g.a(e))});else{var s=t[e.page];if(!s)return;s.images.push(new g.a(e))}}))}},{key:"uploadImage",value:function(t,e,s,n){var i=g.a.generatePrefix();return b.a.uploadFile(t,i,e,s,n)}},{key:"deleteImage",value:function(t,e){var s=g.a.urlFromName(t.src);return b.a.deleteFile(s,e)}},{key:"db",get:function(){return"tasks"}},{key:"wordSyllabSeparator",get:function(){return"="}},{key:"syllabSeparator",get:function(){return" "}},{key:"defaultSyllab",get:function(){return{language:"",exceptions:{},mode:"colors",temporary:!1,threshold:new _.a(3e3,!1,1500,3e3,!1)}}},{key:"defaultSpeech",get:function(){return{language:"",threshold:new _.a(4e3,!1,3e3,4e3,!1)}}}]),e}(m.a));e.a=y,m.a.apply(y)},function(t,e,s){"use strict";function n(t){var e=""+t;return e.length<2&&(e="0"+e),e}var i=s(0),a=s.n(i),o=s(1),r=s.n(o),l=function(){function t(){a()(this,t)}return r()(t,null,[{key:"toArray",value:function(t){var e=[];for(var s in t)e.push({id:s,name:t[s]});return e}},{key:"byName",value:function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1}},{key:"sessionDate",value:function(t){var e=new Date(t),s=n(e.getHours()),i=n(e.getMinutes());return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()+" "+s+":"+i+" "}},{key:"convertLegacy",value:function(t){return"Finnish"===t?"Suomi":t}}]),t}();e.a=l},function(t,e,s){"use strict";s.d(e,"b",function(){return r}),s.d(e,"c",function(){return l}),s.d(e,"a",function(){return u});var n=s(1),i=s.n(n),a=s(0),o=s.n(a),r=(s(123),s(124),function t(e,s){o()(this,t),this.speech=e,this.syllabification=s}),l=function(){function t(){o()(this,t),this.language="",this.exceptions={},this.mode="",this.temporary=!1,this.threshold=null}return i()(t,null,[{key:"from",value:function(e){var s=new t;return s.language=e.language,s.mode=e.mode,s.threshold=e.threshold,s.temporary=e.temporary,s.exceptions=e.exceptions,s}}]),t}(),u=function t(e,s,n,i,a){o()(this,t),this.value=e,this.smart=s,this.min=n,this.max=i,this.adjustForWordLength=a}},function(t,e,s){"use strict";var n=s(42),i=new n.a;e.a=i},,,function(t,e,s){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}s.d(e,"b",function(){return b}),s.d(e,"c",function(){return y}),s.d(e,"d",function(){return w}),s.d(e,"e",function(){return x}),s.d(e,"a",function(){return C});var i=s(10),a=s.n(i),o=s(14),r=s.n(o),l=s(13),u=s.n(l),c=s(44),d=s.n(c),h=s(233),f=s.n(h),p=s(99),m=s.n(p),v=s(0),g=s.n(v),_=s(1),k=s.n(_),b=(s(51),function(){function t(e,s){g()(this,t),this.text=e,this.id=s}return k()(t,[{key:"isEqual",value:function(t){return this.text===t.text&&(!t.id||this.id===t.id)}}]),t}()),y=function(){function t(e){g()(this,t),this.name=e}return k()(t,[{key:"setMeta",value:function(t,e){}},{key:"_isGreaterThanInt",value:function(t,e){if(""===t||null===t||void 0===t)return!1;var s=+t;return!(m()(s)||!f()(s))&&s>e}},{key:"isValid",get:function(){return!0}}],[{key:"hasParameters",value:function(t){return d()(t).length>1}}]),t}(),w=function(t){function e(t,s){g()(this,e);var n=r()(this,(e.__proto__||a()(e)).call(this,C.EVENT.fixation));return n.words=t,n.duration=s,n}return u()(e,t),k()(e,[{key:"isValid",get:function(){return this.words&&this.words.length>0&&this._isGreaterThanInt(this.duration,100)}}]),e}(y),x=function(t){function e(t){g()(this,e);var s=r()(this,(e.__proto__||a()(e)).call(this,C.EVENT.delay));return s.duration=t,s}return u()(e,t),k()(e,[{key:"isValid",get:function(){return this._isGreaterThanInt(this.duration,0)}}]),e}(y),C=function(){function t(e){var s=e.src,n=e.page,i=e.location,a=e.offset,o=e.keepOriginalSize,r=e.on,l=e.off;g()(this,t),this.src=s,this.page=n,this.location=i,this.offset=a||0,this.keepOriginalSize=!!o,this.on=r,this.off=l,this.file=null}return k()(t,[{key:"meta",get:function(){var t={page:this.page,location:this.location,offset:this.offset,keepOriginalSize:this.keepOriginalSize};return this.on.setMeta(t,"on"),this.off.setMeta(t,"off"),t}}],[{key:"getNameFromSource",value:function(t){var e=t.split("_");return e.shift(),e.join("_").split("?")[0]}},{key:"generatePrefix",value:function(){return n()+"_"}},{key:"from",value:function(e,s){return s=s||{ignoreDisplayCondition:!1},new t({src:e.src,page:-1,location:e.location,offset:e.offset,keepOriginalSize:e.keepOriginalSize,on:new y(s.ignoreDisplayCondition?t.EVENT.none:e.on),off:new y(e.off)})}},{key:"nameFromURL",value:function(t){return decodeURIComponent(t).split("/").pop()}},{key:"urlFromName",value:function(t){if(t.startsWith("https://"))return t;return"https://firebasestorage.googleapis.com/v0/b/eye-school-test.appspot.com/o/image%2F"+t}},{key:"EVENT",get:function(){return{none:"none",fixation:"fixation",image:"image",delay:"delay"}}}]),t}()},,,,,function(t,e,s){"use strict";e.a={data:function(){return{showError:0,errorMessage:""}},methods:{setError:function(t,e){t.message&&(t=t.message),this.errorMessage=e?e+":\n\n"+t:t,this.showError=Math.random()}}}},function(t,e,s){"use strict";function n(t){return m()(t).constructor}var i=s(54),a=s.n(i),o=s(64),r=s.n(o),l=s(79),u=s.n(l),c=s(0),d=s.n(c),h=s(1),f=s.n(h),p=s(10),m=s.n(p),v=s(219),g=s(43),_=s(9),k=(s(35),s(24),s(158)("./db.development.js").config);console.log("Connecting to "+k.projectId);var b=function(){function t(){var e=this;if(d()(this,t),this._connected=!1,this.fb=null,this.storage=null,this.auth=null,this._user=null,this.ignoreUserSwitch=!1,this.currentPassword="",!window.firebase)return void window.alert("Cannot access Firebase");firebase.apps.length?firebase.apps[0].delete().then(function(){e._init(firebase.initializeApp(k))}).catch(function(t){console.log("@/db/db.js/.ctor firebase.App.delete",t)}):this._init(firebase.initializeApp(k))}return f()(t,[{key:"_init",value:function(t){this.fb=firebase.database(t).ref(),this.storage=firebase.storage().ref(),this.auth=firebase.auth(),this.auth.onAuthStateChanged(this._onUserChanged.bind(this))}},{key:"logIn",value:function(t,e,s){var n=this;return this.fb||s(new Error("Not connected to the database")),t.indexOf("@")<0&&(t+=this.FAKE_EMAIL_DOMAIN),this.auth.signInWithEmailAndPassword(t,e).then(function(t){n.currentPassword=e,s(null,t)}).catch(function(t){s(t)})}},{key:"logOut",value:function(){this.auth&&this.auth.signOut()}},{key:"resetPassword",value:function(t,e){return this.auth.sendPasswordResetEmail(t).then(function(t){e(null)}).catch(function(t){e(t)})}},{key:"add",value:function(t,e,s){var n=this;if(t.validate&&!t.validate(e)){var i=u()(e);return i=i.substr(0,Math.min(i.length,50)),s(new Error("INTERNAL: "+i+"\" is not of a class '"+t.name+"'"))}if(e.email){this.ignoreUserSwitch=!0;var a=e.password||"gdfvgdfv";delete e.password,this.auth.createUserWithEmailAndPassword(e.email,a).then(function(i){e.email.indexOf("@")>0&&e.email.indexOf(n.FAKE_EMAIL_DOMAIN)<0&&setTimeout(function(){n.auth.sendPasswordResetEmail(e.email)},1e3);var a=n.fb.child(t.db).push(e),o={};o[i.uid]={path:t.db,id:a.key,prefs:new g.a},n.fb.child("users").update(o),s(null,a.key)}).catch(function(t){s(t)})}else{var o=this.fb.child(t.db).push(e);s(null,o.key)}}},{key:"update",value:function(t,e,s){var n={};return n[t]=e,this.fb.update(n,s)}},{key:"updateField",value:function(t,e,s,i){var a={};return a["/"+n(t).db+"/"+t.id+"/"+e]=s,this.fb.update(a,i)}},{key:"updateFields",value:function(t,e,s){var i={};if(e instanceof Array)e.forEach(function(e){i["/"+n(t).db+"/"+t.id+"/"+e.field]=e.value});else for(var a in e)i["/"+n(t).db+"/"+t.id+"/"+a]=e[a];return this.fb.update(i,s)}},{key:"setField",value:function(t,e,s,i){return this.fb.child("/"+n(t).db+"/"+t.id).child(e).set(s,i)}},{key:"get",value:function(t,e,s){return this.fb.child(t.db+"/"+e).once("value",function(n){if(!n.exists())return s(new Error("INTERNAL: "+t.db+"/"+e+" do not exist"));s(null,t.from(n))},function(t){s(t)})}},{key:"getFromIDs",value:function(t,e,s){var n=this,i=[],a=[],o=[];return this._toArray(e).forEach(function(e){var s=n.fb.child(t.db+"/"+e);a.push(s.once("value",function(s){if(!s.exists())return void o.push(t.db+"/"+e);i.push(t.from(s))},function(t){o.push(t)}))}),r.a.all(a).then(function(t){s(o.join(", "),i)})}},{key:"getFieldAll",value:function(t,e,s){return this.fb.child(t).once("value",function(t){var n=[];t.forEach(function(t){n.push(e.from(t))}),s(null,n)},function(t){s(t)})}},{key:"getAll",value:function(t,e){return this.fb.child(t.db).once("value",function(s){if(!s.exists())return e(null,[]);var n=[];s.forEach(function(e){n.push(t.from(e))}),e(null,n)},function(t){e(t)})}},{key:"deleteItems",value:function(t,e){var s=this,n=[];return this._toArray(e).forEach(function(e){var i=s.fb.child(t.db+"/"+e);n.push(i.remove())}),r.a.all(n)}},{key:"delete",value:function(t,e){return this.fb.child(n(t).db+"/"+t.id).remove().then(function(){return e()}).catch(function(t){return e(t)})}},{key:"deleteField",value:function(t,e,s){return this.fb.child(n(t).db+"/"+t.id+"/"+e).remove().then(function(){return s()}).catch(function(t){return s(t)})}},{key:"deleteUser",value:function(t){return this.fb.child("users").orderByChild("id").equalTo(t).once("value",function(t){t.exists()&&t.forEach(function(t){t.ref.remove()})},function(t){console.log("@/db/db.js/.deleteUser firebase.Query.once",t)})}},{key:"uploadFile",value:function(t,e,s,n,i){var a="file";/image\//.test(t.type)?a="image":/audio\//.test(t.type)&&(a="sound");var o=s?{customMetadata:s}:void 0,r=this.storage.child(a+"/"+e+t.name).put(t,o);return r.on("state_changed",function(t){t.state===firebase.storage.TaskState.PROGRESS&&n&&n(t.bytesTransferred/t.totalBytes*100)},function(t){i(t)},function(t){i(null,r.snapshot.downloadURL)}),r.then().catch(function(t){i(t)})}},{key:"uploadAudio",value:function(t,e,s,n){var i=this.storage.child("sound/"+e).put(t);return i.on("state_changed",function(t){t.state===firebase.storage.TaskState.PROGRESS&&s&&s(t.bytesTransferred/t.totalBytes*100)},function(t){n(t)},function(t){n(null,i.snapshot.downloadURL)}),i.then().catch(function(t){n(t)})}},{key:"deleteFile",value:function(t,e){var s=new window.URL(t).pathname.split("/"),n=s[s.length-1];return n?this.storage.child(decodeURIComponent(n)).delete().then(function(t){return e()}).catch(function(t){return e(t)}):e(new Error("INTERNAL: invalid url"))}},{key:"_onUserChanged",value:function(t){var e=this;if(_.a.$emit("connected",{user:t}),this._connected=!0,t){if(this.ignoreUserSwitch)return this.ignoreUserSwitch=!1,void setTimeout(function(){e.auth.signInWithEmailAndPassword(e.user.email,e.currentPassword).catch(function(t){t&&console.log("@/db/db.js/._onUserChanged firebase.Auth.signInWithEmailAndPassword",t),e.logOut()})},100);this.fb.child("users/"+t.uid).once("value",function(s){var n=new g.b(s.val(),t.uid,"d1wjPNPQ0CVOssWFwqSm1r1inC62"===t.uid);v.a.create(t,n,function(t,s){t&&e.logOut(),e._user=s,_.a.$emit("login")})})}else this._user&&(this._user=null,_.a.$emit("logout"))}},{key:"_toArray",value:function(t){var e=void 0;if(t instanceof Array)e=t;else if("object"===(void 0===t?"undefined":a()(t))){e=[];for(var s in t)e.push(s)}else e="boolean"==typeof t||"number"==typeof t||"string"==typeof t?[t]:[];return e}},{key:"FAKE_EMAIL_DOMAIN",get:function(){return"@fake.com"}},{key:"user",get:function(){return this._user}},{key:"isConnected",get:function(){return this._connected}}]),t}(),y=new b;e.a=y},function(t,e,s){s(347);var n=s(2)(s(205),s(437),"data-v-8df17170",null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(24),p=s(18),m=(s(59),function(t){function e(t){o()(this,e);var s=c()(this,(e.__proto__||i()(e)).call(this,t));return s.owner="",s.name="",s.calibInstruction="",s.startInstruction="",s.firstPage=[],s}return h()(e,t),l()(e,[{key:"textsSummary",value:function(){function t(t){t=t.replace(/\n/g," ");var e=t.length;if(e>i){var a=t.indexOf(" ",s),o=t.slice(0,-n).lastIndexOf(" ");t=t.substr(0,a)+" ... "+t.slice(-e+o)}return t}var e=[],s=40,n=20,i=s+n;return this.calibInstruction&&e.push(t(this.calibInstruction)),this.startInstruction&&e.push(t(this.startInstruction)),this.firstPage&&this.firstPage[0]&&e.push(t(this.firstPage.join(" "))),e.join("\n")}},{key:"firstPageAsText",value:function(){return this.firstPage?this.firstPage.join("\n"):""}},{key:"update",value:function(t,s,n){this.name=t;var i=e.validateTexts(s);return this.calibInstruction=i.calibInstruction,this.startInstruction=i.startInstruction,this.firstPage=i.firstPage,i.name=t,p.a.updateFields(this,i,n)}}],[{key:"validateTexts",value:function(t){return t?{calibInstruction:t.calibInstruction||"",startInstruction:t.startInstruction||"",firstPage:t.firstPage?t.firstPage.split("\n").map(function(t){return t.trim()}):[]}:{calibInstruction:"",startInstruction:"",firstPage:[]}}},{key:"db",get:function(){return"intros"}}]),e}(f.a));e.a=m,f.a.apply(m)},function(t,e,s){"use strict";var n=s(65),i=s.n(n),a=s(10),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=s(14),h=s.n(d),f=s(13),p=s.n(f),m=s(24),v=(s(59),s(6)),g=s(5),_=s(18),k=function(t){function e(t){l()(this,e);var s=h()(this,(e.__proto__||o()(e)).call(this,t));return s.name="",s.owner="",s.tasks={},s.students={},s}return p()(e,t),c()(e,[{key:"createTask",value:function(t,e,s){var n=this;t.syllab.exceptions=v.a.textToSyllabs(t.syllabExceptions);var i={name:t.name,owner:this.owner,cls:this.id,type:e,alignment:t.alignment,fontname:t.fontname,intro:t.intro,pages:v.a.textToPages(t.text),syllab:t.syllab,speech:t.speech,questionnaire:t.questionnaire,useTimeout:t.useTimeout,timeout:t.timeout,recordAudio:t.recordAudio};return v.a.embedImagesIntoPages(i.pages,t.images),_.a.add(v.a,i,function(e,i){if(e)return s(e);n.tasks[i]=t.name,_.a.updateField(n,"tasks/"+i,t.name,function(t){t&&delete n.tasks[i],s(t,i)})})}},{key:"getTasks",value:function(t){return _.a.getFromIDs(v.a,this.tasks,t)}},{key:"deleteTask",value:function(t,e){var s=this;delete this.tasks[t.id],_.a.deleteField(this,"tasks/"+t.id,e),_.a.getFromIDs(g.a,this.students,function(e,n){if(e)return console.error(e);n.forEach(function(e){g.a.MULTICLASS?t.id in e.assignments&&e.removeAssignment(t.id,function(t){if(t)return console.error(t)}):e.assignments[s.id]===t.id&&e.setAssignment(s.id,null,function(t){if(t)return console.error(t)})})}),t.deleteAllImages(function(t){t&&console.error(t)}),_.a.delete(t,function(t){t&&console.error(t)})}},{key:"getStudents",value:function(t){return _.a.getFromIDs(g.a,this.students,t)}},{key:"addStudents",value:function(t,e){var s=this,n=i()({},this.students,t);return _.a.updateField(this,"students",n,function(i){i||(s.students=n,_.a.getFromIDs(g.a,t,function(t,e){if(t)return console.error(t);e.forEach(function(t){t.addClass(s.id,s.name,function(t){if(t)return console.error(t)})})})),e(i)})}},{key:"removeStudent",value:function(t,e){var s=this;return delete this.students[t.id],_.a.deleteField(this,"students/"+t.id,e),_.a.get(g.a,t.id,function(e,n){if(e)return console.error(e);t.removeClass(s.id,function(t){if(t)return console.error(t)}),t.setAssignment(s.id,null,function(t){if(t)return console.error(t)})})}}],[{key:"list",value:function(t){return _.a.getAll(e,t)}},{key:"get",value:function(t,s){return _.a.get(e,t,s)}},{key:"db",get:function(){return"classes"}}]),e}(m.a);e.a=k,m.a.apply(k)},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(24),p=s(25),m=s(5),v=s(20),g=s(21),_=s(6),k=s(18),b=(s(59),function(t){function e(t){o()(this,e);var s=c()(this,(e.__proto__||i()(e)).call(this,t));return s.name="",s.email="",s.school="",s.intros={},s.classes={},s}return h()(e,t),l()(e,[{key:"getSchool",value:function(t){return k.a.get(p.a,this.school,t)}},{key:"createStudent",value:function(t,e){var s=this,n=t.name,i=void 0===n?"":n,a=t.email,o=void 0===a?"":a,r=t.password,l=void 0===r?"":r,u=t.grade,c=void 0===u?"":u;return k.a.add(m.a,{name:i,email:o,password:l,grade:c,school:this.school,classes:{},sessions:{},assignments:{}},function(t,n){if(t)return e(t);k.a.get(p.a,s.school,function(t,s){if(t)return e(t);s.students[n]=i,k.a.updateField(s,"students/"+n,i,function(e){t=e}),e(t,n)})})}},{key:"createIntro",value:function(t,e,s){var n=this,i=v.a.validateTexts(e);return k.a.add(v.a,{name:t,owner:this.id,calibInstruction:i.calibInstruction,startInstruction:i.startInstruction,firstPage:i.firstPage},function(e,i){if(e)return s(e);n.intros[i]=t,k.a.updateField(n,"intros/"+i,t,function(t){t&&delete n.intros[i],s(t)})})}},{key:"getIntros",value:function(t){return k.a.getFromIDs(v.a,this.intros,t)}},{key:"deleteIntro",value:function(t,e){delete this.intros[t.id],k.a.deleteField(this,"intros/"+t.id,e),k.a.getFromIDs(g.a,this.classes,function(e,s){if(e)return console.error(e);s.forEach(function(e){k.a.getFromIDs(_.a,e.tasks,function(e,s){if(e)return console.error(e);s.forEach(function(e){e.intro===t.id&&(e.intro="",k.a.updateField(e,"intro",e.intro,function(t){if(t)return console.error(t)}))})})})}),k.a.delete(t,function(t){t&&console.error(t)})}},{key:"createClass",value:function(t,e){var s=this;return k.a.add(g.a,{name:t,owner:this.id,tasks:{},students:{}},function(n,i){if(n)return e(n);s.classes[i]=t,k.a.updateField(s,"classes/"+i,t,function(t){t&&delete s.classes[i],e(t)})})}},{key:"getClasses",value:function(t){return k.a.getFromIDs(g.a,this.classes,t)}},{key:"deleteClass",value:function(t,e){delete this.classes[t.id],k.a.deleteField(this,"classes/"+t.id,e),k.a.deleteItems(_.a,t.tasks),k.a.getFromIDs(m.a,t.students,function(e,s){if(e)return console.error(e);s.forEach(function(e){e.removeClass(t.id,function(t){if(t)return console.error(t)})})}),k.a.delete(t,function(t){t&&console.error(t)})}}],[{key:"list",value:function(t){return k.a.getAll(e,t)}},{key:"db",get:function(){return"teachers"}},{key:"isLogged",get:function(){return k.a.user&&k.a.user.isTeacher}},{key:"instance",get:function(){return k.a.user&&k.a.user.isTeacher?k.a.user.ref:null}}]),e}(f.a));e.a=b,f.a.apply(b)},,function(t,e,s){"use strict";var n=s(27),i=s.n(n),a=s(235),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=function(){function t(e){l()(this,t),this.id=e}return c()(t,null,[{key:"validate",value:function(t){return!1}},{key:"from",value:function(t){return null}},{key:"apply",value:function(t){t.validate=function(e){return o()(new t.prototype.constructor).every(function(t){return"id"===t||!!e.hasOwnProperty(t)})},t.from=function(e){var s=e.val(),n=new t(e.key);return i()(n,s)}}},{key:"db",get:function(){return""}}]),t}();e.a=d},function(t,e,s){"use strict";var n=s(64),i=s.n(n),a=s(44),o=s.n(a),r=s(10),l=s.n(r),u=s(0),c=s.n(u),d=s(1),h=s.n(d),f=s(14),p=s.n(f),m=s(13),v=s.n(m),g=s(24),_=s(22),k=s(5),b=s(21),y=s(18),w=(s(59),function(t){function e(t){c()(this,e);var s=p()(this,(e.__proto__||l()(e)).call(this,t));return s.name="",s.email="",s.teachers={},s.students={},s}return v()(e,t),h()(e,[{key:"createTeacher",value:function(t,e,s){var n=this;return y.a.add(_.a,{name:t,email:e,school:this.id,intros:{},classes:{}},function(e,i){e||(n.teachers[i]=t,y.a.updateField(n,"teachers/"+i,t,function(t){t&&delete n.teachers[i],e=t})),s(e,i)})}},{key:"getTeachers",value:function(t){return y.a.getFromIDs(_.a,this.teachers,function(e,s){if(e)return t(e);t(null,s)})}},{key:"createStudent",value:function(t,e){var s=this,n=t.name,i=void 0===n?"":n,a=t.email,o=void 0===a?"":a,r=t.password,l=void 0===r?"":r,u=t.grade,c=void 0===u?"":u;return y.a.add(k.a,{name:i,email:o,password:l,grade:c,school:this.id,classes:{},sessions:{},assignments:{}},function(t,n){t||(s.students[n]=i,y.a.updateField(s,"students/"+n,i,function(e){e&&delete s.students[n],t=e})),e(t,n)})}},{key:"getStudents",value:function(t){return y.a.getFromIDs(k.a,this.students,function(e,s){if(e)return t(e);t(null,s)})}},{key:"deleteStudent",value:function(t,e){delete this.students[t.id];var s=function(t){t&&console.log("@/model/school.js/.deleteStudent db.updateField",t)};return y.a.updateField(this,"students",this.students,function(n){if(n)return e(n);if(y.a.updateField(t,"deleted",!0,s),t.assignments&&(t.assignments={},y.a.updateField(t,"assignments",{},s)),t.classes){var a=[];o()(t.classes).map(function(e){a.push(b.a.get(e,function(e,n){e||(delete n.students[t.id],y.a.updateField(n,"students",n.students,s))}))}),t.classes={},y.a.updateField(t,"classes",{},s),i.a.all(a).then(function(){e(null)}).catch(function(t){e(t)})}})}}],[{key:"list",value:function(t){return y.a.getAll(e,t)}},{key:"get",value:function(t,s){return y.a.get(e,t,s)}},{key:"db",get:function(){return"schools"}},{key:"isLogged",get:function(){return y.a.user&&y.a.user.isSchool}},{key:"instance",get:function(){return y.a.user&&y.a.user.isSchool?y.a.user.ref:null}}]),e}(g.a));e.a=w,g.a.apply(w)},function(t,e,s){"use strict";s.d(e,"a",function(){return u});var n=s(1),i=s.n(n),a=s(0),o=s.n(a),r=function t(e,s){o()(this,t),this.name=e,this.text=s},l={text:new r("text","whole text"),word:new r("word","long-gazed word")},u=function(){function t(e,s,n,i){o()(this,t),this.type=e,this.word=s,this.question=n,this.answers=i,this.answer=null}return i()(t,null,[{key:"types",get:function(){return l}}]),t}()},,,function(t,e,s){s(306);var n=s(2)(s(192),s(400),"data-v-0c2f8a1e",null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(78),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(89),c=(s(88),s(50),s(90),s(51),".word"),d=function(){function t(){o()(this,t),this.text=u.a.fromAll(c),this.words=[],this.fixations=[],this.syllabifications=[],this.speech=[],this.images=[],this.isIntro=!1,this.audio=null,this.ts=0}return l()(t,[{key:"filterFixations",value:function(t){var e=[],s=null,n=0,i=0,a=!0;this.fixations.forEach(function(o){s&&s.ts!==o.ts&&(s.tsSync=i,e.push(s),s=null),!a&&o.duration>=t&&(s=o),n!==o.ts&&(o.duration<t&&(a=!1),n=o.ts,i=o.tsSync)}),s&&(s.tsSync=i,e.push(s)),this.fixations=e}},{key:"setWords",value:function(t){var e=[],s=!0,n=!1,a=void 0;try{for(var o,r=i()(t.values());!(s=(o=r.next()).done);s=!0){var l=o.value;e.push(l)}}catch(t){n=!0,a=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw a}}this.words=e}}]),t}();e.a=d},,,,function(t,e,s){"use strict";e.a={data:function(){return{showSuccess:0,successMessage:""}},methods:{setSuccess:function(t){this.successMessage=t,this.showSuccess=Math.random()}}}},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=(s(43),s(48),s(25),s(22),s(5),function(){function t(e,s){i()(this,t),e&&(this._user=s,this.name=e.displayName||e.email,this.email=e.email,this._ref=null)}return o()(t,[{key:"update",value:function(t){this._user.update(t)}},{key:"ref",get:function(){return this._ref}},{key:"prefs",get:function(){return this._user.prefs}},{key:"isAdmin",get:function(){return!1}},{key:"isSchool",get:function(){return!1}},{key:"isTeacher",get:function(){return!1}},{key:"isStudent",get:function(){return!1}}]),t}());e.a=r},function(t,e,s){"use strict";function n(t,e){return function(s){var n=t.split(".");if(void 0===s){var i=e;return n.forEach(function(e){i||console.error("Option GET: Path '"+t+" has no match in receiver"),i=i[e]}),i}for(var a=e,o=0;o<n.length-1;o++)a||console.error("Option SET: Path '"+t+" has no match in receiver"),a=a[n[o]];a[n[n.length-1]]=s}}function i(t,e,s,n){var a=e[s];for(var o in a)if("object"===a[o])i(t,a,s+"."+o,n);else{var r="_"===o[0]?o.substr(1):o,l="_"===s[0]?s.substr(1):s;n&&(l=n+"."+l),t[l+"."+r]=a[o]}}function a(t,e){for(var s in t)"object"===r()(t[s])?a(t[s],e[s]):e[s].ref(t[s])}s.d(e,"c",function(){return h}),s.d(e,"b",function(){return f}),s.d(e,"a",function(){return p});var o=s(54),r=s.n(o),l=s(1),u=s.n(l),c=s(0),d=s.n(c),h=function t(e){var s=e.type,n=e.label,i=e.items,a=void 0===i?[""]:i,o=e.step,r=void 0===o?0:o;d()(this,t),this.type=s,this.label=n,this.items=a,this.step=r,this.min=void 0,this.max=void 0,this.ref=void 0},f=function t(e){var s=e.id,n=void 0===s?"":s,i=e.title,a=void 0===i?"":i,o=e.options,r=void 0===o?{}:o,l=e.defaults,u=void 0===l?[{}]:l;d()(this,t),this.title=a,this.options=r,this.defaults=u,this.id=n},p=function(){function t(){d()(this,t)}return u()(t,null,[{key:"createOptions",value:function(e,s){var i=void 0;if(e instanceof Array)i=e.map(function(e){return new f({title:e.title,options:t.createOptions(e.options,s),defaults:e.defaults})});else{for(var a in e)e[a].ref=n(a,s);i=e}return i}},{key:"createDefaults",value:function(t,e,s){var n={};for(var a in t){var o="_"===a[0]?a.substr(1):a;e&&!e.includes(o)||("object"===r()(t[a])?i(n,t,a,s):(s&&(o=s+"."+o),n[o]=t[a]))}return n}},{key:"restoreDefaults",value:function(e){var s=function(e){e.defaults?a(e.defaults,e.options):Array.isArray(e.options)&&t.restoreDefaults(e.options)};if(Array.isArray(e))e.forEach(s);else for(var n in e)s(e[n])}}]),t}()},,,,,,,function(t,e,s){"use strict";s.d(e,"a",function(){return m}),s.d(e,"b",function(){return v});var n=s(10),i=s.n(n),a=s(1),o=s.n(a),r=s(14),l=s.n(r),u=s(13),c=s.n(u),d=s(0),h=s.n(d),f=s(24),p=s(18),m=function t(e){h()(this,t),this.lang=e?e.lang:"en"},v=function(t){function e(t,s,n){h()(this,e);var a=l()(this,(e.__proto__||i()(e)).call(this,t?t.id:n?"admin":""));return a.uid=s,a.path=t?t.path:"",a.prefs=t?t.prefs:null,a.prefs||(a.prefs=new m),a}return c()(e,t),o()(e,[{key:"update",value:function(t){p.a.update("/"+e.db+"/"+this.uid+"/prefs",this.prefs,t)}}],[{key:"db",get:function(){return"users"}}]),e}(f.a)},,,,,function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(25),l=s(18),u=(s(5),s(22),function(){function t(){i()(this,t),this.name="Admin"}return o()(t,null,[{key:"createSchool",value:function(t,e,s){return l.a.add(r.a,{name:t,email:e,teachers:{},students:{}},function(t,e){s(t,e)})}},{key:"moveStudent",value:function(e,s,n,i){return t.move(e,s,n,"students",i)}},{key:"moveTeacher",value:function(e,s,n,i){return t.move(e,s,n,"teachers",i)}},{key:"move",value:function(t,e,s,n,i){var a=t.school;return t.school=e,l.a.updateField(t,"school",e,function(o){if(o)return t.school=a,i(o);var r=s.find(function(t){return t.id===a}),u=s.find(function(t){return t.id===e});delete r[n][t.id],u[n][t.id]=t.name,l.a.updateField(u,n+"/"+t.id,t.name,function(e){if(e)return i(e);l.a.deleteField(r,n+"/"+t.id,function(t){if(t)return i(t);i(null)})})})}},{key:"isLogged",get:function(){return l.a.user&&l.a.user.isAdmin}}]),t}());e.a=u},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(24),p=(s(30),s(26),function(t){function e(t){o()(this,e);var s=c()(this,(e.__proto__||i()(e)).call(this,t));return s.task=null,s.student=null,s.pages=null,s.questionnaire=null,s}return h()(e,t),l()(e,null,[{key:"db",get:function(){return"data"}}]),e}(f.a));e.a=p,f.a.apply(p)},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(e,s,n,a,o){i()(this,t),this.ts=e,this.tsSync=s,this.x=n,this.y=a,this.duration=o}return o()(t,null,[{key:"from",value:function(e,s){return new t(e.ts,s,Math.round(e.x),Math.round(e.y),e.duration)}}]),t}();e.a=r},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=(s(12),function(){function t(e,s){i()(this,t),this.src=e.src,this.location=e.location,this.offset=e.offset||0,this.keepOriginalSize=!!e.keepOriginalSize,this.on=e.on.name,this.off=e.off.name,this.shown=s,this.hidden=0}return o()(t,[{key:"hide",value:function(t){this.hidden=t}},{key:"isCurrent",get:function(){return!this.hidden}}]),t}());e.a=r},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(74),s(129),function t(e,s,n){i()(this,t),this.name=e,this.records=s,this.params=n});e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(60),s(5),s(21),s(76),function t(e,s,n,a){i()(this,t),this.ref=e,this.student=s,this.task=n,this.cls=a});e.a=a},,,,,function(t,e,s){s(327);var n=s(2)(s(194),s(419),"data-v-57815d2f",null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(0);s.n(n),s(8),s(12)},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(24),p=(s(73),s(8),s(93),function(t){function e(t){o()(this,e);var s=c()(this,(e.__proto__||i()(e)).call(this,t));return s.date=(new Date).toJSON(),s.student="",s.cls="",s.task="",s.font=null,s.feedbacks=null,s.screen=null,s.data="",s.files=[],s}return h()(e,t),l()(e,null,[{key:"db",get:function(){return"sessions"}}]),e}(f.a));e.a=p,f.a.apply(p)},function(t,e,s){"use strict";var n=s(37),i=s.n(n),a=s(44),o=s.n(a),r=s(65),l=s.n(r),u=s(0),c=s.n(u),d=s(1),h=s.n(d),f=s(124),p=s(7),m=s(227),v=(s(95),s(8),s.i(m.a)("syllabifier")),g=function(){function t(e){c()(this,t),this._options=l()({},e),this._options.threshold.factor=4,this._hyphen=t.MODES.hyphen,this._hyphenHtml='<span class="hyphen">'+this._hyphen+"</span>",this._rule=_[p.a.convertLegacy(this._options.language)],this._exceptions={};for(var s in this._options.exceptions)this._exceptions[s.toLowerCase()]=this._options.exceptions[s].replace(/ /g,this._hyphen).toLowerCase();v.info("created",e)}return h()(t,[{key:"prepareWord",value:function(t){if(!t||!this._rule||"hyphen"!==this._options.mode)return t;v.info("preparing");var e=this.syllabifyWord(t,this._hyphen),s=e.length-t.length,n=Math.round(s/2);return'<span class="hyphens">'+Array(n+1).join(this._hyphen)+"</span>"+t+'<span class="hyphens">'+Array(s-n+1).join(this._hyphen)+"</span>"}},{key:"prepareText",value:function(t){var e=this;return this._rule&&"hyphen"===this._options.mode?t.map(function(t){return t.split(" ").map(function(t){return t.toLowerCase()}).map(e.prepareWord).join(" ")}):t}},{key:"unprepare",value:function(t){return t.replace(new RegExp(this._hyphen,"g"),"")}},{key:"inspect",value:function(t,e){var s=this;if(!this._rule)return!1;var n=this._options.threshold.value;return this._options.threshold.adjustForWordLength&&(n*=Math.max(1,1+.05*(e.word.length-7))),!e.syllabified&&e.accumulatedTime>n&&(e.syllabified=!0,t.innerHTML=this.syllabifyWord(e.word,this._hyphenHtml),this._options.temporary&&setTimeout(function(){s._restore(t)},3e3),!0)}},{key:"syllabifyElementText",value:function(t,e){return!!this._rule&&(t.innerHTML=this.syllabifyWord(e,this._hyphenHtml),!0)}},{key:"setAvgWordReadingDuration",value:function(t){this._options.threshold.smart&&t&&(this._options.threshold.value=Math.max(this._options.threshold.min,Math.min(this._options.threshold.max,t*this._options.threshold.factor)))}},{key:"syllabifyWord",value:function(t,e){var s=this;v.info("syllabifying",t),"colors"===this._options.mode&&(e=this._hyphen);var n=void 0,i=o()(this._exceptions).find(function(e){return s._isException(t,e)});if(i?(v.info("is exception"),n=this._formatException(t,i,this._exceptions[i],e)):n=this._rule(t,e),"colors"===this._options.mode){var a=n.split(this._hyphen);n=this._colorize(a)}return n}},{key:"getSyllabCount",value:function(t){var e=this;if(!this._rule)return 0;v.info("counting syllab");var s=function(t,s){if(!s)return t;var n=void 0,i=o()(e._exceptions).find(function(t){return e._isException(s,t)});return n=i?e._exceptions[i]:e._rule(s," "),t+n.split(" ").length};return t instanceof Array?t.reduce(function(t,e){return e.split(" ").map(function(t){return t.toLowerCase()}).reduce(s,t)},0):t.split(" ").reduce(s,0)}},{key:"_restore",value:function(t){var e=null;try{e=t.textContent}catch(t){v.error("restoring: element do not exist")}if(v.info("restoring",e),e){var s=e.split(this._hyphen);t.innerHTML=s.join("")}}},{key:"_isException",value:function(t,e){return t.toLowerCase().indexOf(e)>=0}},{key:"_formatException",value:function(t,e,s,n){v.info("params:",t,e,s,n);var a=t.toLowerCase().indexOf(e),o=e.length,r=t.substr(0,a),l=t.substr(a+o),u=i()(s);v.info("info:",a,o,r,l);for(var c=a,d=0;c<a+o;c++){var h=t.charAt(c);for(h===h.toUpperCase()&&(u[d]=h);u[++d]===this._hyphen;);}var f=u.join("");if(this._hyphen!==n){var p=new RegExp(this._hyphen,"g");f=f.replace(p,n)}return r+f+l}},{key:"_colorize",value:function(e){var s=t.MODES.colors,n=0;return e.map(function(t){var e='<span style="color: '+s[n]+'">'+t+"</span>";return++n===s.length&&(n=0),e}).join("")}},{key:"enabled",get:function(){return!!this._rule}},{key:"setup",get:function(){return new f.a(l()({},this._options,{hyphen:this._hyphen,enabled:!!this._rule}))}}],[{key:"getPrefixAndSuffix",value:function(t,e){for(var s=i()(t),n=[],a=[],o=0;o<s.length&&s[o++]===e;)n.push(e);for(o=s.length-1;o>=0&&s[o--]===e;)a.push(e);return[n.join(""),a.join("")]}},{key:"MODES",get:function(){return{hyphen:String.fromCharCode(183),colors:["black","red"]}}},{key:"LANGS",get:function(){return o()(_)}}]),t}();e.a=g;var _={Suomi:function(t,e){for(var s=["a","o","u","i","e","ä","ö","y"],n=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","z"],i=["ai","ei","oi","ui","yi","äi","öi","au","eu","iu","ou","ey","iy","äy","öy","ie","uo","yö"],a=function(t){return s.includes(t)?"V":n.includes(t)?"C":"_"},o=[],r=!1,l=0,u=t.length-1;u>=0;u--){var c=!1,d=t[u],h=a(d),f=u>0?t[u-1]:null,p=f?a(f):"_";if("V"===h){if(r=!0,l++,u<t.length-1){var m=t[u+1],v=a(m);m===d||v!==h||i.includes(d+m)?"i"===d&&"e"===o[0]&&"n"===o[1]?(o.unshift(e),l=0):3===l&&(o.unshift(e),l=0):(o.unshift(e),l=0)}}else"C"===h&&r&&(l=0,c=u>0,1===u&&p===h&&(c=!1));o.unshift(d),c&&("_"!==h&&"_"!==p&&o.unshift(e),r=!1)}return o.join("")}}},function(t,e,s){"use strict";var n=s(44),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u={started:{},stopped:{},stateUpdated:{},wordFocused:{},wordLeft:{},gazePoint:{},customValue:{}},c={started:null,stopped:null,stateUpdated:null,wordFocused:null,wordLeft:null,gazePoint:null,customValue:null};for(var d in c)!function(t){c[t]=function(e){for(var s in u[t])u[t][s](e)}}(d);var h={},f=function(){function t(){var e=this;o()(this,t),this._serviceCheckTimer=null,this._wsOK=GazeTargets.init({etudPanel:{show:!1},pointer:{show:!1},targets:[{selector:".word",selection:{type:GazeTargets.selection.types.none},mapping:{className:""}}],mapping:{type:GazeTargets.mapping.types.expanded,source:GazeTargets.mapping.sources.samples,expansion:30}},{state:function(t){h=t,t.isTracking?c.started():t.isStopped&&c.stopped(),c.stateUpdated(t),t.isDisconnected&&e.scheduleReconnection()},target:function(t,e){"focused"===t?c.wordFocused(e):"left"===t&&c.wordLeft(e)},fixation:function(t){c.gazePoint(t)},customValue:function(t,e){c.customValue({code:t,value:e})}})}return l()(t,[{key:"listCallbacks",value:function(){return i()(c)}},{key:"setCallback",value:function(t,e,s){u[t][e]=s}},{key:"clearCallback",value:function(t,e){delete u[t][e]}},{key:"showOptions",value:function(){GazeTargets.ETUDriver.showOptions()}},{key:"calibrate",value:function(){GazeTargets.ETUDriver.calibrate()}},{key:"start",value:function(){h.isTracking||GazeTargets.ETUDriver.toggleTracking()}},{key:"stop",value:function(){h.isTracking&&GazeTargets.ETUDriver.toggleTracking()}},{key:"updateTargets",value:function(){GazeTargets.updateTargets()}},{key:"scheduleReconnection",value:function(){var t=this;this._serviceCheckTimer||(this._serviceCheckTimer=setTimeout(function(){t._serviceCheckTimer=null,h.isServiceRunning||(t.wsOK=GazeTargets.reconnect())},3e3))}},{key:"getCustomValue",value:function(t,e){var s=""+Math.random();u.customValue[s]=function(t){delete u.customValue[s],e(null,t)},GazeTargets.ETUDriver.getCustomValue(t)}},{key:"setCustomValue",value:function(t,e){GazeTargets.ETUDriver.setCustomValue(t,e)}},{key:"listCustomValueTypes",value:function(){return GazeTargets.ETUDriver.listAvailableCustomValue()}},{key:"isWebSocketOK",get:function(){return this._wsOK}},{key:"state",get:function(){return h}}]),t}(),p=new f;e.a=p},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(18),l=(s(35),function(){function t(){i()(this,t)}return o()(t,[{key:"logIn",value:function(t,e,s){return r.a.logIn(t,e,s)}},{key:"logOut",value:function(){r.a.logOut()}},{key:"resetPassword",value:function(t,e){return r.a.resetPassword(t,e)}},{key:"user",get:function(){return r.a.user}},{key:"isConnected",get:function(){return r.a.isConnected}},{key:"DEFAULT_EMAIL_DOMAIN",get:function(){return r.a.FAKE_EMAIL_DOMAIN}}]),t}()),u=new l;e.a=u},,,,,,,,function(t,e,s){s(336);var n=s(2)(s(188),s(427),"data-v-65739ed1",null);t.exports=n.exports},function(t,e,s){s(356);var n=s(2)(s(197),s(447),"data-v-fc7e7726",null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(e,s,n,a){i()(this,t),this.family=e,this.size=s,this.style=n,this.weight=a}return o()(t,null,[{key:"from",value:function(e){return new t(e["font-family"],e["font-size"],e["font-style"],e["font-weight"])}}]),t}();e.a=r},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(53),s(76),s(21),s(49),s(5),s(60),function t(e,s){i()(this,t),this.student=e.student,this.session=e.ref,this.task=e.task,this.cls=e.cls,this.data=s.find(function(t){return t.id===e.ref.data})});e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(5),s(53),function t(e){i()(this,t),this.ref=e,this.sessions=[]});e.a=a},function(t,e,s){"use strict";var n=s(101),i=s.n(n),a=s(0),o=s.n(a),r=s(6),l=(s(53),s(75),function t(e,s){var n=this;o()(this,t),this.id=e,this.name=s,this.students=new i.a,this.sessions=[],this.hasQuestionnaire=!1,this.hasAudio=!1,r.a.get(e,function(t,e){t?console.error("@/vis/datal/task.js/.ctor model/Task.get",t):(n.hasQuestionnaire=e.questionnaire&&e.questionnaire.length,n.hasAudio=e.recordAudio)})});e.a=l},function(t,e,s){"use strict";function n(t,e){var s=0;return t.focusing&&t.focusing.duration>m&&(s=(t.focusing.duration-m)/(e-m)),s}function i(t,e){var s=0;return t.reading&&t.reading.charSpeed>0&&(s=1-t.reading.charSpeed/e),s}function a(t,e){var s=0;return t.focusing&&t.focusing.count>0&&(s=1-t.focusing.count/e),s}var o=s(0),r=s.n(o),l=s(1),u=s.n(l),c=s(31),d=s.n(c),h=s(9),f=s(3),p=s.i(f.b)("vis"),m=100,v={NONE:p.item_none,DURATION:p.item_dur,CHAR_SPEED:p.item_char,FOCUS_COUNT:p.item_focus},g=new d.a;g.set(v.NONE,function(){return 0}),g.set(v.DURATION,n),g.set(v.CHAR_SPEED,i),g.set(v.FOCUS_COUNT,a),h.a.$on("login",function(){p=s.i(f.b)("vis"),v={NONE:p.item_none,DURATION:p.item_dur,CHAR_SPEED:p.item_char,FOCUS_COUNT:p.item_focus},g.set(v.NONE,function(){return 0}),g.set(v.DURATION,n),g.set(v.CHAR_SPEED,i),g.set(v.FOCUS_COUNT,a)});var _=function(){function t(){r()(this,t)}return u()(t,null,[{key:"computeRange",value:function(e,s){var n=0;return s===t.Type.NONE?n:(e.forEach(function(e){if(e.focusing){e.reading={charSpeed:1e3*e.text.length/e.focusing.duration,syllableSpeed:1e3*e.text.length/2.5/e.focusing.duration};var i=0;switch(s){case t.Type.DURATION:i=e.focusing.duration;break;case t.Type.CHAR_SPEED:i=e.reading.charSpeed;break;case t.Type.FOCUS_COUNT:i=e.focusing.count}n<i&&(n=i)}}),n)}},{key:"getAlpha",value:function(t,e,s){return(g.get(e)||g.get(v.NONE))(t,s)}},{key:"Type",get:function(){return v}},{key:"Types",get:function(){var t=[];for(var e in v)t.push(v[e]);return t}}]),t}();e.a=_},,,,,,,,,,function(t,e,s){s(331),s(330);var n=s(2)(s(181),s(422),"data-v-5bad2478",null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(91),o=s(223),r=s(222),l=function t(e,s){i()(this,t),this.text=e?e.textContent:"",this.rect=a.a.from(e),this.page=s,this.focusing=new o.a,this.feedback=new r.a};e.a=l},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(91),l=s(122),u=function(){function t(e,s,n,a){i()(this,t),this.id=e,this.text=s,this.rect=n,this.font=a}return o()(t,null,[{key:"from",value:function(e,s){return e?new t(s,e.textContent,r.a.from(e),l.a.fromEl(e)):null}},{key:"fromAll",value:function(e){for(var s=[],n=document.querySelectorAll(e),i=0;i<n.length;i+=1){var a=n.item(i);s.push(t.from(a,i))}return s}}]),t}();e.a=u},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(91),function t(e,s,n){i()(this,t),this.ts=e,this.text=s,this.rect=n});e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(e,s,n,a){i()(this,t),this.x=e,this.y=s,this.width=n,this.height=a}return o()(t,null,[{key:"from",value:function(e){if(!e)return null;var s=e.getBoundingClientRect();return new t(Math.round(s.left),Math.round(s.top),Math.round(s.width),Math.round(s.height))}}]),t}();e.a=r},function(t,e,s){"use strict";s.d(e,"a",function(){return r});var n=s(27),i=s.n(n),a=s(0),o=s.n(a),r=(s(8),function t(e){o()(this,t),this.enabled=e.enabled,this.language=e.language,this.threshold=i()({},e.threshold)})},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(e,s){i()(this,t),this.width=e,this.height=s}return o()(t,null,[{key:"full",get:function(){return new t(window.screen.width,window.screen.height)}}]),t}();e.a=r},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=(s(12),function t(e){i()(this,t),this.id=e,this.lines=[],this.images=[]});e.a=a},function(t,e,s){"use strict";var n=s(37),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=function(){function t(e){o()(this,t),this.accumulatedTime=0,this.focusCount=0,this.focusRecorded=!1,this.entries=1,this.lastSample=window.performance.now(),this.syllabified=!1,this.pronounced=!1,this.word=this._getWordFromElement(e)}return l()(t,[{key:"_getWordFromElement",value:function(t){return i()(t.childNodes).filter(function(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE&&!t.classList.contains("hyphens")}).map(function(t){return t.textContent.trim()}).join("")}}]),t}();e.a=u},function(t,e,s){"use strict";function n(t){t=t.substr(1);var e=3===t.length?1:2,s=parseInt(o(t.substr(0*e,e),3-e),16),n=parseInt(o(t.substr(1*e,e),3-e),16),i=parseInt(o(t.substr(2*e,e),3-e),16),a=255-s,r=255-n,l=255-i,u=Math.min(a,r,l);return a=(a-u)/(255-u),r=(r-u)/(255-u),l=(l-u)/(255-u),{c:a,m:r,y:l,k:u/255}}function i(t){var e=t.c*(1-t.k)+t.k,s=t.m*(1-t.k)+t.k,n=t.y*(1-t.k)+t.k;return e=Math.round(255*(1-e)+.5),s=Math.round(255*(1-s)+.5),n=Math.round(255*(1-n)+.5),"#"+a(e)+a(s)+a(n)}function a(t,e){var s=Number(t).toString(16);for(e=e||0===e?e:2;s.length<e;)s="0"+s;return s}function o(t,e){for(var s="",n=0;n<e;n+=1)s+=t;return s}function r(t){var e=t.toString(16);return 1===e.length?"0"+e:e}function l(t,e,s,n){return{hex:"#"+r(t)+r(e)+r(s),a:void 0===n?1:n}}var u=s(100),c=s.n(u),d=s(0),h=s.n(d),f=s(1),p=s.n(f),m=["#5DA5DA","#FAA43A","#60BD68","#F17CB0","#B2912F","#B276B2","#DECF3F","#4D4D4D","#F15854"],v=function(){function t(){h()(this,t)}return p()(t,null,[{key:"mix",value:function(t){for(var e=0,s=0,a=0,o=0,r=0,l=0;l<t.length;l+=1){var u=n(t[l].color),c=t[l].weight;e+=u.c*c,s+=u.m*c,a+=u.y*c,o+=u.k*c,r+=c}return i({c:e/r,m:s/r,y:a/r,k:o/r})}},{key:"rgb2rgba",value:function(t,e){var s=n(t),i=s.c*(1-s.k)+s.k,a=s.m*(1-s.k)+s.k,o=s.y*(1-s.k)+s.k;return i=Math.round(255*(1-i)),a=Math.round(255*(1-a)),o=Math.round(255*(1-o)),"rgba("+i+","+a+","+o+","+e+")"}},{key:"validateColor",value:function(t){if("#"!==t[0])return"#000000";if(7===t.length)return t;if(4===t.length){var e=t[1],s=t[2],n=t[3];return"#"+e+e+s+s+n+n}return"#000000"}},{key:"cssColorToHex",value:function(t){var e=/^\D+(\d+)\D+(\d+)\D+(\d+)\D*(\d|.+)\D+$/gim,s=e.exec(t);return l(parseInt(s[1]),parseInt(s[2]),parseInt(s[3]),s[4]?parseFloat(s[4]):void 0)}},{key:"hexToRgba",value:function(t,e){return"rgba("+c()(t.substr(1,2),16)+","+c()(t.substr(3,2),16)+","+c()(t.substr(5,2),16)+","+e+")"}},{key:"colors",get:function(){return m}}]),t}();e.a=v},function(t,e,s){"use strict";s.d(e,"a",function(){return g});var n=s(240),i=s.n(n),a=s(27),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=s(61),h=s(77),f=s(96),p=(s(122),s(8),s(73),["rgba(255,0,0,0.5","rgba(255,255,0,0.5","rgba(0,255,0,0.5","rgba(0,255,224,0.5","rgba(0,128,255,0.5","rgba(255,0,255,0.5"]),m=String.fromCharCode(10003),v=String.fromCharCode(9888),g=function(){function t(e,s){l()(this,t),this._width=document.body.offsetWidth,this._height=parseInt(window.getComputedStyle(e).height),e.setAttribute("width",this._width+""),e.setAttribute("height",this._height+""),this._offsetX=0,this._offsetY=0,this._font=null,this._syllabifier=new d.a(s.syllab),this._ctx=e.getContext("2d"),this.clean()}return c()(t,[{key:"clean",value:function(){this._ctx.clearRect(0,0,this._width,this._height)}},{key:"setFont",value:function(t){this._font=t,this._ctx.font=t.style+" "+t.weight+" "+t.size+" "+t.family}},{key:"drawWords",value:function(t,e){var s=this,n=h.a.computeRange(t,e.colorMetric);t.forEach(function(t){var i=o()({alpha:h.a.getAlpha(t,e.colorMetric,n)},e);s._drawWord(t,i)})}},{key:"drawSyllabifications",value:function(t,e){var s=this;t.forEach(function(t){s.drawSyllabification(t,e)})}},{key:"drawSyllabification",value:function(t,e){var s=this._ctx;s.textAlign="start",s.textBaseline="alphabetic";var n=t.rect,i=e.isSyllabified?this._syllabifier.syllabifyWord(t.text,e.hyphen):t.text,a=this._offset(n),o=a.x,r=a.y;s.fillStyle=e.background,s.fillRect(o,r,n.width,n.height),this._autoAdjustFontSize(n.width,t.text);var l=this._offset(n,{dy:.8*n.height}),o=l.x,r=l.y;s.fillStyle=e.wordColor,s.fillText(i,o,r)}},{key:"drawFixations",value:function(t,e){var s=this,n=void 0;t.forEach(function(t){t.x<=0&&t.y<=0||(e.showSaccades&&n&&s._drawSaccade(n,t,e),e.showConnections&&t.word&&s._drawConnection(t,{x:(t.word.left+t.word.right)/2,y:t.word.bottom},{left:t.word.left,right:t.word.right,y:t.word.bottom},e),s._drawFixation(t,e),n=t)})}},{key:"drawNames",value:function(t,e){var s=this._ctx;t.forEach(function(t,n){s.textAlign="left",s.textBaseline="top",s.fillStyle=t.color,s.font="bold "+e.fontSize+"px "+e.fontFamily;var i={x:e.location.x+e.fontSize,y:e.location.y+e.nameSpacing*e.fontSize*n};s.fillText(t.text,i.x,i.y)})}},{key:"checkName",value:function(t,e){var s=this._ctx;s.textAlign="left",s.textBaseline="top",s.strokeStyle="#000",s.fillStyle=t.color;var n=e.isNoData?"Segoe UI":e.fontFamily;s.font="bold "+e.fontSize+"px "+n;var i={x:e.location.x,y:e.location.y+e.nameSpacing*e.fontSize*t.index};s.fillText(e.isNoData?v:m,i.x,i.y)}},{key:"setScreenSize",value:function(t){this._offsetX=(this._width-t.width)/2,this._offsetY=(this._height-t.height)/2}},{key:"_offset",value:function(t){var e=t.x,s=void 0===e?0:e,n=t.y,i=void 0===n?0:n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:0,dy:0},o=a.dx,r=void 0===o?0:o,l=a.dy,u=void 0===l?0:l;return{x:s+this._offsetX+r,y:i+this._offsetY+u}}},{key:"_autoAdjustFontSize",value:function(t,e){var s=e;if(s.font){var n=s.font;this._ctx.font=n.style+" "+n.weight+" "+n.size+" "+this._font.family}else{var i=s.text?s.text:e,a=this._font;this._ctx.font=a.style+" "+a.weight+" "+a.size+" "+a.family;var o=this._ctx.measureText(i),r=t/o.width,l=/(\d+)(\w+)/.exec(a.size),u=(parseFloat(l[1])*r).toFixed(2)+l[2];this._ctx.font=a.style+" "+a.weight+" "+u+" "+this._font.family}}},{key:"_drawWord",value:function(t,e){var s=this._ctx,n=t.rect;this._autoAdjustFontSize(n.width,t);var a=this._offset(n,{dy:.8*n.height}),o=a.x,r=a.y;s.textAlign="start",s.textBaseline="alphabetic",s.fillStyle=t.font?t.font.color:e.wordColor,s.fillText(t.text,o,r),e.alpha>0&&(s.fillStyle=f.a.rgb2rgba(e.wordHighlightColor,e.alpha),s.fillText(t.text,o,r)),s.fillStyle="#fff";var l=d.a.getPrefixAndSuffix(t.text,e.hyphen),u=i()(l,2),c=u[0],h=u[1];if(c&&s.fillText(c,o,r),h){var p=this._offset(n,{dx:n.width,dy:.8*n.height}),m=p.x,v=p.y;s.textAlign="end",s.fillText(h,m,v)}if(e.drawWordFrame){var g=this._offset(n),_=g.x,k=g.y;s.strokeStyle=e.wordRectColor,s.lineWidth=1,s.strokeRect(_,k,n.width,n.height)}}},{key:"_drawSaccade",value:function(t,e,s){var n=this._ctx;n.strokeStyle=e.isRegression?s.regressionColor:s.saccadeColor,n.beginPath();var i=this._offset(t),a=i.x,o=i.y;n.moveTo(a,o);var r=this._offset(e),a=r.x,o=r.y;n.lineTo(a,o),n.stroke()}},{key:"_drawConnection",value:function(t,e,s,n){var i=this._ctx;i.strokeStyle=n.connectionColor,i.beginPath();var a=this._offset(t),o=a.x,r=a.y;i.moveTo(o,r);var l=this._offset(e),o=l.x,r=l.y;i.lineTo(o,r),i.stroke(),i.strokeStyle=n.connectionColor,i.lineWidth=2,i.beginPath();var u=this._offset({x:s.left,y:s.y}),o=u.x,r=u.y;i.moveTo(o,r);var c=this._offset({x:s.right,y:s.y}),o=c.x,r=c.y;i.lineTo(o,r),i.stroke()}},{key:"_drawFixation",value:function(t,e){var s=this._ctx;void 0!==t.line?s.fillStyle=p[t.line%p.length]:s.fillStyle="rgba(0,0,0,0.5)";var n=Math.round(Math.sqrt(t.duration))/2,i=this._offset(t),a=i.x,o=i.y;s.beginPath(),s.arc(a,o,n,0,2*Math.PI),s.fill(),t.isRegression&&(s.strokeStyle=e.regressionColor,s.stroke()),t.merged&&(s.strokeStyle="#808",s.lineWidth=3,s.beginPath(),s.arc(a,o,n+3,0,2*Math.PI),s.stroke(),s.lineWidth=1)}},{key:"offset",get:function(){return{x:this._offsetX,y:this._offsetY}}}]),t}()},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(3),l=s(36),u=(s(30),{}),c=function(){function t(){i()(this,t)}return o()(t,null,[{key:"initializeSettings",value:function(){var t=void 0;return t=new SGWM.FixationProcessorSettings,u.FixationProcessorSettings=t,t.isInitialized||(t.location.enabled=!0,t.location.marginX=290,t.location.marginY=290,t.duration.enabled=!1,t.save()),t=new SGWM.SplitToProgressionsSettings,u.SplitToProgressionsSettings=t,t.isInitialized||(t.bounds={left:-.5,right:8,verticalChar:2,verticalLine:.6},t.angle=Math.sin(15*Math.PI/180),t.save()),t=new SGWM.ProgressionMergerSettings,u.ProgressionMergerSettings=t,t.isInitialized||(t.minLongSetLength=3,t.fitThreshold=.14,t.maxLinearGradient=.15,t.removeSingleFixationLines=!1,t.correctForEmptyLines=!0,t.currentLineSupportInCorrection=.15,t.emptyLineDetectorFactor=1.6,t.intelligentFirstLineMapping=!0,t.save()),t=new SGWM.WordMapperSettings,u.WordMapperSettings=t,t.isInitialized||(t.wordCharSkipStart=3,t.wordCharSkipEnd=6,t.scalingDiffLimit=.9,t.rescaleFixationX=!1,t.partialLengthMaxWordLength=2,t.effectiveLengthFactor=.7,t.ignoreTransitions=!1,t.save()),u}},{key:"createOptions",value:function(){var t=s.i(r.b)("sgwm");return new l.b({id:"_sgwm",title:t.hdr_data_map,options:l.a.createOptions([new l.b({title:t.hdr_fix_proc,options:l.a.createOptions({"FixationProcessorSettings.location.enabled":new l.c({type:Boolean,label:t.lbl_loc}),"FixationProcessorSettings.location.marginX":new l.c({type:Number,step:10,label:"\t"+t.lbl_margin("X")}),"FixationProcessorSettings.location.marginY":new l.c({type:Number,label:"\t"+t.lbl_margin("Y")}),"FixationProcessorSettings.duration.enabled":new l.c({type:Boolean,label:t.lbl_dur}),"FixationProcessorSettings.duration.mergingDurationThreshold":new l.c({type:Number,label:"\t"+t.lbl_merge_th}),"FixationProcessorSettings.duration.mergingDistanceThreshold":new l.c({type:Number,label:"\t"+t.lbl_merge_dist}),"FixationProcessorSettings.duration.removingDurationThreshold":new l.c({type:Number,label:"\t"+t.lbl_min_dur})}),defaults:l.a.createDefaults(u.FixationProcessorSettings,["location","duration"],"FixationProcessorSettings")}),new l.b({title:t.hdr_splitter,options:l.a.createOptions({"SplitToProgressionsSettings.bounds.left":new l.c({type:Number,step:.1,label:t.lbl_left_margin}),"SplitToProgressionsSettings.bounds.right":new l.c({type:Number,step:.1,label:t.lbl_right_margin}),"SplitToProgressionsSettings.bounds.verticalChar":new l.c({type:Number,step:.1,label:t.lbl_v_margin_char}),"SplitToProgressionsSettings.bounds.verticalLine":new l.c({type:Number,step:.1,label:t.lbl_v_margin_lines}),"SplitToProgressionsSettings.angle":new l.c({type:Number,step:.1,label:t.lbl_incline})}),defaults:l.a.createDefaults(u.SplitToProgressionsSettings,["bounds","angle"],"SplitToProgressionsSettings")}),new l.b({title:t.hdr_merger,options:l.a.createOptions({"ProgressionMergerSettings.minLongSetLength":new l.c({type:Number,label:t.lbl_short_prog}),"ProgressionMergerSettings.fitThreshold":new l.c({type:Number,step:.01,label:t.lbl_line_sep}),"ProgressionMergerSettings.maxLinearGradient":new l.c({type:Number,step:.01,label:t.lbl_line_incline}),"ProgressionMergerSettings.removeSingleFixationLines":new l.c({type:Boolean,label:t.lbl_remove_fix}),"ProgressionMergerSettings.correctForEmptyLines":new l.c({type:Boolean,label:t.lbl_empty_lines}),"ProgressionMergerSettings.currentLineSupportInCorrection":new l.c({type:Number,step:.05,label:"\t"+t.lbl_support_line}),"ProgressionMergerSettings.emptyLineDetectorFactor":new l.c({type:Number,step:.05,label:"\t"+t.lbl_empty_line}),"ProgressionMergerSettings.intelligentFirstLineMapping":new l.c({type:Boolean,label:t.lbl_first_line})}),defaults:l.a.createDefaults(u.ProgressionMergerSettings,["minLongSetLength","fitThreshold","maxLinearGradient","removeSingleFixationLines","correctForEmptyLines","currentLineSupportInCorrection","emptyLineDetectorFactor","intelligentFirstLineMapping"],"ProgressionMergerSettings")}),new l.b({title:t.hdr_word_map,options:l.a.createOptions({"WordMapperSettings.wordCharSkipStart":new l.c({type:Number,label:t.lbl_skip_start}),"WordMapperSettings.wordCharSkipEnd":new l.c({type:Number,label:t.lbl_skip_end}),"WordMapperSettings.scalingDiffLimit":new l.c({type:Number,step:.1,label:t.lbl_scale}),"WordMapperSettings.rescaleFixationX":new l.c({type:Boolean,label:t.lbl_rescale}),"WordMapperSettings.partialLengthMaxWordLength":new l.c({type:Number,label:"\t"+t.lbl_short_word}),"WordMapperSettings.effectiveLengthFactor":new l.c({type:Number,step:.1,label:"\t"+t.lbl_limit}),"WordMapperSettings.ignoreTransitions":new l.c({type:Boolean,label:t.lbl_ignore_trans})}),defaults:l.a.createDefaults(u.WordMapperSettings,["wordCharSkipStart","wordCharSkipEnd","scalingDiffLimit","rescaleFixationX","partialLengthMaxWordLength","effectiveLengthFactor","ignoreTransitions"],"WordMapperSettings")})],u)})}},{key:"save",value:function(){for(var t in u){u[t].save()}}},{key:"map",value:function(t){var e={fixations:t.fixations,words:t.text.map(function(t){return{id:t.id,x:t.rect.x,y:t.rect.y,width:t.rect.width,height:t.rect.height,text:t.text}})};return(new SGWM).map(e)}},{key:"settings",get:function(){return u}}]),t}();e.a=c},,,,,,,,,,,,,,,,,,,,,function(t,e,s){s(319);var n=s(2)(s(185),s(412),"data-v-3f92b272",null);t.exports=n.exports},function(t,e,s){s(349);var n=s(2)(s(201),s(439),"data-v-948d5b90",null);t.exports=n.exports},function(t,e,s){"use strict";e.a={methods:{makeFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},closeFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},onFullscreenChanges:function(t){var e=function(e){return document.fullscreenElement?t(!!document.fullscreenElement):document.mozFullScreenEnabled?t(!!document.mozFullScreenEnabled):document.webkitFullscreenEnabled?t(!!document.webkitFullscreenEnabled):document.msFullscreenEnabled?t(!!document.msFullscreenEnabled):void 0};void 0!==document.onfullscreenchange?document.onfullscreenchange=e:void 0!==document.onmozfullscreenchange?document.onmozfullscreenchange=e:void 0!==document.onwebkitfullscreenchange?document.onwebkitfullscreenchange=e:void 0!==document.onmsfullscreenchange&&(document.onmsfullscreenchange=e)}}}},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(e,s,n,a){i()(this,t),this.color=e,this.size=s,this.style=n,this.weight=a}return o()(t,null,[{key:"fromEl",value:function(e){var s=window.getComputedStyle(e);return new t(s.color,s.fontSize,s.fontStyle,s.fontWeight)}}]),t}();e.a=r},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(14),l=s.n(r),u=s(13),c=s.n(u),d=s(92),h=function(t){function e(t){return o()(this,e),l()(this,(e.__proto__||i()(e)).call(this,t))}return c()(e,t),e}(d.a);e.a=h},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(14),l=s.n(r),u=s(13),c=s.n(u),d=s(92),h=function(t){function e(t){o()(this,e);var s=l()(this,(e.__proto__||i()(e)).call(this,t));return s.hyphen=t.hyphen,s.mode=t.mode,s.temporary=t.temporary,s.exceptions={},s}return c()(e,t),e}(d.a);e.a=h},function(t,e,s){"use strict";var n=s(78),i=s.n(n),a=s(31),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=s(8),h=s(61),f=s(126),p=s(95),m=(s(8),function(){function t(e,s){l()(this,t),this._syllabifier=new h.a(e),this._speaker=new f.a(s),this._events=new EventEmitter,this.timer=null,this.currentWord=null,this.lastFocusedWord=null,this.words=null}return c()(t,[{key:"cleanup",value:function(){this.currentWord&&(this.currentWord.classList.remove("currentWord"),this.currentWord=null),this.lastFocusedWord=null,clearTimeout(this.timer),this.timer=null,this.words=null}},{key:"init",value:function(){var t=this;this.words=new o.a,(this._syllabifier.enabled||this._speaker.enabled)&&(this.timer=setInterval(function(){t._tick()},30))}},{key:"reset",value:function(t){t&&(this._syllabifier.setAvgWordReadingDuration(t),this._speaker.setAvgWordReadingDuration(t)),this.words=new o.a,this.currentWord=null,this.lastFocusedWord=null}},{key:"setFocusedWord",value:function(t){if(this.currentWord!==t&&(this.currentWord=t,t)){if(this.words.has(t)){var e=this.words.get(t);this.currentWord!==this.lastFocusedWord&&(e.focusRecorded=!1);var s=window.performance.now();s-e.lastSample>1e3&&e.entries++,e.lastSample=s}else this.words.set(t,new p.a(t));this.lastFocusedWord=t}return this.currentWord?this.words.get(this.currentWord).word:null}},{key:"_tick",value:function(){var t=!0,e=!1,s=void 0;try{for(var n,a=i()(this.words.keys());!(t=(n=a.next()).done);t=!0){var o=n.value,r=this.words.get(o);r.accumulatedTime=Math.max(0,r.accumulatedTime+(o===this.currentWord?30:-30)),r.accumulatedTime>150&&!r.focusRecorded&&(r.focusRecorded=!0,r.focusCount++),this._syllabifier.inspect(o,r)&&this._events.emitEvent("syllabified",[o]),this._speaker.inspect(o,r)&&this._events.emitEvent("pronounced",[o])}}catch(t){e=!0,s=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw s}}}},{key:"syllabifier",get:function(){return this._syllabifier}},{key:"speaker",get:function(){return this._speaker}},{key:"events",get:function(){return this._events}},{key:"setup",get:function(){return new d.b(this._speaker.setup,this._syllabifier.setup)}}]),t}());e.a=m},function(t,e,s){"use strict";var n=s(44),i=s.n(n),a=s(65),o=s.n(a),r=s(0),l=s.n(r),u=s(1),c=s.n(u),d=s(7),h=s(123),f=(s(95),s(8),function(){function t(e){l()(this,t),this._options=o()({},e),this._options.threshold.factor=4,this.voice=p[d.a.convertLegacy(this._options.language)]}return c()(t,[{key:"inspect",value:function(t,e){if(!this.voice)return!1;var s=this._options.threshold.value;return this._options.threshold.adjustForWordLength&&(s*=Math.max(1,1+.05*(e.word.length-7))),!e.pronounced&&e.accumulatedTime>s&&(e.pronounced=!0,this.voice(e.word),!0)}},{key:"say",value:function(t){this.voice&&this.voice(t)}},{key:"setAvgWordReadingDuration",value:function(t){if(this._options.threshold.smart&&t){var e=this._options.threshold;e.value=Math.max(e.min,Math.min(e.max,t*e.factor))}}},{key:"enabled",get:function(){return!!this.voice}},{key:"setup",get:function(){return new h.a(o()({},this._options,{enabled:!!this.voice}))}}],[{key:"LANGS",get:function(){return i()(p)}}]),t}());e.a=f;var p={Suomi:function(t){responsiveVoice.speak(t,"Finnish Female")},English:function(t){responsiveVoice.speak(t,"US English Female")}}},function(t,e,s){"use strict";var n=s(37),i=s.n(n),a=s(31),o=s.n(a),r=s(99),l=s.n(r),u=s(100),c=s.n(u),d=s(0),h=s.n(d),f=s(1),p=s.n(f),m=s(94),v=(s(6),s(61),["light","dark"]),g=["bold","b","bolder","normal","n","lighter"],_=["regular=normal","r","italic","i"],k=function(){function t(e,s,n,i){if(h()(this,t),this._container=n,this._syllabifier=i,this._pages=e.pages,this._hasInstructionPage=!(!s||!s.length),this._hasInstructionPage){var a=new m.a(-1);a.lines=s,this._pages.unshift(a)}"left"===e.alignment&&this._container.classList.add("alignLeft"),e.fontname&&(this._container.style.fontFamily='"'+e.fontname+'", Calibri, sans-serif'),this._pageIndex=-1}return p()(t,[{key:"nextPage",value:function(){var t=this._pageIndex+1;t>=this._pages.length||(this._pageIndex=t,this._createLines(this._container))}},{key:"prevPage",value:function(){var t=this._pageIndex-1;t<0||(this._pageIndex=t,this._createLines(this._container))}},{key:"_createLines",value:function(t){var e=this;t.innerHTML="";var s=this._pages[this._pageIndex],n=void 0;n="lines"in s?s.lines:s,n.forEach(function(s){t.appendChild(e._lineToElement(s))}),this._splitText()}},{key:"_lineToElement",value:function(t){var e=this._parseStyles(t),s=document.createElement("div");return s.innerHTML=e,s.classList.add("line"),s}},{key:"_parseStyles",value:function(t){function e(){return s.apply(void 0,Array.prototype.slice.call(arguments).concat([!0]))}function s(t,e,s,n,i,a,o){var r=e,u=n,d=[],h=[];u.split(",").forEach(function(t){var e=c()(t),s=!l()(e);v.includes(t)?h.push(t):g.includes(t)||0===(s&&e%100)?(1===t.length&&(t=g[g.indexOf(t)-1]),d.push("font-weight:"+t+" !important")):_.includes(t)?(1===t.length&&(t=_[_.indexOf(t)-1]),t.indexOf("=")>=0&&(t=t.split("=")[1]),d.push("font-style:"+t+" !important")):d.push((s?"font-size:":"color:")+t)});var f=o?" ":"";return'<span class="'+h.join(" ")+'" style="'+d.join(";")+'">'+f+r+"</span>"+f}return t.replace(/(\S+)(\|)([\w,#]+)\b/g,e).replace(/^(.+)(\s\|)([\w,#]+)$/gm,s)}},{key:"_splitText",value:function(){for(var t=/[^\s]+/gi,e=document.createNodeIterator(this._container,NodeFilter.SHOW_TEXT,{acceptNode:function(t){return/^\s*$/.test(t.nodeValue)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),s=void 0,n=0,i=[];s=e.nextNode();){for(var a=void 0,o=0,r=document.createDocumentFragment();null!==(a=t.exec(s.textContent));){if(o<a.index){var l=document.createTextNode(s.textContent.substring(o,a.index));r.appendChild(l)}var u=this._syllabifier.prepareWord(a[0]),c=document.createElement("span");c.classList.add("word"),c.dataset.wordId=n+++"",c.innerHTML=u,r.appendChild(c),o=t.lastIndex}i.push({node:s,docFrag:r})}i.forEach(function(t){t.node.parentNode.replaceChild(t.docFrag,t.node)})}},{key:"page",get:function(){return this._pageIndex}},{key:"originalPageIndex",get:function(){return this._hasInstructionPage?this._pageIndex-1:this._pageIndex}},{key:"isInstructionPage",get:function(){return 0===this._pageIndex&&this._hasInstructionPage}},{key:"hasNextPage",get:function(){return this._pageIndex+1<this._pages.length}},{key:"hasPrevPage",get:function(){return this._pageIndex-1>=0}},{key:"words",get:function(){var t=this,e=new o.a,s=document.querySelectorAll(".word");return i()(s).forEach(function(s){e.set(s,t._syllabifier.unprepare(s.textContent))}),e}}]),t}();e.a=k},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=function t(e){var s=e.id,n=void 0===s?"":s,a=e.text,o=void 0===a?"":a,r=e.selected,l=void 0!==r&&r,u=e.group,c=void 0===u?"":u;i()(this,t),this.id=n,this.text=o,this.selected=!!l,this.group=c};e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=function t(e){i()(this,t),this.student=e.student,this.session=e.session,this.grade=e.grade};e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(){i()(this,t)}return o()(t,null,[{key:"compute",value:function(t){var e=0,s=-1,n=-1,i=!0;return t.forEach(function(t){if(!t.word)return s=-1,n=-1,void(i=!0);t.word.id-s<0&&n===t.line?(t.isRegression=!0,i&&e++,i=!1):i=!0,s=t.word.id,n=t.line}),e}}]),t}();e.a=r},,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){s(353);var n=s(2)(s(191),s(444),"data-v-d0862f26",null);t.exports=n.exports},function(t,e,s){s(325),s(324);var n=s(2)(s(203),s(417),"data-v-565edc6d",null);t.exports=n.exports},function(t,e,s){s(322);var n=s(2)(s(206),s(415),"data-v-4e966ac5",null);t.exports=n.exports},,,function(t,e,s){function n(t){return s(i(t))}function i(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./db.development.js":213,"./db.production.js":214};n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=158},function(t,e,s){"use strict";var n=s(42),i=s(156),a=s(364),o=s.n(a),r=s(367),l=s.n(r),u=s(369),c=s.n(u),d=s(368),h=s.n(d),f=s(365),p=s.n(f),m=s(363),v=s.n(m),g=s(366),_=s.n(g),k=s(362),b=s.n(k),y=s(361),w=s.n(y);n.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:o.a},{path:"/schools",component:l.a},{path:"/teachers",component:c.a},{path:"/students",component:h.a},{path:"/instructions",component:p.a},{path:"/classes",component:v.a},{path:"/results",component:_.a},{path:"/assignments",component:b.a},{path:"/assignment/:id",component:w.a}],base:"/silko-dev/",linkActiveClass:"is-active",mode:"history"})},function(t,e,s){s(348);var n=s(2)(s(161),s(438),"data-v-93315f94",null);t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(360),i=s.n(n),a=s(9),o=s(63);e.default={name:"app",components:{navbar:i.a},data:function(){return{isLoggedIn:!!o.a.user}},created:function(){var t=this;console.log("App component created"),a.a.$on("logout",function(){t.isLoggedIn=!1}),a.a.$on("login",function(){t.isLoggedIn=!0})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(63),a=s(3),o=(s(35),{admin:{"/":""},school:{"/":"","/teachers":"maintain-teachers.html","/students":"maintain-students.html"},teacher:{"/":"","/students":"listing-students.html","/instructions":"introductions.html","/classes":"classes.html","/results":"results.html"},student:{"/":"","/assignments":"assignments.html"}});e.default={name:"navbar",data:function(){return{user:null,langs:a.a,isUsermenuDropped:!1,isUsermenuHover:!1,manualTopic:"",tokens:s.i(a.b)("navbar","_buttons","_labels")}},computed:{isAdmin:function(){return!!this.user&&this.user.isAdmin},isSchool:function(){return!!this.user&&this.user.isSchool},isTeacher:function(){return!!this.user&&this.user.isTeacher},isStudent:function(){return!!this.user&&this.user.isStudent},isAssignment:function(){return this.$route.path.indexOf("/assignment/")>=0},manualLink:function(){var t="teacher";return this.user&&(this.user.isSchool?t="school":this.user.isStudent&&(t="student")),"https://uta-gasp.gitbooks.io/silko/"+(this.user?this.user.prefs.lang:"en")+"/"+t+"/"+(o[t][this.manualTopic]||"")}},methods:{logOut:function(t){i.a.logOut()},updateLanguage:function(t){this.user.prefs.lang=t.target.value,this.user.update(function(t){n.a.$emit("lang")})}},created:function(){var t=this;this.user=i.a.user,n.a.$on("login",function(){t.tokens=s.i(a.b)("navbar","_buttons","_labels"),t.user=i.a.user}),n.a.$on("logout",function(){t.user=null}),n.a.$on("lang",function(){t.tokens=s.i(a.b)("navbar","_buttons","_labels")}),document.addEventListener("click",function(e){t.isUsermenuDropped=!1}),this.$router.onReady(function(){t.manualTopic=t.$router.currentRoute.path}),this.$router.beforeResolve(function(e,s,n){t.manualTopic=e.path,n()})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),i=s(20),a=s(62),o=s(9),r=s(387),l=s.n(r),u=s(370),c=s.n(u),d=s(373),h=s.n(d),f=s(372),p=s.n(f),m=s(371),v=s.n(m),g=(s(6),s(26),s(156),{calibrate:{},start:{},questionnaire:{},finished:{}});e.default={name:"assignments",components:{"modal-error":l.a,"calib-page":c.a,"start-page":h.a,"questionnaire-page":p.a,"finished-page":v.a},data:function(){return{student:null,task:null,intro:null,state:g.calibrate,isDataSaved:!1,errorText:null,keys:null,questionnaire:null,longGazedWords:[],STATES:g}},computed:{introTexts:function(){return this.intro?this.intro:{}}},methods:{init:function(){var t=this;if(this.student=n.a.instance,this.student){var e=void 0;if(n.a.MULTICLASS){if(!((e=this.$route.params.id)in this.student.assignments))return this.$router.replace("assignments")}else if(!(e=this.student.assignments[this.$route.params.id]))return this.$router.replace("assignments");this.student.loadTask(e,function(e,s){if(e)return void(t.errorText=e);t.task=s}).then(function(e){t.task.getIntro(function(e,s){e?t.errorText=e.message?e.message:e:t.intro=s||new i.a})})}},checkAccess:function(){n.a.isLogged||this.$router.replace("/")},exit:function(t){this.errorText=null,this.$router.replace("/assignments")},calibrate:function(t){t.skip||a.a.calibrate(),this.state=g.start},startPageClosed:function(t){t.finished?this.task.questionnaire&&this.task.questionnaire.length?(this.longGazedWords=t.longGazedWords,this.state=g.questionnaire):this.state=g.finished:t.cancelled&&(this.state=g.calibrate)},gazeDataSaved:function(t){t.err?this.errorText=t.err:(this.keys=t.keys,this.state===g.finished&&this.taskDone()),this.isDataSaved=!0},questionnaireDone:function(t){this.questionnaire=t.questionnaire,this.state=g.finished,this.taskDone()},taskDone:function(){var t=this;if(this.keys){this.questionnaire&&this.student.addQuestionnaire(this.keys.data,this.questionnaire,function(e){e&&(t.errorText=e)});var e=n.a.MULTICLASS?this.task.id:this.task.cls;this.student.taskDone(e,this.keys.session,function(e){e&&(t.errorText=e)})}}},created:function(){var t=this;console.log("Assignment component created"),o.a.$on("logout",function(){t.checkAccess()}),o.a.$on("login",function(){t.init()}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(7),a=s(3),o=s(5),r=s(17),l=s(29),u=s.n(l),c=s(19),d=s.n(c);s(49),s(30),s(21),s(6);e.default={name:"assignments",components:{loading:u.a,"temporal-notification":d.a},mixins:[r.a],data:function(){return{student:null,assignments:null,sessions:null,assignment:"",tokens:s.i(a.b)("assignments","_labels","_buttons","_failures")}},filters:{prettifyDate:function(t){return i.a.sessionDate(t)}},methods:{init:function(){this.student=o.a.instance,this.student&&(this.loadAssignments(),this.loadSessions())},loadAssignments:function(){var t=this;this.student.loadAssignments(function(e,s){if(t.assignments=[],e)return t.setError(e,t.tokens.load(t.tokens.assignments));t.assignments=s})},loadSessions:function(){var t=this;this.student.loadSessions(function(e,s){if(t.sessions=[],e)return t.setError(e,t.tokens.load(t.tokens.sessions));t.sessions=s})},checkAccess:function(){o.a.isLogged||this.$router.replace("/")},start:function(t,e){o.a.MULTICLASS?this.$router.replace("/assignment/"+t.task.id):this.$router.replace("/assignment/"+t.cls.id)},getWPM:function(t){var e=t.pages,s=void 0,n=void 0,i=0;if(e.forEach(function(t){!s&&t.fixations&&(s=t),t.fixations&&(n=t,i+=t.text.length)}),!s||!n)return"-";var a=s.fixations[0],o=n.fixations[n.fixations.length-1],r=o.ts+o.duration-a.ts;return(i/(r/6e4)).toFixed(0)}},created:function(){var t=this;console.log("Assignments component created"),n.a.$on("logout",function(){t.checkAccess()}),n.a.$on("login",function(){t.init()}),n.a.$on("lang",function(){t.tokens=s.i(a.b)("assignments","_labels","_buttons","_failures")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(7),a=s(3),o=s(22),r=s(17),l=s(34),u=s(29),c=s.n(u),d=s(19),h=s.n(d),f=s(392),p=s.n(f),m=s(390),v=s.n(m),g=s(72),_=s.n(g);s(21),s(20);e.default={name:"classes",components:{loading:c.a,"temporal-notification":h.a,"task-list":p.a,"student-list":v.a,"remove-warning":_.a},mixins:[r.a,l.a],data:function(){return{teacher:null,newName:"",isCreating:!1,refreshStudents:0,classes:null,intros:[],toDelete:null,tokens:s.i(a.b)("classes","_form","_buttons","_labels","_failures")}},computed:{canCreate:function(){return this.newName.length>2},toDeleteName:function(){return this.toDelete?this.toDelete.name:""}},methods:{init:function(){this.teacher=o.a.instance,this.teacher&&(this.loadClasses(),this.loadIntros())},loadClasses:function(){var t=this;this.teacher.getClasses(function(e,s){if(e)return t.classes=[],t.setError(e,t.tokens.load(t.tokens.classes));t.classes=s.sort(i.a.byName)})},loadIntros:function(){var t=this;this.teacher.getIntros(function(e,s){if(e)return t.setError(e,t.tokens.load(t.tokens.instructions));t.intros=s.sort(i.a.byName)})},checkAccess:function(){o.a.isLogged||this.$router.replace("/")},tryToCreate:function(t){var e=this;if(this.canCreate){this.classes.some(function(t){return t.name.toLowerCase()===e.newName.toLowerCase()})?this.setError(this.tokens.msg_name_exists,this.tokens.create_new(this.tokens.class)):this.createClass(this.newName)}},createClass:function(t){var e=this;this.isCreating=!0,this.teacher.createClass(t,function(t,s){e.isCreating=!1,t?e.setError(t,e.tokens.create_new(e.tokens.class)):(e.loadClasses(),e.setSuccess(e.tokens.created(e.tokens.class)),e.newName="")})},removeClass:function(t,e){this.toDelete=t},removeWarningClosed:function(t){var e=this;t.confirm&&this.teacher.deleteClass(this.toDelete,function(t){t?e.setError(t,e.tokens.delete(e.tokens.class)):e.setSuccess(e.tokens.deleted(e.tokens.class)),e.loadClasses()}),this.toDelete=null},taskSaved:function(t){t.err?this.setError(t.err,this.tokens.update(this.tokens.task)):this.setSuccess(this.tokens.updated(this.tokens.task))},taskCreated:function(t){t.err?this.setError(t.err,this.tokens.create_new(this.tokens.task)):(this.setSuccess(this.tokens.created(this.tokens.task)),this.refreshStudents=Math.random())},taskDeleted:function(t){this.refreshStudents=Math.random()}},created:function(){var t=this;console.log("Classes component created"),n.a.$on("logout",function(){t.checkAccess()}),n.a.$on("login",function(){t.init()}),n.a.$on("lang",function(){t.tokens=s.i(a.b)("classes","_form","_buttons","_labels","_failures")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(63),a=s(62),o=s(3),r=s(17),l=s(34),u=s(386),c=s.n(u),d=s(58),h=s.n(d),f=s(19),p=s.n(f),m=s(29),v=s.n(m);s(35),s(25);e.default={name:"home",components:{login:c.a,"modal-container":h.a,"temporal-notification":p.a,loading:v.a},mixins:[r.a,l.a],data:function(){return{showWsSecurityError:!a.a.isWebSocketOK,isConnecting:!0,isLoginVisible:!0,user:null,schools:null,schoolToRegester:null,isGettingEmail:!1,email:"",tokens:s.i(o.b)("home","_form","_buttons","_labels")}},computed:{isAdmin:function(){return this.user&&this.user.isAdmin},isSchool:function(){return this.user&&this.user.isSchool},isTeacher:function(){return this.user&&this.user.isTeacher},isStudent:function(){return this.user&&this.user.isStudent},userTitle:function(){return this.isAdmin?this.tokens.admin:this.isSchool?this.tokens.school:this.isTeacher?this.tokens.teacher:this.isStudent?this.tokens.student:""},isEmailValid:function(){return!this.email||/(.{2,})@(\w{2,}\.\w{2,})/.test(this.email)},isFirefox:function(){return(window.navigator&&window.navigator.userAgent||"").indexOf("Mozilla")>=0}},methods:{register:function(t){this.schools=!0},sendResistrationRequest:function(t){this.closeSelectionBox(null),this.schoolToRegester=t.selected,this.isGettingEmail=!0},remindPassword:function(t){this.isGettingEmail=!0},closeSelectionBox:function(t){this.schools=null},closeEmailBox:function(t){this.isGettingEmail=!1},sendPasswordResetRequest:function(t){var e=this;this.schoolToRegester?(this.setSuccess(this.tokens.msg_request_sent(this.email)),this.schoolToRegester=null):i.a.resetPassword(this.email,function(t){t?e.setError(t,e.tokens.err_password_reset(e.email)):e.setSuccess(e.tokens.msg_password_reset),e.email=""}),this.closeEmailBox(null)},passwordResetAppeared:function(t){this.$refs.email.focus()}},created:function(){var t=this;n.a.$on("connected",function(e){t.isConnecting=!1,e.user&&(t.user=e.user)}),n.a.$on("login",function(){t.tokens=s.i(o.b)("home","_form","_buttons","_labels"),t.user=i.a.user,t.isConnecting=!1}),n.a.$on("logout",function(){t.user=null}),n.a.$on("lang",function(){t.tokens=s.i(o.b)("home","_form","_buttons","_labels")}),this.user=i.a.user,this.isConnecting=!i.a.isConnected}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(7),a=s(3),o=s(22),r=s(17),l=s(34),u=s(29),c=s.n(u),d=s(19),h=s.n(d),f=s(58),p=s.n(f),m=s(385),v=s.n(m),g=s(72),_=s.n(g);s(20),s(59);e.default={name:"instructions",components:{loading:c.a,"temporal-notification":h.a,"modal-container":p.a,"intro-editor":v.a,"remove-warning":_.a},mixins:[r.a,l.a],data:function(){return{teacher:null,resetNew:0,isCreating:!1,intros:null,toDelete:null,toEdit:null,tokens:s.i(a.b)("instructions","_form","_buttons","_labels","_failures")}},computed:{toDeleteName:function(){return this.toDelete?this.toDelete.name:""}},methods:{init:function(){this.teacher=o.a.instance,this.teacher&&this.loadIntros()},loadIntros:function(){var t=this;this.teacher.getIntros(function(e,s){if(e)return t.intros=[],t.setError(e,t.tokens.load(t.tokens.instructions));t.intros=s.sort(i.a.byName)})},checkAccess:function(){o.a.isLogged||this.$router.replace("/")},tryToCreate:function(t){this.intros.some(function(e){return e.name.toLowerCase()===t.name.toLowerCase()})?this.setError(this.tokens.err_exists,this.tokens.create_new(this.tokens.instruction)):this.createIntro(t)},createIntro:function(t){var e=this;this.isCreating=!0,this.teacher.createIntro(t.name,t.texts,function(t){e.isCreating=!1,t?e.setError(t,e.tokens.create_new(e.tokens.instruction)):(e.loadIntros(),e.setSuccess(e.tokens.created(e.tokens.instruction)),e.resetNew=Math.random())})},remove:function(t,e){this.toDelete=t},edit:function(t,e){this.toEdit=t},saveEdited:function(t){var e=this;this.toEdit.update(t.name,t.texts,function(t){t?e.setError(t,e.tokens.update(e.tokens.instruction)):e.setSuccess(e.tokens.updated(e.tokens.instruction)),e.loadIntros()}),this.closeEditor(null)},closeEditor:function(t){this.toEdit=null},removeWarningClosed:function(t){var e=this;t.confirm&&this.teacher.deleteIntro(this.toDelete,function(t){t?e.setError(t,e.tokens.delete(e.tokens.instruction)):e.setSuccess(e.tokens.deleted(e.tokens.instruction)),e.loadIntros()}),this.toDelete=null}},created:function(){var t=this;console.log("Instructions component created"),n.a.$on("logout",function(){t.checkAccess()}),n.a.$on("login",function(){t.init()}),n.a.$on("lang",function(){t.tokens=s.i(a.b)("instructions","_form","_buttons","_labels","_failures")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(133),i=s.n(n),a=s(0),o=s.n(a),r=s(9),l=s(7),u=s(3),c=s(128),d=s(22),h=s(5),f=s(52),p=s(74),m=s(76),v=s(228),g=s(129),_=s(17),k=s(29),b=s.n(k),y=s(19),w=s.n(y),x=s(58),C=s.n(x),S=s(389),T=s.n(S),E=s(153),P=s.n(E),I=s(376),N=s.n(I),A=s(378),F=s.n(A),L=s(375),D=s.n(L),M=s(377),O=s.n(M),z=s(383),R=s.n(z),j=s(381),W=s.n(j),$=s(380),V=s.n($),q=(s(49),s(21),s(53),s(75),function t(e,s){o()(this,t),this.name=e,this.sessions=s});e.default={name:"results",components:{loading:b.a,"temporal-notification":w.a,"modal-container":C.a,"session-editing-box":T.a,"item-selection-box":P.a,"gaze-plot":N.a,"gaze-with-audio":F.a,durations:D.a,"gaze-replay":O.a,"word-replay":R.a,"students-summary":W.a,"questionnaire-results":V.a},mixins:[_.a],data:function(){return{teacher:null,isLoaded:!1,deferredVisualization:null,editingStudent:null,reloadAfterEditing:!1,gradeWithStudents:null,studentWithSessions:null,visualization:null,classes:null,students:[],VISUALIZATIONS:{gazePlot:"GazePlot",audioReplay:"GazeWithAudio",durations:"Durations",gazeReplay:"GazeReplay",wordReplay:"WordReplay",studentsSummary:"StudentsSummary",questionnaireResults:"QuestionnaireResults"},tokens:s.i(u.b)("results","_labels")}},computed:{isMultipleSessions:function(){return!!this.deferredVisualization&&(this.deferredVisualization.name===this.VISUALIZATIONS.gazePlot||this.deferredVisualization.name===this.VISUALIZATIONS.audioReplay)}},methods:{init:function(){var t=this;this.teacher=d.a.instance,this.teacher&&this.loadClasses(function(e){if(e)return t.classes=[],t.setError(e,t.tokens.err_load_classes);t.isLoaded=!0})},loadClasses:function(t){var e=this;this.teacher.getClasses(function(s,n){if(s)return t(s);var i=[];n.sort(l.a.byName),n.forEach(function(e){if(e.tasks){var s=[];for(var n in e.tasks)s.push(new m.a(n,e.tasks[n]));var a=new v.a(e,s);i.push(a),a.loadStudents(t)}}),e.classes=i})},checkAccess:function(){d.a.isLogged||this.$router.replace("/")},tasksWithSessions:function(t){return t.filter(function(t){var e=0;return t.students.forEach(function(t){e+=t.sessions.length}),e>0})},closeStudentSelectionBox:function(t){this.gradeWithStudents=null,this.deferredVisualization=null},closeSessionSelectionBox:function(t){this.studentWithSessions=null,this.deferredVisualization=null},closeSessionEditingBox:function(t){this.editingStudent=null,this.reloadAfterEditing&&this.init(),this.reloadAfterEditing=!1},editSessions:function(t,e){this.editingStudent=t},selectTaskStudents:function(t,e){this.deferredVisualization=new q(e,t.sessions);var s={text:this.tokens.tit_students(t.name),multiGroup:!0,subitems:[]};t.students.forEach(function(e){e.sessions.forEach(function(n){n.task.id===t.id&&s.subitems.push(new c.a({id:n.ref.id,text:""+l.a.sessionDate(n.ref.date),selected:!1,group:e.ref.name}))})}),this.studentWithSessions=[s]},selectClassStudents:function(t,e){var s=[];t.students.forEach(function(t){s.push.apply(s,i()(t.sessions))}),this.deferredVisualization=new q(e,s);var n={text:this.tokens.tit_students_of(t.ref.name),subitems:[]};t.students.forEach(function(t){n.subitems.push(new c.a({id:t.ref.id,text:t.ref.name,selected:!0}))}),this.gradeWithStudents=[n]},selectSession:function(t,e,s){if(1===t.sessions.length)return void this.visualizeSessions(t.sessions,e,new g.a({student:t.ref.name}));this.deferredVisualization=new q(e,t.sessions);var n={text:this.tokens.tit_sessions(t.ref.name),subitems:[]};t.sessions.forEach(function(t){s&&!s(t)||n.subitems.push(new c.a({id:t.ref.id,text:""+l.a.sessionDate(t.ref.date),selected:!1,group:t.task.name}))}),this.studentWithSessions=[n]},hasItems:function(t,e){return t.sessions.filter(e).length>0},continueDeferredWithStudents:function(t){var e=this.deferredVisualization.sessions.filter(function(e){return t.subitems[e.student.id]}),s={name:this.gradeWithStudents[0].text,studentCount:this.gradeWithStudents[0].subitems.length};this.visualizeSessions(e,this.deferredVisualization.name,new g.a({student:1===t.subitems.length?t.subitems[0]:null,grade:s})),this.closeStudentSelectionBox(null)},continueDeferredWithSessions:function(t){var e=this.deferredVisualization.sessions.filter(function(e){return t.subitems[e.ref.id]});this.visualizeSessions(e,this.deferredVisualization.name,new g.a({student:1===e.length?e[0].student.name:null,session:1===t.subitems.length?t.subitems[0]:null})),this.closeSessionSelectionBox(null)},sessionDeleted:function(t){this.reloadAfterEditing=!0},visualizeSessions:function(t,e,s){var n=this;if(t&&t.length){var i=t.map(function(t){return t.ref.data});h.a.getData(i,function(i,a){if(i)return n.setError(i,n.tokens.err_load_student);var o=t.map(function(t){return new p.a(t,a)});n.visualization=new f.a(e,o,s)})}},isShowing:function(t){return!!this.visualization&&this.visualization.name===t},closeVisualization:function(t){this.visualization=null},filterHasAudio:function(t){return t.task.hasAudio}},created:function(){var t=this;console.log("Results component created"),r.a.$on("logout",function(){t.checkAccess()}),r.a.$on("login",function(){t.init()}),r.a.$on("lang",function(){t.tokens=s.i(u.b)("results","_labels")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(44),i=s.n(n),a=s(9),o=s(7),r=s(48),l=s(25),u=s(17),c=s(34),d=s(29),h=s.n(d),f=s(19),p=s.n(f);e.default={name:"schools",components:{loading:h.a,"temporal-notification":p.a},mixins:[u.a,c.a],data:function(){return{newName:"",newEmail:"",isCreating:!1,schools:null}},computed:{isNewNameValid:function(){return this.newName.trim().length>2},isNewEmailValid:function(){return/(.{2,})@(\w{2,}\.\w{2,})/.test(this.newEmail.trim())},canCreate:function(){return!this.isCreating&&this.isNewNameValid&&this.isNewEmailValid}},methods:{loadSchools:function(){var t=this;l.a.list(function(e,s){if(e)return t.schools=[],t.setError(e,"Failed to load schools");t.schools=s.sort(o.a.byName)})},checkAccess:function(){r.a.isLogged||this.$router.replace("/")},tryToCreate:function(t){var e=this;if(this.canCreate){this.schools.some(function(t){return t.name.toLowerCase()===e.newName.toLowerCase().trim()||t.email.toLowerCase()===e.newEmail.toLowerCase().trim()})?this.setError("A school with this name or email exists already","Failed to add new school"):this.createSchool()}},createSchool:function(){var t=this;this.isCreating=!0,r.a.createSchool(this.newName.trim(),this.newEmail.trim(),function(e){t.isCreating=!1,e?t.setError(e,"Failed to add new school"):(t.newName="",t.newEmail="",t.loadSchools(),t.setSuccess("New school was created"))})}},filters:{count:function(t){return i()(t).length}},created:function(){var t=this;console.log("Schools component created"),a.a.$on("logout",function(){t.checkAccess()}),a.a.$on("login",function(){t.loadSchools()}),this.checkAccess()},mounted:function(){this.loadSchools()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(7),a=s(63),o=s(3),r=s(48),l=s(25),u=s(5),c=s(22),d=s(17),h=s(34),f=s(29),p=s.n(f),m=s(19),v=s.n(m),g=s(72),_=s.n(g);s(21);e.default={name:"students",components:{loading:p.a,"temporal-notification":v.a,"remove-warning":_.a},mixins:[d.a,h.a],data:function(){return{teacher:null,school:null,newName:"",newEmail:"",newPassword:"",newGrade:"",newSchool:"",isCreating:!1,toDelete:null,schools:[],students:null,classes:[],tokens:s.i(o.b)("students","_form","_buttons","_labels","_failures")}},computed:{isAdmin:function(){return r.a.isLogged},isNewNameValid:function(){return this.newName.trim().length>2},isNewEmailValid:function(){return this.newEmail.indexOf("@")>0?/(.{2,})@(\w{2,}\.\w{2,})/.test(this.newEmail.trim()):this.newEmail.length>4},isNewPasswordValid:function(){return this.newPassword.length>=6||this.isRealEmail},isNewGradeValid:function(){return!!this.newGrade.trim().length},isSchoolValid:function(){return!r.a.isLogged||!!this.newSchool},isRealEmail:function(){return this.newEmail.indexOf("@")>0&&this.newEmail.indexOf(a.a.DEFAULT_EMAIL_DOMAIN)<0},canCreateStudent:function(){return!this.isCreating&&this.isNewNameValid&&this.isNewEmailValid&&this.isNewPasswordValid&&this.isNewGradeValid&&this.isSchoolValid},schoolItems:function(){return this.schools?this.schools.map(function(t){return{value:t.id,text:t.name}}):[]},toDeleteName:function(){return this.toDelete?this.toDelete.name:""}},methods:{init:function(){var t=this;r.a.isLogged?this.loadSchools().then(function(){t.loadStudents()}):l.a.isLogged?(this.school=l.a.instance,this.loadStudents()):c.a.isLogged&&(this.teacher=c.a.instance,this.loadStudents())},loadSchools:function(){var t=this;return l.a.list(function(e,s){if(e)return t.setError(e,t.tokens.load(t.tokens.schools));t.schools=s.sort(i.a.byName)})},loadStudents:function(){var t=this,e=function(e,s){if(e)return t.students=[],t.setError(e,t.tokens.load(t.tokens.students));t.students=s.sort(function(t,e){return t.school!==e.school?t.school>e.school?1:-1:t.grade!==e.grade?t.grade>e.grade?1:-1:t.name.toLowerCase()>e.name.toLowerCase()?1:-1})};this.school?this.school.getStudents(e):this.teacher?this.teacher.getSchool(function(s,n){if(s)return t.setError(s,t.tokens.err_load_teacher);n.getStudents(e)}):u.a.list(e)},checkAccess:function(){r.a.isLogged||c.a.isLogged||l.a.isLogged||this.$router.replace("/")},tryToCreateStudent:function(t){if(this.canCreateStudent){var e=this.newEmail.trim();e.indexOf("@")<0&&(e+=a.a.DEFAULT_EMAIL_DOMAIN);this.students.some(function(t){return t.email.toLowerCase()===e.toLowerCase()})?this.setError(this.tokens.err_exists,this.tokens.add_new(this.tokens.student)):this.createStudent(e)}},createStudent:function(t){var e=this;this.isCreating=!0;var s=function(t){e.isCreating=!1,t?e.setError(t,e.tokens.add_new(e.tokens.student)):(e.newName="",e.newEmail="",e.newPassword="",e.newGrade="",e.loadStudents(),e.setSuccess(e.tokens.added(e.tokens.student)))},n=this.isRealEmail?null:this.newPassword,i={name:this.newName.trim(),email:t,password:n,grade:this.newGrade.trim()};this.school?this.school.createStudent(i,s):this.teacher?this.teacher.createStudent(i,s):l.a.get(this.newSchool,function(t,e){if(t)return s(t);e.createStudent(i,s)})},moveStudent:function(t,e){var s=this,n=e.target;r.a.moveStudent(t,n.value,this.schools,function(t){t?s.setError(t,s.tokens.err_move):s.setSuccess(s.tokens.msg_moved)})},getListOfStudentClasses:function(t){var e=[];for(var s in t.classes)e.push(t.classes[s]);return e.join(", ")},remove:function(t){this.toDelete=t},removeWarningClosed:function(t){var e=this;if(t.confirm){var s=this.toDelete;l.a.get(s.school,function(t,n){if(t)return e.setError(t,e.tokens.err_access_school);n.deleteStudent(s,function(t){t?e.setError(t,e.tokens.delete(e.tokens.student)):e.setSuccess(e.tokens.deleted(e.tokens.student)),e.init()})})}this.toDelete=null}},created:function(){var t=this;console.log("Students component created"),n.a.$on("logout",function(){t.checkAccess()}),n.a.$on("login",function(){t.init()}),n.a.$on("lang",function(){t.tokens=s.i(o.b)("students","_form","_buttons","_labels","_failures")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(7),a=s(3),o=s(48),r=s(25),l=s(22),u=s(17),c=s(34),d=s(29),h=s.n(d),f=s(19),p=s.n(f);e.default={name:"teachers",components:{loading:h.a,"temporal-notification":p.a},mixins:[u.a,c.a],data:function(){return{school:null,newName:"",newEmail:"",newSchool:"",isCreating:!1,schools:[],teachers:null,tokens:s.i(a.b)("teachers","_form","_buttons","_labels","_failures")}},computed:{isNewNameValid:function(){return this.newName.trim().length>2},isNewEmailValid:function(){return/(.{2,})@(\w{2,}\.\w{2,})/.test(this.newEmail.trim())},isSchoolValid:function(){return!this.isAdmin||!!this.newSchool},canCreate:function(){return!this.isCreating&&this.isNewNameValid&&this.isNewEmailValid&&this.isSchoolValid},isAdmin:function(){return o.a.isLogged},schoolItems:function(){return this.schools?this.schools.map(function(t){return{value:t.id,text:t.name}}):[]}},methods:{init:function(){var t=this;o.a.isLogged?this.loadSchools().then(function(){t.loadTeachers()}):r.a.isLogged&&(this.school=r.a.instance,this.loadTeachers())},loadSchools:function(){var t=this;return r.a.list(function(e,s){if(e)return t.setError(e,t.tokens.load(t.tokens.schools));t.schools=s.sort(i.a.byName)})},loadTeachers:function(){var t=this,e=function(e,s){if(e)return t.teachers=[],t.setError(e,t.tokens.load(t.tokens.teachers));t.teachers=s.sort(function(t,e){return t.school!==e.school?t.school>e.school?1:-1:t.name.toLowerCase()>e.name.toLowerCase()?1:-1})};return this.school?this.school.getTeachers(e):l.a.list(e)},checkAccess:function(){o.a.isLogged||r.a.isLogged||this.$router.replace("/")},tryToCreate:function(t){var e=this;if(this.canCreate){this.teachers.some(function(t){return t.email.toLowerCase()===e.newEmail.toLowerCase().trim()})?this.setError(this.tokens.err_exists,this.tokens.add_new(this.tokens.teacher)):this.createTeacher()}},createTeacher:function(){var t=this;this.isCreating=!0;var e=function(e){t.isCreating=!1,e?t.setError(e,t.tokens.add_new(t.tokens.teacher)):(t.newName="",t.newEmail="",t.loadTeachers(),t.setSuccess(t.tokens.added(t.tokens.teacher)))};this.school?this.school.createTeacher(this.newName.trim(),this.newEmail.trim(),e):r.a.get(this.newSchool,function(s,n){if(s)return e(s);n.createTeacher(t.newName.trim(),t.newEmail.trim(),e)})},moveTeacher:function(t,e){var s=this,n=e.target;o.a.moveTeacher(t,n.value,this.schools,function(t){t?s.setError(t,s.tokens.err_move):s.setSuccess(s.tokens.msg_moved)})},getListOfTeacherClasses:function(t){var e=[];for(var s in t.classes)e.push(t.classes[s]);return e.join(", ")}},created:function(){var t=this;console.log("Teachers component created"),n.a.$on("logout",function(){t.checkAccess()}),n.a.$on("login",function(){t.init()}),n.a.$on("lang",function(){t.tokens=s.i(a.b)("teachers","_form","_buttons","_labels","_failures")}),this.checkAccess()},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(62);s(20);e.default={name:"calib-page",data:function(){return{isConnected:i.a.state.isConnected&&!i.a.state.isTracking&&!i.a.state.isBusy||!1,isETUDConnected:i.a.state.isServiceRunning||!1,isCalibrated:i.a.state.isCalibrated||!1,tokens:s.i(n.b)("assignment","_buttons")}},props:{texts:{type:Object,required:!0}},computed:{calibInstruction:function(){return this.texts.calibInstruction?this.texts.calibInstruction.split("\n"):[]}},methods:{showETUDOptions:function(t){i.a.showOptions()},reload:function(t){this.$router.replace("/assignments")},calibrate:function(t){this.$emit("close",{skip:!1})},skip:function(t){this.$emit("close",{skip:!0})},cancel:function(t){this.$router.replace("/assignments")}},created:function(){var t=this;i.a.setCallback("stateUpdated","calib",function(e){t.isConnected=e.isConnected&&!e.isTracking&&!e.isBusy,t.isETUDConnected=e.isServiceRunning,t.isCalibrated=e.isCalibrated})},beforeDestroy:function(){i.a.clearCallback("stateUpdated","calib")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(20);e.default={name:"finished-page",data:function(){return{tokens:s.i(n.b)("assignment")}},props:{saving:Boolean,texts:i.a},methods:{back:function(t){this.$router.replace("../assignments")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(26);e.default={name:"questionnaire-page",data:function(){var t=this;return{questionIndex:0,questions:this.questionnaire.map(function(t){return i()({answer:null},t)}).filter(function(e){return e.type===a.a.types.text.name||t.longGazedWords.includes(e.word)})}},props:{questionnaire:{type:Array,required:!0,default:function(){return[]}},longGazedWords:{type:Array,default:function(){return[]}}},computed:{question:function(){return this.questionIndex>=0&&this.questionIndex<this.questions.length?this.questions[this.questionIndex]:null}},methods:{asnwerRevealedClass:function(t){return{"is-success":this.question.answer&&this.question.answer.text===t.text&&t.isCorrect,"is-danger":this.question.answer&&this.question.answer.text===t.text&&!t.isCorrect}},reply:function(t){var e=this;this.question.answer||(this.question.answer=t,window.setTimeout(function(){if(e.questionIndex===e.questions.length-1)return void e.$emit("finished",{questionnaire:e.questions});e.questionIndex++},2e3))}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(65),i=s.n(n),a=s(3),o=s(62),r=s(20),l=s(6),u=s(5),c=s(374),d=s.n(c),h=s(121);e.default={name:"start-page",mixins:[h.a],components:{"task-page":d.a},data:function(){return{isConnected:o.a.state.isConnected&&!o.a.state.isTracking&&!o.a.state.isBusy||!1,isCalibrated:o.a.state.isCalibrated&&!o.a.state.isTracking&&!o.a.state.isBusy||!1,isRunning:o.a.state.isConnected&&o.a.state.isTracking&&!o.a.state.isBusy||!1,isReading:!1,isFullscreen:!1,timeoutTimer:null,finilizeTask:!1,tokens:s.i(a.b)("assignment","_buttons")}},props:{texts:{type:r.a,required:!0},task:{type:l.a,required:!0},student:{type:u.a,required:!0}},computed:{startInstruction:function(){return this.texts.startInstruction?this.texts.startInstruction.split("\n"):[]}},methods:{start:function(t){var e=this;this.isReading=!0,this.makeFullscreen(this.$refs.fullscreen),o.a.start(),this.task.useTimeout&&(this.timeoutTimer=setTimeout(function(){e.timeoutTimer=null,e.finilizeTask=!0},6e4*this.task.timeout))},cancel:function(t){this.$emit("close",{cancelled:!0})},finishedReading:function(t){this.clearTaskTimeout(),this.isReading=!1,this.$emit("close",i()({finished:!0},t)),this.closeFullscreen(),o.a.stop()},gazeDataSaved:function(t){this.$emit("saved",t)},clearTaskTimeout:function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)}},watch:{isRunning:function(t){var e=this;!t&&this.isFullscreen&&this.isReading&&(this.clearTaskTimeout(),setTimeout(function(){e.closeFullscreen(),e.$router.replace("/assignments")},4e3))}},created:function(){var t=this;o.a.setCallback("stateUpdated","start",function(e){t.isConnected=e.isConnected&&!e.isTracking&&!e.isBusy,t.isCalibrated=e.isCalibrated&&!e.isTracking&&!e.isBusy,t.isRunning=e.isConnected&&e.isTracking&&!e.isBusy}),this.onFullscreenChanges(function(e){t.isFullscreen=e})},beforeDestroy:function(){o.a.clearCallback("stateUpdated","start")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(154),i=s.n(n),a=s(120),o=s.n(a),r=s(20),l=s(6),u=s(5),c=s(127),d=s(125),h=s(225),f=s(224),p=s(3),m=s(62),v=s(73),g=s(12),_=s(18);s(51),s(42);e.default={name:"task-page",components:{"task-text":i.a,"task-images":o.a},data:function(){return{textPresenter:null,feedbackProvider:null,collector:null,font:null,fixation:{word:null,duration:0},fixationUpdateTimer:0,isWaitingToFinilizePage:!1,audioRecorder:null,audioFiles:[],tokens:s.i(p.b)("assignment")}},props:{texts:{type:r.a,required:!0},task:{type:l.a,required:!0},student:{type:u.a,required:!0},finilize:{type:Boolean,default:!1}},computed:{hasNextPage:function(){return!!this.textPresenter&&this.textPresenter.hasNextPage},isLastPage:function(){return!!this.textPresenter&&!this.textPresenter.hasNextPage},images:function(){return!this.textPresenter||this.textPresenter.isInstructionPage||this.textPresenter.page<0?[]:this.task.pages[this.textPresenter.page].images}},methods:{init:function(){var t=this,e=this.$refs.container;this.font=v.a.from(e.$data.textStyle),this.feedbackProvider=new d.a(this.task.syllab,this.task.speech),this.feedbackProvider.init();var s=e.$refs.text;this.textPresenter=new c.a(this.task,this.texts.firstPage,s,this.feedbackProvider.syllabifier),this.collector=new h.a(this.task,this.student,this.font,this.feedbackProvider.setup),this.feedbackProvider.events.addListener("syllabified",function(e){return t.collector.syllabified(e)}),this.feedbackProvider.events.addListener("pronounced",function(e){return t.collector.pronounced(e)}),m.a.setCallback("wordFocused","task-page",function(e){var s=null;t.textPresenter.isInstructionPage||(s=t.feedbackProvider.setFocusedWord(e)),t.collector.setFocusedWord(e);var n=e?e.dataset.wordId:"";t.fixation={word:s?new g.b(s,n):null,duration:0}}),m.a.setCallback("wordLeft","task-page",function(e){t.textPresenter.isInstructionPage||t.feedbackProvider.setFocusedWord(null),t.collector.setFocusedWord(null),t.fixation={word:null,duration:0}}),m.a.setCallback("gazePoint","task-page",function(e){t.collector.addGazePoint(e)}),this.collector.start(),this.fixationUpdateTimer=window.setInterval(function(){var e=t.collector.focusedWord;e?t.fixation={word:t.fixation.word,duration:e.duration}:t.fixation.word&&(t.fixation={word:null,duration:0})},25)},next:function(t){var e=this;if(t&&this.task.recordAudio){this.isWaitingToFinilizePage=!0;this.$refs.container.$refs.text.innerHTML="",this.audioRecorder.stop().then(function(t){e.saveAudio(t,function(t){e.audioFiles.push(t),e.startPage(),e.isWaitingToFinilizePage=!1})})}else this.startPage()},finish:function(t){var e=this;this.task.recordAudio?(this.isWaitingToFinilizePage=!0,this.audioRecorder.stop().then(function(t){e.saveAudio(t,function(t){e.audioFiles.push(t),e.stop(),e.isWaitingToFinilizePage=!1})})):this.stop()},onImageShow:function(t){this.collector.imageShow(t.image)},onImageHide:function(t){this.collector.imageHide(t.image)},startPage:function(){var t=this,e=void 0;0===this.textPresenter.page&&this.texts.firstPage&&this.texts.firstPage.length&&(e=this.collector.wordReadingDuration),this.textPresenter.nextPage(),this.collector.nextPage(),this.task.recordAudio&&this.audioRecorder.start(function(){t.collector.updatePageTimestamp()}),this.feedbackProvider.reset(e),m.a.updateTargets()},stop:function(){var t=this;this.$emit("finished",{longGazedWords:this.collector.longGazedWords(this.task.syllab.threshold.value)}),this.task.recordAudio&&this.collector.setAudioFiles(this.audioFiles),this.collector.stop(function(e,s){t.$emit("saved",{err:e,keys:s})}),window.clearInterval(this.fixationUpdateTimer),this.fixationUpdateTimer=0},saveAudio:function(t,e){var s=g.a.generatePrefix()+"-"+this.textPresenter.page;_.a.uploadAudio(t,s,null,function(t,s){t?(console.error("AUDIO",t),e("")):s&&e(s)})}},watch:{finilize:function(t){t&&this.finish(null)}},mounted:function(){var t=this;this.task.recordAudio?s.i(f.a)().then(function(e){t.audioRecorder=e,t.init(),setTimeout(function(){return t.next(null)},2e3)}):(this.init(),this.next(null))},beforeDestroy:function(){this.feedbackProvider.cleanup(),m.a.clearCallback("stateUpdated","task-page"),m.a.clearCallback("wordFocused","task-page"),m.a.clearCallback("wordLeft","task-page"),m.a.clearCallback("gazePoint","task-page")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(237),i=s.n(n),a=s(27),o=s.n(a),r=s(133),l=s.n(r),u=s(31),c=s.n(u),d=s(3),h=s(36),f=s(8),p=s(71),m=s.n(p),v=s(87),g=s.n(v),_=s(52);s(88),s(92);e.default={name:"durations",components:{"control-panel":m.a,options:g.a},data:function(){return{pageIndex:-1,isOptionsDisplayed:!1,defaultFeedback:this.data.records[0].session.feedbacks,words:[],options:null,UNITS:null,UI:null,tokens:s.i(d.b)("vis_durations")}},props:{data:{type:_.a,required:!0}},computed:{textLength:function(){return this.data.records[0].data.pages.length},initialPageIndex:function(){return this.data.records[0].data.pages[0].isIntro?1:0},title:function(){var t=this.data.records[0];return this.tokens.hdr_dur(this.data.params.student,t.task.name)},feedback:function(){return new f.b(this.defaultFeedback.speech,this.defaultFeedback.syllabification)}},methods:{setPage:function(t){this.pageIndex=t.index,this.makeList()},showOptions:function(t){this.isOptionsDisplayed=!0},close:function(t){this.$emit("close")},applyOptions:function(t){this.makeList()},closeOptions:function(t){this.isOptionsDisplayed=!1},makeList:function(){var t=this,e=new c.a,s=0;this.data.records.forEach(function(n){n.data.pages[t.pageIndex].words.forEach(function(n){s+=t.appendWord(e,n)})}),this.words=this.compute(new c.a([].concat(l()(e.entries()))),s)},appendWord:function(t,e){var s=new RegExp(""+this.defaultFeedback.syllabification.hyphen,"g"),n=Math.floor(e.rect.x/10)+"_"+Math.floor(e.rect.y/10),i=t.get(n);return i?i.focusing.duration+=e.focusing.duration:(i=o()({},e,{focusing:{duration:e.focusing.duration}}),i.text=i.text.replace(s,""),t.set(n,i)),i.focusing.duration},compute:function(t,e){var s=this,n=[];t.forEach(function(t){var i=void 0,a=t.focusing.duration;s.UI.units===s.UNITS.SECONDS?(i=Math.round(a)/1e3,n.push({text:t.text,value:i.toFixed(2),num:i})):s.UI.units===s.UNITS.PERCENTAGE?(i=100*a/e,n.push({text:t.text,value:i.toFixed(1)+"%",num:i})):s.UI.units===s.UNITS.MS_PER_CHAR&&(i=a/t.text.length,n.push({text:t.text,value:i.toFixed(0),num:i}))});var i=function(t,e){return e.num-t.num};return n.sort(i)}},created:function(){this.UNITS={SECONDS:this.tokens.item_seconds,PERCENTAGE:this.tokens.item_percentage,MS_PER_CHAR:this.tokens.item_ms_char},this.UI={units:this.UNITS.SECONDS},this.options={gazePlot:new h.b({id:"durations",title:this.tokens.hdr_options,options:h.a.createOptions({units:new h.c({type:Array,items:i()(this.UNITS),label:this.tokens.lbl_units})},this.UI),defaults:h.a.createDefaults(this.UI)})}},mounted:function(){console.log("Durations created"),this.setPage({index:this.initialPageIndex})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(7),o=s(3),r=s(119),l=s.n(r),u=s(36),c=s(97),d=s(77),h=s(130),f=s(12),p=(s(89),{colorMetric:d.a.Type.DURATION,saccadeColor:"#08F",regressionColor:"#000",showConnections:!0,showSaccades:!0,showFixations:!0,syllab:{background:"#fce",wordColor:"#060"}});e.default={name:"gaze-plot",mixins:[l.a],data:function(){return{record:this.data.records[0],painter:null,audio:null,tokens:s.i(o.b)("vis","vis_gaze_plot")}},computed:{title:function(){return this.tokens.hdr_reading(this.record.student.name,this.record.task.name,a.a.sessionDate(this.record.session.date))}},methods:{changePage:function(){var t=this;this.painter||(this.painter=new c.a(this.$refs.canvas,{syllab:this.defaultFeedback.syllabification}),this.painter.setFont(this.record.session.font),this.painter.setScreenSize(this.record.session.screen)),this.mapAndShow(),this.visibleImages=this.currentImages.map(function(t){return f.a.from(t,{ignoreDisplayCondition:!0})}),this.audioPlayerProps.visible=!1,1===this.data.records.length&&this.data.records[0].data.pages[this.pageIndex].audio&&(this.audio=new Audio(this.data.records[0].data.pages[this.pageIndex].audio),this.audio.addEventListener("loadeddata",function(e){t.audioPlayerProps.duration=(e.target||e.path[0]).duration,t.audioPlayerProps.visible=!0}),this.audio.addEventListener("timeupdate",function(e){t.audioPlayerProps.time=(e.target||e.path[0]).currentTime}),this.audio.addEventListener("play",function(e){t.audioPlayerProps.playing=!(e.target||e.path[0]).paused}),this.audio.addEventListener("pause",function(e){t.audioPlayerProps.playing=!(e.target||e.path[0]).paused}),this.audio.addEventListener("ended",function(t){(t.target||t.path[0]).currentTime=0}))},redraw:function(){this.mapAndShow()},mapAndShow:function(){this.painter.clean();var t=this.currentPages[0],e=t.fixations?this.map(t).fixations:null;e&&h.a.compute(e);var s=this.addGazeInfoToWords(t.text,e);if(this.painter.drawWords(s,i()({colorMetric:p.colorMetric,showConnections:p.showConnections,hyphen:this.defaultFeedback.syllabification.hyphen},this.commonUI)),t.syllabifications&&this.painter.drawSyllabifications(t.syllabifications,i()({isSyllabified:"hyphen"===this.record.session.feedbacks.syllabification.mode,hyphen:this.record.session.feedbacks.syllabification.hyphen},p.syllab)),!t.fixations)return void(this.isWarningMessageVisible=!0);this.isWarningMessageVisible=!1,p.showFixations&&e&&this.painter.drawFixations(e,i()({connectionColor:this.commonUI.wordRectColor},p))},addGazeInfoToWords:function(t,e){var s=[];return t.forEach(function(t){var n={count:0,duration:0};e&&e.forEach(function(e){e.word&&e.word.id===t.id&&(n.count+=1,n.duration+=e.duration)}),s.push(i()({focusing:n},t))}),s}},created:function(){var t=this;this.options.gazePlot=new u.b({id:"gazePlot",title:this.tokens.hdr_options,options:u.a.createOptions({colorMetric:new u.c({type:Array,items:d.a.Types,label:this.tokens.lbl_word_color}),saccadeColor:new u.c({type:"#",label:this.tokens.lbl_sacc_color}),regressionColor:new u.c({type:"#",label:this.tokens.lbl_reg_sacc_color}),showConnections:new u.c({type:Boolean,label:this.tokens.lbl_show_conn}),showSaccades:new u.c({type:Boolean,label:this.tokens.lbl_show_sacc}),showFixations:new u.c({type:Boolean,label:this.tokens.lbl_show_fix}),"syllab.background":new u.c({type:"#",label:this.tokens.lbl_syllab_back}),"syllab.wordColor":new u.c({type:"#",label:this.tokens.lbl_syllab_word})},p),defaults:u.a.createDefaults(p)}),this.audioPlayerProps.toggled=function(e){t.audio&&(e.isPlaying?t.audio.play():t.audio.pause())},this.audioPlayerProps.slided=function(e){t.audio&&(t.audio.currentTime=e.time)}},mounted:function(){console.log("GazePlot created")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(7),o=s(3),r=s(36),l=s(97),u=s(77),c=s(229),d=s(12),h=s(119),f=s.n(h),p=(s(50),{x:2,y:56}),m={colorMetric:u.a.Type.NONE,nameFontFamily:"Calibri, Arial, sans-serif",nameFontSize:18,nameSpacing:1.5,syllab:{background:"#fce",wordColor:"#060"}};e.default={name:"gaze-replay",mixins:[f.a],data:function(){return{painter:null,tracks:[],tokens:s.i(o.b)("vis","vis_gaze_replay")}},computed:{title:function(){var t=this.data.records[0];return this.tokens.hdr_gaze_replay(this.data.params.student,t.task.name)}},methods:{restartPlayer:function(t){this.stopAll(),this.start()},togglePlayer:function(t){this.isPlayerPaused=!this.isPlayerPaused,this.tracks.forEach(function(t){return t.togglePause()})},changePage:function(){this.isWarningMessageVisible=!1,this.visibleImages=this.currentImages.filter(function(t){return t.on===d.a.EVENT.none}).map(function(t){return d.a.from(t)}),this.painter||(this.painter=new l.a(this.$refs.canvas,{syllab:this.defaultFeedback.syllabification}),this.painter.setScreenSize(this.data.records[0].session.screen)),this.tracks.length&&(this.stopAll(),this.start())},redraw:function(){this.painter.clean(),this.drawText(),this.drawNames()},createTracks:function(){var t=this;c.a.resetColors();var e={};this.data.records.forEach(function(t){var s=t.student.name;e[s]=void 0!==e[s]}),this.data.records.forEach(function(s){var n=s.student.name;e[n]&&(n=n+" "+a.a.sessionDate(s.session.date)),t.tracks.push(new c.a(t.$refs.root,n,s.data.pages,t.painter.offset))})},stopAll:function(){this.tracks.forEach(function(t){return t.stop()})},start:function(){var t=this;this.isPlayerPaused=!1,this.redraw(),this.tracks.forEach(function(e,s){e.start(t.pageIndex,{fixation:function(e,s){var n=t.currentImages.filter(function(s){return!t.visibleImages.find(function(t){return t.src===s.src})&&s.shown<e.tsSync}),i=t.currentImages.filter(function(s){return!!t.visibleImages.find(function(t){return t.src===s.src})&&s.hidden>0&&s.hidden<e.tsSync});(n.length>0||i.legnth>0)&&(t.visibleImages=t.currentImages.filter(function(t){return t.shown<=e.tsSync&&(!(t.hidden>0)||e.tsSync<t.hidden)}).map(function(t){return d.a.from(t,{ignoreDisplayCondition:!0})}))},completed:function(n){t.isWarningMessageVisible=!!n;var i={color:e.color,index:s,text:""};t.painter.checkName(i,{fontSize:m.nameFontSize,fontFamily:m.nameFontFamily,nameSpacing:m.nameSpacing,location:p,isNoData:!!n})},syllabification:function(e){t.painter.setFont(t.defaultSession.font),t.painter.drawSyllabification(e,i()({syllab:i()({},t.defaultSession.feedbacks.syllabification)},t.commonUI,m.syllab))}})})},drawNames:function(){var t=this.tracks.map(function(t){return{text:t.name,color:t.color}});this.painter.drawNames(t,{fontSize:m.nameFontSize,fontFamily:m.nameFontFamily,nameSpacing:m.nameSpacing,location:p})},drawText:function(){this.painter.setFont(this.defaultSession.font),this.painter.drawWords(this.currentPages[0].text,i()({colorMetric:m.colorMetric},this.commonUI,{drawWordFrame:!1}))}},created:function(){this.options.gazeReplay=new r.b({id:"gazeReplay",title:this.tokens.hdr_options,options:r.a.createOptions({colorMetric:new r.c({type:Array,items:u.a.Types,label:this.tokens.lbl_word_color}),nameFontFamily:new r.c({type:String,label:this.tokens.lbl_font}),nameFontSize:new r.c({type:Number,step:1,label:this.tokens.lbl_font_size}),nameSpacing:new r.c({type:Number,step:.1,label:this.tokens.lbl_spacing}),"syllab.background":new r.c({type:"#",label:this.tokens.lbl_syllab_back}),"syllab.wordColor":new r.c({type:"#",label:this.tokens.lbl_syllab_word})},m),defaults:r.a.createDefaults(m)})},mounted:function(){console.log("GazeReplay created"),this.createTracks(),this.start()},beforeDestroy:function(){this.stopAll()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(27),i=s.n(n),a=s(7),o=s(3),r=(s(36),s(97)),l=s(230),u=s(77),c=s(12),d=s(119),h=s.n(d);s(50),s(74);e.default={name:"audio-replay",mixins:[h.a],data:function(){return{painter:null,track:null,record:this.data.records[0],audio:null,offset:0,tokens:s.i(o.b)("vis")}},computed:{title:function(){return this.tokens.hdr_reading(this.record.student.name,this.record.task.name,a.a.sessionDate(this.record.session.date))}},methods:{changePage:function(){var t=this;this.audio&&(this.audio.pause(),this.audio=null),this.isWarningMessageVisible=!1,this.visibleImages=this.currentImages.filter(function(t){return t.on===c.a.EVENT.none}).map(function(t){return c.a.from(t)}),this.painter||(this.painter=new r.a(this.$refs.canvas,{syllab:this.defaultFeedback.syllabification}),this.painter.setScreenSize(this.data.records[0].session.screen)),this.redraw(),this.track||(this.track=new l.a(this.$refs.root,this.record.data.pages,this.painter.offset)),this.track.setPage(this.pageIndex),this.loadAudio(function(e){e?console.error("GazeWithAudio",e):t.audio.play()})},redraw:function(){this.painter.clean(),this.drawText()},createTrack:function(){},loadAudio:function(t){var e=this,s=this.record.data.pages[this.pageIndex];0===this.pageIndex&&(this.offset=s.ts);var n=s.audio;n?(this.audio=new Audio(n),this.audio.autoplay=!0,this.audio.addEventListener("loadeddata",function(s){e.audioPlayerProps.duration=(s.target||s.path[0]).duration,t()}),this.audio.addEventListener("timeupdate",function(t){e.audioPlayerProps.time=(t.target||t.path[0]).currentTime,e.track.setTime(s.ts+1e3*e.audio.currentTime),e.track.fixation&&e.updateImages(e.track.fixation.tsSync)}),this.audio.addEventListener("play",function(t){e.audioPlayerProps.playing=!(t.target||t.path[0]).paused}),this.audio.addEventListener("pause",function(t){e.audioPlayerProps.playing=!(t.target||t.path[0]).paused}),this.audio.addEventListener("ended",function(t){(t.target||t.path[0]).currentTime=0})):t("no audio")},updateImages:function(t){var e=this,s=this.currentImages.filter(function(s){return!e.visibleImages.find(function(t){return t.src===s.src})&&s.shown<t}),n=this.currentImages.filter(function(s){return!!e.visibleImages.find(function(t){return t.src===s.src})&&s.hidden>0&&s.hidden<t});(s.length>0||n.legnth>0)&&(this.visibleImages=this.currentImages.filter(function(e){return e.shown<=t&&(!(e.hidden>0)||t<e.hidden)}).map(function(t){return c.a.from(t,{ignoreDisplayCondition:!0})}))},drawText:function(){this.painter.setFont(this.defaultSession.font),this.painter.drawWords(this.currentPages[0].text,i()({colorMetric:u.a.Type.NONE},this.commonUI,{drawWordFrame:!1}))}},created:function(){var t=this;this.audioPlayerProps.visible=!0,this.audioPlayerProps.toggled=function(e){t.audio&&(e.isPlaying&&t.audio.paused?t.audio.play():e.isPlaying||t.audio.paused||t.audio.pause())},this.audioPlayerProps.slided=function(e){t.audio&&(t.audio.currentTime=e.time),t.track.setTime(1e3*e.time)}},mounted:function(){console.log("GazeWithAudio created")},beforeDestroy:function(){this.track&&this.track.cleanup(),this.audio&&!this.audio.paused&&this.audio.pause()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),i=s.n(n),a=s(37),o=s.n(a),r=s(79),l=s.n(r),u=s(54),c=s.n(u),d=s(3),h=s(96),f=s(36),p="silko";e.default={name:"options",data:function(){return{tokens:s.i(d.b)("options")}},props:{values:{type:Object,required:!0}},methods:{close:function(t){t.target===this.$el&&this.$emit("close")},save:function(t){this.saveSettings(),this.update(),this.$emit("apply"),this.$emit("close")},apply:function(t){this.update(),this.$emit("apply")},reset:function(t){window.localStorage.removeItem(p),f.a.restoreDefaults(this.values),this.$emit("apply"),this.$refs.container.innerHTML="",this.bind()},loadSettings:function(){var t=JSON.parse(window.localStorage.getItem(p));if(t){!function t(e,s){for(var n in e){var i=s[n],a=e[n];i&&("object"===(void 0===a?"undefined":c()(a))?t(a,i):"function"==typeof i.ref&&i.ref(a))}}(t,this.values)}},saveSettings:function(){var t={};!function t(e,s){for(var n in s){var i=s[n];"function"==typeof i.ref?e[n]=i.ref():"object"===(void 0===i?"undefined":c()(i))&&(e[n]={},t(e[n],i))}}(t,this.values),window.localStorage.setItem(p,l()(t))},update:function(){for(var t in this.values){var e=this.values[t];"function"==typeof e.update&&e.update()}},show:function(t){var e=this.$refs.container;o()(e.querySelectorAll(".group")).forEach(function(e){var s=e.id;"_"!==s[0]&&t&&0!==s.indexOf(t)?e.classList.add("hidden"):e.classList.remove("hidden")})},bind:function(){var t=this,e=this.$refs.container,s=[];for(var n in this.values)s.push(this.values[n]);s=s.sort(function(t,e){return"_"===t.id[0]?"_"===e.id[0]&&t.id<e.id?-1:1:"_"===e.id[0]?-1:t.id<e.id?-1:1}),s.forEach(function(s){var n=s,i=document.createElement("div");i.classList.add("group"),i.id=n.id+"_group";var a=document.createElement("div");if(a.classList.add("name"),a.textContent=n.title,i.appendChild(a),n.options instanceof Array)n.options.forEach(function(e){var s=t.createSubGroup(e,n.id);i.appendChild(s)});else for(var o in n.options){var r=n.options[o],l=t.createRow(r,n.id+"_"+o);i.appendChild(l)}e.appendChild(i)})},createSubGroup:function(t,e){var s=document.createElement("div");s.classList.add("subgroup");var n=document.createElement("div");n.classList.add("subname"),n.textContent=t.title,s.appendChild(n);for(var i in t.options){var a=t.options[i],o=this.createRow(a,e+"_"+i);s.appendChild(o)}return s},createRow:function(t,e){var s=document.createElement("div");s.classList.add("row");var n=document.createElement("div");return n.classList.add("row-label"),n.textContent=t.label,s.appendChild(n),t.type===Array?s.appendChild(this.createSelect(t,e)):t.type===Boolean?s.appendChild(this.createCheckbox(t,e)):t.type===String?s.appendChild(this.createTextInput(t,e)):"#"===t.type?s.appendChild(this.createColorbox(t,e)):t.type===Number?s.appendChild(this.createNumberInput(t,e)):t.type===i.a&&s.appendChild(this.createSelectVal(t,e)),s},createSelect:function(t,e){var s=document.createElement("select");s.classList.add("value"),s.classList.add(e);var n=t.ref();return t.items.forEach(function(t){var e=document.createElement("option");e.value=t,e.textContent=t,n===t&&(e.selected=!0),s.appendChild(e)}),s.addEventListener("change",function(e){t.ref(t.items[e.target.selectedIndex])}),s},createSelectMap:function(t,e){var s=document.createElement("select");s.classList.add("value"),s.classList.add(e);var n=t.ref();return t.items.forEach(function(t,e){var i=document.createElement("option");i.value=e,i.textContent=t,n===e&&(i.selected=!0),s.appendChild(i)}),s.addEventListener("change",function(e){t.ref(t.items[e.target.selectedIndex])}),s},createCheckbox:function(t,e){var s=document.createElement("span"),n=document.createElement("input");n.type="checkbox",n.classList.add(e),n.checked=t.ref(),n.addEventListener("click",function(e){t.ref(e.target.checked)});var i=document.createElement("label"),a=document.createElement("div");return a.textContent="✔",i.appendChild(a),s.appendChild(n),s.appendChild(i),s},createTextInput:function(t,e){var s=document.createElement("input");s.type="text",s.classList.add("value"),s.classList.add(e);var n=t.ref();return s.value=n,s.addEventListener("click",function(e){t.ref(e.target.value)}),s},createColorbox:function(t,e){var s=document.createElement("input");s.type="color",s.classList.add("value"),s.classList.add(e);var n=t.ref();if("#"===n[0])s.value=h.a.validateColor(n),s.addEventListener("change",function(e){t.ref(e.target.value)});else{var i=h.a.cssColorToHex(n);s.value=i.hex,s.setAttribute("alpha",i.a+""),s.addEventListener("change",function(e){t.ref(h.a.hexToRgba(e.target.value,+e.target.getAttribute("alpha")))})}return s},createNumberInput:function(t,e){var s=document.createElement("input");return s.type="number",void 0!==t.step&&(s.step=t.step+""),void 0!==t.min&&(s.min=t.min.toString()),void 0!==t.max&&(s.max=t.max.toString()),s.classList.add("value"),s.classList.add(e),s.value=t.ref(),s.addEventListener("change",function(e){t.ref(+e.target.value)}),s}},mounted:function(){this.loadSettings(),this.bind()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={name:"player",data:function(){return{tokens:s.i(n.b)("player")}},props:{isPaused:{type:Boolean,default:!1}},methods:{restart:function(t){this.$emit("restart")},toggle:function(t){this.$emit("toggle")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(78),i=s.n(n),a=s(101),o=s.n(a),r=s(7),l=s(3),u=s(71),c=s.n(u),d=(s(26),s(74),s(52));e.default={name:"questionnaire-results",components:{"control-panel":c.a},data:function(){return{questionnaire:null,tokens:s.i(l.b)("vis","_form","_labels")}},props:{data:{type:d.a,required:!0}},computed:{title:function(){var t=this.data.records[0];return this.tokens.hdr_quest(t.task.name)}},filters:{name:function(t){return t.split(",")[0]},date:function(t){return t.split(",")[1]}},methods:{close:function(t){this.$emit("close")},getAnswerClass:function(t,e){if(t[e]){var s=t[e].isCorrect;return{isCorrect:s,isIncorrect:!s}}return{}},getAnswerText:function(t,e){return t[e]?t[e].text:""},getTotal:function(t){var e=0,s=0;for(var n in t)t[n]&&(s++,e+=t[n].isCorrect?1:0);return(e/s*100).toFixed(1)},getRecordName:function(t){return t.student.name+","+r.a.sessionDate(t.session.date)},createQuestionnaire:function(){var t=this,e={},s=new o.a;this.data.records.forEach(function(n){if(n.data.questionnaire){var i=t.getRecordName(n),a={};n.data.questionnaire.forEach(function(t){s.add(t.question),a[t.question]=t.answer}),e[i]=a}});var n=[],a=!0,r=!1,l=void 0;try{for(var u,c=i()(s);!(a=(u=c.next()).done);a=!0){var d=u.value;n.push(d)}}catch(t){r=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}return{sessions:e,questions:n}}},mounted:function(){console.log("Questionnaire results created"),this.questionnaire=this.createQuestionnaire()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),i=s.n(n),a=s(3),o=s(8),r=s(130),l=s(98),u=s(61),c=s(388),d=s.n(c),h=s(58),f=s.n(h),p=s(71),m=s.n(p),v=s(87),g=s.n(v),_=(s(5),s(49),s(30),s(52));l.a.initializeSettings(),e.default={name:"student-summary",components:{"modal-container":f.a,"control-panel":m.a,options:g.a,"progress-chart":d.a},data:function(){return{isOptionsDisplayed:!1,students:[],options:{_sgwm:l.a.createOptions()},sortedStatIndex:-1,nameSortDir:1,progressChartData:null,tokens:s.i(a.b)("vis_summary","_form","_labels"),statistics:[]}},props:{data:{type:_.a,required:!0}},computed:{headerNameClass:function(){return{sorted:this.sortedStatIndex<0,up:this.sortedStatIndex<0&&this.nameSortDir>0,down:this.sortedStatIndex<0&&this.nameSortDir<0}},title:function(){var t=this.data.params.grade;return t.studentCount+" "+t.name},isShowingProgress:function(){return!!this.progressChartData}},methods:{showOptions:function(t){this.isOptionsDisplayed=!0},close:function(t){this.$emit("close")},applyOptions:function(t){l.a.save(),this.makeStudents()},closeOptions:function(t){this.isOptionsDisplayed=!1},statNameClass:function(t,e){return{sorted:this.sortedStatIndex===e,up:this.sortedStatIndex===e&&t.sortDir>0,down:this.sortedStatIndex===e&&t.sortDir<0}},makeStudents:function(){var t=this,e=new i.a;this.data.records.forEach(function(t){var s={data:t.data,feedbacks:t.session.feedbacks,name:t.task.name,date:t.session.date};if(e.has(t.student.id)){e.get(t.student.id).sessions.push(s)}else{var n={ref:t.student,sessions:[s],statistics:null};e.set(t.student.id,n)}});var s=[];e.forEach(function(e){e.statistics=t.calculateStatistics(e),s.push(e)}),this.students=s,this.sort(this.sortedStatIndex)},calculateStatistics:function(t){var e=[];e.push(t.sessions.length);var s=0,n=0,i=0,a={count:0,duration:0,hyphenations:0},c=0,d=0,h={count:0,sessions:0};t.sessions.forEach(function(t){var e=t.data.pages,c=t.feedbacks.syllabification.enabled?new u.a(o.c.from(t.feedbacks.syllabification)):null,d=void 0,f=void 0;e.forEach(function(t,e){if(!d&&t.fixations&&(d=t),t.fixations){f=t;var i={first:t.fixations[0],last:t.fixations[t.fixations.length-1]};if(s+=i.last.ts+i.last.duration-i.first.ts,n+=t.text.length,c){var a=t.text.map(function(t){return t.text}).join(" ");h.count+=c.getSyllabCount(a),e||h.sessions++}}}),d&&f&&(a=e.reduce(function(t,e){return e.fixations?{count:t.count+e.fixations.length,duration:t.duration+e.fixations.reduce(function(t,e){return t+e.duration},0),hyphenations:t.hyphenations+(e.syllabifications?e.syllabifications.length:0)}:t},a),i+=e.reduce(function(t,e){if(!e.fixations)return t;var s=l.a.map(e);return t+r.a.compute(s.fixations)},0))}),c=a.count?a.duration/a.count:0,d=a.count>1?t.sessions.reduce(function(t,e){return e.data.pages.forEach(function(e){e.fixations&&e.fixations.forEach(function(e){var s=e.duration-c;t+=s*s})}),t},0):0;var f=new Date(0,0,0,0,0,Math.round(s/1e3));return e.push(60*f.getMinutes()+f.getSeconds()),e.push(n?(n/(s/6e4)).toFixed(0):"-"),e.push(h.count?(h.count/(s/6e4)).toFixed(0)+" ("+h.sessions+")":"-"),e.push(s?(s/n/1e3).toFixed(2):"-"),e.push(a.count?Math.round(c):"-"),e.push(a.count>1?Math.round(Math.sqrt(d/(a.count-1))):"-"),e.push((a.hyphenations/t.sessions.length).toFixed(2)),e.push(i),e},secondsToString:function(t){var e=""+t;return e.length<2&&(e="0"+e),e},sort:function(t){var e=this.computeSortDirection();this.nameSortDir=t<0?e:0,this.statistics.forEach(function(s,n){s.sortDir=t===n?e:0}),this.sortData(t,e),this.sortedStatIndex=t},computeSortDirection:function(){var t=0;return t=this.sortedStatIndex<0?this.nameSortDir:this.statistics[this.sortedStatIndex].sortDir,t<1?1:-1},sortData:function(t,e){var s=this.students.map(function(t){return t});s.sort(function(s,n){if(t<0)return e>0?s.ref.name<n.ref.name?1:0:s.ref.name>n.ref.name?1:0;var i=s.statistics[t],a=n.statistics[t];return e>0?a-i:i-a}),this.students=s},computeDurationAndWords:function(t,e){var s=0,n=0,i=void 0,a=void 0;return t.forEach(function(t,o){if(!i&&t.fixations&&(i=t),t.fixations){a=t;var r={first:t.fixations[0],last:t.fixations[t.fixations.length-1]};s+=r.last.ts+r.last.duration-r.first.ts,n+=t.text.length,e&&e(t)}}),i&&a?{duration:s,wordCount:n}:null},computeWPM:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){var i=e.computeDurationAndWords(t.data.pages,null);i&&(s.push(i.wordCount?i.wordCount/(i.duration/6e4):0),n.push(t.name+"|"+t.date))}),{title:this.tokens.tit_wpm,values:s,labels:n}},computeSPM:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){if(t.feedbacks.syllabification.enabled){var i=new u.a(o.c.from(t.feedbacks.syllabification)),a=0,r=e.computeDurationAndWords(t.data.pages,function(t){var e=t.text.map(function(t){return t.text}).join(" ");a+=i.getSyllabCount(e)});r&&(s.push(r.duration?a/(r.duration/6e4):0),n.push(t.name+"|"+t.date))}}),{title:this.tokens.tit_sylpm,values:s,labels:n}},computeSPW:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){var i=e.computeDurationAndWords(t.data.pages,null);i&&(s.push(i.duration?i.duration/i.wordCount/1e3:0),n.push(t.name+"|"+t.date))}),{title:this.tokens.tit_spw,values:s,labels:n}},computeFixation:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){var i={count:0,duration:0};e.computeDurationAndWords(t.data.pages,function(t){i.count+=t.fixations.length,i.duration+=t.fixations.reduce(function(t,e){return t+e.duration},0)})&&(s.push(i.count?i.duration/i.count:0),n.push(t.name+"|"+t.date))}),{title:this.tokens.tit_fd,values:s,labels:n}},computeSyllabifications:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){var i=0;e.computeDurationAndWords(t.data.pages,function(t){i+=t.syllabifications?t.syllabifications.length:0})&&(s.push(i),n.push(t.name+"|"+t.date))}),{title:this.tokens.tit_syllabs,values:s,labels:n}},computeRegressions:function(t){var e=this,s=[],n=[];return t.sessions.forEach(function(t){var i=0;e.computeDurationAndWords(t.data.pages,function(t){var e=l.a.map(t);i+=r.a.compute(e.fixations)})&&(s.push(i),n.push(t.name+"|"+t.date))}),{title:this.tokens.tit_regrs,values:s,labels:n}},showProgress:function(t,e){var s=this.statistics[e].name,n=this["compute"+s](t);this.progressChartData={title:n.title,labels:n.labels,datasets:[{label:"",data:n.values.map(function(t){return parseFloat(t.toFixed(1))}),backgroundColor:"#f87979",borderColor:"#7979f8",fill:!1,lineTension:.2,pointRadius:6,pointBorderWidth:3,pointHoverRadius:10,pointHoverBorderWidth:3}]}},closeChart:function(){this.progressChartData=null}},created:function(){this.statistics=[{name:this.tokens.sessions,sortDir:0,hasProgress:!1},{name:this.tokens.lbl_time,sortDir:0,hasProgress:!1},{name:this.tokens.lbl_wpm,title:this.tokens.tit_wpm,sortDir:0,hasProgress:!0},{name:this.tokens.lbl_spm,title:this.tokens.tit_sylpm,sortDir:0,hasProgress:!0},{name:this.tokens.lbl_spw,title:this.tokens.tit_spw,sortDir:0,hasProgress:!0},{name:this.tokens.lbl_fix,title:this.tokens.tit_fd,sortDir:0,hasProgress:!0},{name:this.tokens.lbl_fsd,title:this.tokens.tit_fsd,sortDir:0,hasProgress:!1},{name:this.tokens.tit_syllabs,sortDir:0,hasProgress:!0},{name:this.tokens.tit_regrs,sortDir:0,hasProgress:!0}]},mounted:function(){console.log("Student summary created"),this.makeStudents()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(36),a=s(98),o=s(8),r=s(71),l=s.n(r),u=s(87),c=s.n(u),d=s(120),h=s.n(d),f=s(384),p=s.n(f),m=(s(30),s(51),s(52)),v=(s(12),{wordColor:"#666",wordHighlightColor:"#606",wordRectColor:"#f44",drawWordFrame:!0});a.a.initializeSettings(),e.default={components:{"control-panel":l.a,options:c.a,"task-images":h.a,"audio-player":p.a},data:function(){return{isOptionsDisplayed:!1,options:{},commonUI:v,pageIndex:-1,currentPages:[],defaultSession:this.data.records[0].session,defaultPages:this.data.records[0].data.pages,defaultFeedback:this.data.records[0].session.feedbacks,defaultQuestionnaire:this.data.records[0].data.questionnaire,isPlayerPaused:!1,isWarningMessageVisible:!1,audioPlayerProps:{visible:!1,duration:0,playing:!1,time:0,toggled:function(t){},slided:function(t){}},currentImages:[],visibleImages:[],fixation:null,tokens:s.i(n.b)("vis")}},props:{data:{type:m.a,required:!0}},computed:{textLength:function(){return this.defaultPages.length},initialPageIndex:function(){return this.defaultPages[0].isIntro?1:0},title:function(){return""},feedback:function(){return new o.b(this.defaultFeedback.speech,this.defaultFeedback.syllabification)}},methods:{changePage:function(){},redraw:function(){},createCommonOptions:function(){return new i.b({id:"_common",title:this.tokens.hdr_commons,options:i.a.createOptions({wordColor:new i.c({type:"#",label:this.tokens.lbl_text_color}),wordHighlightColor:new i.c({type:"#",label:this.tokens.lbl_hl_color}),wordRectColor:new i.c({type:"#",label:this.tokens.lbl_frame_color}),drawWordFrame:new i.c({type:Boolean,label:this.tokens.lbl_draw_frame})},v),defaults:i.a.createDefaults(v)})},setPage:function(t){this.pageIndex=t.index,this.currentPages=this.data.records.map(function(e){return e.data.pages[t.index]}),this.currentImages=this.currentPages[0].images||[],this.changePage()},showOptions:function(t){this.isOptionsDisplayed=!0},close:function(t){this.$emit("close")},applyOptions:function(t){a.a.save(),this.redraw()},closeOptions:function(t){this.isOptionsDisplayed=!1},restartPlayer:function(t){},togglePlayer:function(t){},map:function(t){return a.a.map(t)}},created:function(){this.options._common=this.createCommonOptions(),this.options._sgwm=a.a.createOptions()},mounted:function(){this.setPage({index:this.initialPageIndex})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"vis-title"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(42),i=s(3),a=s(36),o=s(98),r=s(231),l=s(71),u=s.n(l),c=s(87),d=s.n(c),h=s(52);o.a.initializeSettings();var f={levelDuration:500};e.default={name:"word-replay",components:{"control-panel":u.a,options:d.a},data:function(){return{pageIndex:-1,isOptionsDisplayed:!1,isPlayerPaused:!1,defaultText:this.data.records[0].data.pages.map(function(t){return t.text}),defaultFeedback:this.data.records[0].session.feedbacks,words:[],tracks:null,options:null,tokens:s.i(i.b)("vis_word_replay")}},props:{data:{type:h.a,required:!0}},computed:{textLength:function(){return this.defaultText.length},initialPageIndex:function(){return this.data.records[0].data.pages[0].isIntro?1:0},title:function(){var t=this.data.records[0];return this.tokens.hdr_word_replay(this.data.params.student,t.task.name)}},methods:{setPage:function(t){var e=this;this.tracks&&this.stopAll(),this.pageIndex=t.index,this.makeList(),n.a.nextTick(function(){e.start()})},showOptions:function(t){this.isOptionsDisplayed=!0},close:function(t){this.$emit("close")},applyOptions:function(t){var e=this;o.a.save();var s=this.$refs.table.querySelectorAll("tr");this.tracks.forEach(function(t){t.words.forEach(function(n){e.colorizeCell(s[n.id+1].cells[t.id+1],n.totalDuration)})})},closeOptions:function(t){this.isOptionsDisplayed=!1},restartPlayer:function(t){var e=this;this.stopAll(),this.makeList(),n.a.nextTick(function(){e.start()})},togglePlayer:function(t){this.isPlayerPaused=!this.isPlayerPaused,this.tracks.forEach(function(t){return t.togglePause()})},makeList:function(){var t=this;this.tracks||this.createTracks();var e=new RegExp(""+this.defaultFeedback.syllabification.hyphen,"g"),s=this.defaultText[this.pageIndex].map(function(s){return{text:s.text.replace(e,""),durations:t.tracks.map(function(t){return 0}),key:Math.random()}});this.words=s},createTracks:function(){var t=this;this.tracks=this.data.records.map(function(e,s){return new r.a(t.$refs.root,e.student.name,e.data.pages,s)})},start:function(){var t=this;this.isPlayerPaused=!1;var e=this.$refs.table.querySelectorAll("tr");this.tracks.forEach(function(s){var n=s.session[t.pageIndex].text,i=o.a.map(s.session[t.pageIndex]);s.start(i?i.fixations:null,n,t.onWordFixated(s,e),t.onTrackCompleted())}),this.$refs.root.scrollTop=0},stopAll:function(){this.tracks.forEach(function(t){return t.stop()})},colorizeCell:function(t,e){var s=(e?1:0)+Math.floor(e/f.levelDuration),n=255-24*Math.min(10,s),i="rgb("+n+","+n+","+n+")";t.style.backgroundColor=i},hasNoData:function(t){return!this.tracks[t].hasData},onWordFixated:function(t,e){var s=this;return function(n,i){var a=t.words[n.id];a.totalDuration=a.totalDuration+i;var o=e[n.id+1].cells[t.id+1];s.colorizeCell(o,a.totalDuration),t.pointer.setAttribute("style","left: "+(o.offsetLeft+(o.offsetWidth-t.pointerSize)/2)+"px; top: "+(o.offsetTop+(o.offsetHeight-t.pointerSize)/2)+"px")}},onTrackCompleted:function(){return function(){}}},created:function(){this.options={wordReplay:new a.b({id:"wordReplay",title:this.tokens.hdr_options,options:a.a.createOptions({levelDuration:new a.c({type:Number,step:50,label:this.tokens.lbl_level_dur+", ms"})},f),defaults:a.a.createDefaults(f)}),_sgwm:o.a.createOptions()}},mounted:function(){console.log("Word replay created"),this.setPage({index:this.initialPageIndex})},beforeDestroy:function(){this.stopAll()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(8),a=(s(26),s(379)),o=s.n(a),r=s(382),l=s.n(r);e.default={name:"control-panel",components:{player:o.a,"vis-title":l.a},data:function(){return{pageIndex:this.initialPageIndex||0,tokens:s.i(n.b)("control_panel")}},props:{title:{type:String,required:!0},feedback:{type:i.b,default:null},questionnaire:{type:Array,default:null},initialPageIndex:{type:Number,default:0},textLength:{type:Number,default:0},showOptionsButton:{type:Boolean,default:!0},showPlayer:{type:Boolean,default:!1},isPlayerPaused:{type:Boolean,default:!1}},computed:{dispPage:function(){var t=this.initialPageIndex>0,e=t?0:-1,s=t?this.textLength-1:this.textLength,n=t?0:1;return this.pageIndex===e?this.tokens.lbl_intro:this.pageIndex+n+"/"+s},correctAnswers:function(){return this.questionnaire&&this.questionnaire.length?(this.questionnaire.filter(function(t){return t.answer.isCorrect}).length/this.questionnaire.length*100).toFixed(0)+"%":"-"}},methods:{prevPage:function(t){this.pageIndex>0&&this.setPage(this.pageIndex-1)},nextPage:function(t){this.pageIndex<this.textLength-1&&this.setPage(this.pageIndex+1)},showOptions:function(t){this.$emit("show-options")},restartPlayer:function(t){this.$emit("restart-player")},togglePlayer:function(t){this.$emit("toggle-player")},close:function(t){this.$emit("close")},setPage:function(t){this.pageIndex=t,this.$emit("page-changed",{index:t})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={data:function(){return{isPlaying:this.playing,currentTime:this.time,tokens:s.i(n.b)("audio")}},props:{duration:{type:Number,default:100},playing:{type:Boolean,default:!1},time:{type:Number,default:0}},computed:{title:function(){return this.isPlaying?this.tokens.pause:this.tokens.play},durationMs:function(){return Math.round(1e3*this.duration)},currentTimeMs:function(){return Math.round(1e3*this.currentTime)},currentTimeMin:function(){var t=this.currentTime,e=Math.floor(t/60),s=Math.floor(t),n=Math.floor(10*(t-s));return e+":"+(s<10?"0"+s:s)+"."+n}},methods:{toggle:function(){this.isPlaying=!this.isPlaying,this.$emit("toggled",{isPlaying:this.isPlaying})},updateTime:function(t){this.$emit("slided",{time:t.target.value/1e3})}},watch:{playing:function(t){this.isPlaying=t},time:function(t){this.currentTime=t}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(9),i=s(3),a=s(20);e.default={name:"intro-editor",data:function(){return{name:this.intro?this.intro.name:"",calib:this.intro?this.intro.calibInstruction:"",start:this.intro?this.intro.startInstruction:"",firstPage:this.intro?this.intro.firstPageAsText():"",tokens:s.i(i.b)("instruction_editor","_form")}},props:{action:{type:String},showLabels:{type:Boolean,default:!1},nameEditable:{type:Boolean,default:!0},intro:{type:a.a,default:null},reload:Number},watch:{reload:function(){this.name=this.intro?this.intro.name:"",this.calib=this.intro?this.intro.calibInstruction:"",this.start=this.intro?this.intro.startInstruction:"",this.firstPage=this.intro?this.intro.firstPageAsText():""}},computed:{isNameValid:function(){return this.name.length>1},isFirstPageValid:function(){return!this.firstPage.length||this.firstPage.length>14},isCalibInstructionValid:function(){return!this.calib.length||this.calib.length>4},isStartInstructionValid:function(){return!this.start.length||this.start.length>4},hasAnyInstuction:function(){return this.firstPage.length||this.calib.length||this.start.length},canSave:function(){return this.isNameValid&&this.isCalibInstructionValid&&this.isStartInstructionValid&&this.isFirstPageValid&&this.hasAnyInstuction}},methods:{save:function(t){this.$emit("save",{name:this.name.trim(),texts:{calibInstruction:this.calib.trim(),startInstruction:this.start.trim(),firstPage:this.firstPage.trim()}})}},created:function(){var t=this;n.a.$on("lang",function(){t.tokens=s.i(i.b)("instruction_editor","_form")})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);s(128);e.default={name:"item-select-box",data:function(){return{currentItem:null,groups:null,lastSelectionIndex:-1,lastSelectionGroup:"",tokens:s.i(n.b)("selection_box")}},props:{items:{type:Array,required:!0},multiple:{type:Boolean,default:!0},singleGroup:{type:Boolean,default:!0},itemName:{type:String,required:!0},subitemName:{type:String,required:!0}},computed:{hasItemsSelected:function(){return this.items.some(function(t){return t.subitems.some(function(t){return t.selected})})}},methods:{groupedSubitems:function(){if(!this.currentItem)return null;var t={_:{items:[],hidden:!1}};return this.currentItem.subitems.forEach(function(e){e.group?t[e.group]?t[e.group].items.push(e):t[e.group]={items:[e],hidden:!1}:t._.items.push(e)}),t},selectItem:function(t,e){this.currentItem=t,this.groups=this.groupedSubitems()},isItemSelected:function(t){return!!this.currentItem&&(t?this.currentItem.id===t.id:!!this.currentItem)},hasSubitems:function(t){return!(!(t=t||this.currentItem)||!t.subitems)&&!!t.subitems.length},isGroupVisible:function(t){return!t.hidden},toggleItemsVisibility:function(t,e){t.hidden=!t.hidden},selectMultipleSubitems:function(t,e){if(e.shiftKey)for(var s=this.currentItem.subitems.indexOf(t),n=this.lastSelectionIndex<s?-1:1,i=this.lastSelectionIndex<s?-1:this.currentItem.subitems.length,a=s+n;a!==i;a+=n){var o=this.currentItem.subitems[a];if(o.selected)break;o.selected=!this.singleGroup||o.group===t.group}},selectSubitem:function(t,e,s){if(this.multiple||this.items.forEach(function(t){t.subitems.forEach(function(t){t.selected=!1})}),t.selected=!t.selected,this.multiple&&t.selected){if(this.singleGroup&&this.currentItem){var n=t.group;this.currentItem.subitems.forEach(function(t){t.group!==n&&(t.selected=!1)}),this.lastSelectionGroup!==t.group&&(this.lastSelectionIndex=-1)}this.selectMultipleSubitems(t,s)}this.lastSelectionIndex=e,this.lastSelectionGroup=t.group},selectAllSubitems:function(t){this.currentItem.subitems.forEach(function(t){t.selected=!0})},removeAllSubitems:function(t){this.currentItem.subitems.forEach(function(t){t.selected=!1})},accept:function(t){var e=this,s={},n=null;this.items.forEach(function(t){t.subitems.forEach(function(t){t.selected&&(s[t.id]=t.text,e.multiple||(n=t))})}),this.$emit("accept",{subitems:s,selected:n})}},created:function(){1===this.items.length&&this.selectItem(this.items[0],null)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"loading",data:function(){return{}},props:{isModal:{type:Boolean,default:!1}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(63),i=s(3),a=s(17),o=s(19),r=s.n(o),l={INVALID:-1,UNKNOWN:0,VALID:1};e.default={name:"login",components:{"temporal-notification":r.a},mixins:[a.a],data:function(){return{email:"",password:"",inProgress:!1,checkValues:l,tokens:s.i(i.b)("_form")}},computed:{isEmailValid:function(){return this.email?this.email.indexOf("@")<0?this.email.length>4?l.VALID:l.INVALID:/(.{2,})@(\w{2,}\.\w{2,})/.test(this.email)?l.VALID:l.INVALID:l.UNKNOWN},isPasswordValid:function(){return this.password?!this.password||this.password.length>5?l.VALID:l.INVALID:l.UNKNOWN},canLogIn:function(){return!this.inProgress&&this.isEmailValid===l.VALID&&this.isPasswordValid===l.VALID}},methods:{login:function(t){var e=this;this.inProgress=!0,n.a.logIn(this.email,this.password,function(t){if(e.inProgress=!1,t)return e.setError(t,"Failed to log in")})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"modal-container",data:function(){return{}},props:{title:{type:String,default:"Editor"}},methods:{close:function(t){this.$emit("close",{cancelled:!0})}},mounted:function(){this.$emit("mounted")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={name:"assignments",data:function(){return{tokens:s.i(n.b)("modal_error")}},props:{text:{type:String,default:""}},methods:{close:function(t){this.$emit("close")}},watch:{text:function(t){t&&console.error("MODAL_ERROR:",t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={name:"progress-chart",extends:VueChartJs.Line,data:function(){return{tokens:s.i(n.b)("_labels")}},props:["data"],mounted:function(){this.renderChart(this.data,{responsive:!0,maintainAspectRatio:!1,legend:{display:!1,labels:{fontColor:"rgb(255, 99, 132)"}},title:{display:!1},tooltips:{displayColors:!1,callbacks:{title:function(t,e){return e.labels[t[0].index].split("|")[0]}}},scales:{xAxes:[{ticks:{callback:function(t,e,s){var n=t.split("|")[1].split("T");return n[0]+" "+n[1].split(".")[0]}},scaleLabel:{display:!0,labelString:this.tokens.date,fontSize:18}}]}})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={name:"remove-warning",data:function(){return{tokens:s.i(n.b)("remove_warning","_buttons")}},props:{object:String,name:String,data:Object},methods:{reject:function(t){this.$emit("close",{confirm:!1,data:this.data})},confirm:function(t){this.$emit("close",{confirm:!0,data:this.data})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(7),i=s(3),a=s(17),o=s(19),r=s.n(o),l=s(72),u=s.n(l),c=(s(53),s(75));e.default={name:"session-edit-box",components:{"temporal-notification":r.a,"remove-warning":u.a},mixins:[a.a],data:function(){return{sessionToDelete:null,tokens:s.i(i.b)("session_box")}},props:{student:{type:c.a,required:!0}},computed:{toDeleteName:function(){return this.sessionToString(this.sessionToDelete)}},methods:{sessionToString:function(t){return t?t.task.name+" at "+n.a.sessionDate(t.ref.date):""},showDeleteWarning:function(t){this.sessionToDelete=t},deleteSession:function(){var t=this,e=this.sessionToDelete.ref.id;this.student.ref.deleteSession(e,function(s){if(s)return t.setError(s,t.tokens.err_delete);t.student.sessions=t.student.sessions.filter(function(t){return t.ref.id!==e}),t.$emit("deleted",{session:e})}),this.sessionToDelete=null},cancel:function(){this.sessionToDelete=null},removeWarningClosed:function(t){t.confirm?this.deleteSession():this.cancel()}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(99),i=s.n(n),a=s(100),o=s.n(a),r=s(9),l=s(7),u=s(3),c=s(21),d=s(22),h=s(17),f=s(34),p=s(29),m=s.n(p),v=s(58),g=s.n(v),_=s(153),k=s.n(_),b=s(19),y=s.n(b);s(5),s(6),s(25);e.default={name:"student-list",mixins:[h.a,f.a],components:{loading:m.a,"modal-container":g.a,"item-selection-box":k.a,"temporal-notification":y.a},data:function(){return{currentClass:this.cls,students:null,schoolStudents:null,tasks:[],schoolGrades:[],isEditing:!1,currentGrade:null,activeMenu:null,tokens:s.i(u.b)("student_list","_buttons","_form","_labels","_utils","_failures")}},props:{cls:{type:c.a,default:null},teacher:{type:d.a,default:null},refresh:{type:Number,default:0}},watch:{refresh:function(){this.loadTasks()}},methods:{loadTasks:function(){var t=this;this.currentClass.getTasks(function(e,s){if(e)return t.setError(e,t.tokens.load(t.tokens.tasks));t.tasks=s.sort(l.a.byName),t.loadStudents()})},loadStudents:function(){var t=this;this.currentClass.getStudents(function(e,s){if(e)return t.students=[],t.setError(e,t.tokens.load(t.tokens.students));t.students=s.sort(l.a.byName)})},loadAvailableStudents:function(t){var e=this;this.teacher.getSchool(function(s,n){if(s)return e.setError(s,e.tokens.err_load_school),t(s);n.getStudents(function(s,n){if(s)return e.setError(s,e.tokens.err_load_school_students);e.schoolStudents=n,e.schoolGrades=e.makeGrades(n),t()})})},makeGrades:function(t){var e=this,s=[];return t.forEach(function(t){var n=s.find(function(e){return e.text===t.grade.toLowerCase()});n||(n={id:Math.random(),text:t.grade.toLowerCase(),subitems:[]},s.push(n)),e.students&&!e.students.find(function(e){return e.id===t.id})&&n.subitems.push({id:t.id,text:t.name,selected:!1})}),s.forEach(function(t){t.subitems.sort(function(t,e){return t.text.toLowerCase()>e.text.toLowerCase()?1:-1})}),s.sort(function(t,e){var s=o()(t.text,10),n=o()(e.text,10);return i()(s)||i()(n)?t.text>e.text?1:-1:s===n?t.text>e.text?1:-1:s>n?1:-1})},openEditor:function(t){var e=this;this.loadAvailableStudents(function(t){t||(e.isEditing=!0)})},addNewStudents:function(t){var e=this;t.subitems&&this.currentClass.addStudents(t.subitems,function(t){t?e.setError(t,e.tokens.add_new(e.tokens.students)):e.setSuccess(e.tokens.msg_students_added),e.loadStudents()}),this.closeEditor(null)},closeEditor:function(t){this.isEditing=!1},addAssignment:function(t,e,s){var n=this;this.hideTaskList(),t.addAssignment(e,this.currentClass.id,function(t){t?n.setError(t,n.tokens.err_add_assig):n.setSuccess(n.tokens.msg_assig_added)})},removeAssignment:function(t,e,s){var n=this;t.removeAssignment(e,function(t){t?n.setError(t,n.tokens.err_remove_assig):n.setSuccess(n.tokens.msg_assig_removed)})},remove:function(t,e){var s=this;this.currentClass.removeStudent(t,function(t){t?s.setError(t,s.tokens.remove(s.tokens.student)):s.setSuccess(s.tokens.removed(s.tokens.student)),s.loadStudents()})},availableTasks:function(t){return this.tasks.filter(function(e){return!t.assignments[e.id]})},toggleTaskList:function(t){this.activeMenu?this.hideTaskList():this.showTaskList(t)},showTaskList:function(t){this.hideTaskList(),this.activeMenu=this.$refs[t][0],this.activeMenu.classList.add("is-active")},hideTaskList:function(){this.activeMenu&&(this.activeMenu.classList.remove("is-active"),this.activeMenu=null)},doesTaskBelongsToClass:function(t){return this.tasks.some(function(e){return e.id===t})},getAssignmentName:function(t){return this.tasks.find(function(e){return e.id===t}).name}},created:function(){var t=this;r.a.$on("lang",function(){t.tokens=s.i(u.b)("student_list","_buttons","_form","_labels","_utils","_failures")}),window.document.body.addEventListener("click",this.hideTaskList)},destroyed:function(){window.document.body.removeEventListener("click",this.hideTaskList)},mounted:function(){this.loadTasks(),this.loadAvailableStudents(function(){})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(65),i=s.n(n),a=s(79),o=s.n(a),r=s(27),l=s.n(r),u=s(3),c=s(6),d=s(121),h=s(399),f=s.n(h),p=s(398),m=s.n(p),v=s(395),g=s.n(v),_=s(396),k=s.n(_),b=s(397),y=s.n(b),w=s(155),x=s.n(w);s(12),s(26),s(20),s(8);e.default={name:"task-editor",mixins:[d.a],components:{"task-preview":f.a,"task-editor-text":m.a,"task-editor-feedback":g.a,"task-editor-images":k.a,"task-editor-questionnaire":y.a,"bulma-checkbox":x.a},data:function(){return{ref:this.task||this.source||JSON.parse(window.localStorage.getItem("task-defaults")),name:"",alignment:"",fontname:"",text:"",intro:"",syllab:c.a.defaultSyllab,speech:c.a.defaultSpeech,syllabExceptions:"",images:[],questionnaire:[],useTimeout:!1,timeout:5,recordAudio:!1,canPreview:!0,inPreview:!1,tabs:{text:{name:"Text"},feedback:{name:"Feedback"},images:{name:"Images"},questionnaire:{name:"Questionnaire"}},currentTab:null,tokens:s.i(u.b)("task_editor","_labels")}},props:{action:{type:String,default:"Create"},task:{type:c.a,default:null},source:{type:c.a,default:null},intros:{type:Array,required:!0,default:function(){return[]}}},computed:{isTaskNameEditable:function(){return!this.ref||!this.ref.name||!!this.source},isCloningTask:function(){return!!this.source},isNameValid:function(){return this.name.length>1},isTextValid:function(){return this.text.length>14},canSave:function(){return this.isNameValid&&this.isTextValid}},methods:{init:function(){var t=this;this.ref&&(this.ref.name&&(this.name=this.source?"":this.ref.name),this.ref.pages&&(this.text=c.a.pagesToText(this.ref.pages)),this.ref.alignment&&(this.alignment=this.ref.alignment),this.ref.fontname&&(this.fontname=this.ref.fontname),this.ref.intro&&(this.intro=this.ref.intro),this.ref.syllab&&(this.syllab=this.ref.syllab),this.ref.speech&&(this.speech=this.ref.speech),this.ref.syllab.exceptions&&(this.syllabExceptions=c.a.syllabsToText(this.ref.syllab.exceptions)),this.ref.pages&&this.ref.pages.forEach(function(e,s){e.images&&e.images.forEach(function(e){t.images.push(l()({page:s},e))})}),this.ref.questionnaire&&(this.questionnaire=this.ref.questionnaire),this.ref.useTimeout&&(this.useTimeout=this.ref.useTimeout),this.ref.timeout&&(this.timeout=this.ref.timeout),this.ref.recordAudio&&(this.recordAudio=this.ref.recordAudio))},isCurrentTab:function(t){return t===this.currentTab},selectTab:function(t){this.currentTab=t},preview:function(t){this.inPreview=!0,this.makeFullscreen(this.$refs.fullscreen)},closePreview:function(t){this.inPreview=!1,this.closeFullscreen()},setTextInput:function(t){this.name=t.name,this.alignment=t.alignment,this.fontname=t.fontname,this.intro=t.intro,this.text=t.text,this.$emit("modified")},setFeedbackInput:function(t){this.syllab=t.syllab,this.speech=t.speech,this.syllabExceptions=t.syllabExceptions,this.$emit("modified")},setImagesInput:function(t){this.images=t.images,this.$emit("modified")},onImageEditing:function(t){this.canPreview=!t},setDefaultFeedback:function(t){var e=o()({syllab:this.syllab,speech:this.speech});window.localStorage.setItem("task-defaults",e)},setQuestionnaireInput:function(t){this.questionnaire=t.questionnaire,this.$emit("modified")},getCurrentTask:function(){var t=new c.a;return t=l()(t,{name:this.name.trim(),type:"text",alignment:this.alignment,fontname:this.fontname,pages:c.a.textToPages(this.text),syllab:i()({},this.syllab),speech:i()({},this.speech),useTimeout:this.useTimeout,timeout:this.timeout,recordAudio:this.recordAudio}),c.a.embedImagesIntoPages(t.pages,this.images),t.syllab.exceptions=c.a.textToSyllabs(this.syllabExceptions),t},save:function(t){this.syllab.exceptions=this.syllabExceptions,this.$emit("save",{name:this.name.trim(),text:this.text,alignment:this.alignment,fontname:this.fontname,intro:this.intro,syllab:this.syllab,speech:this.speech,images:this.images,questionnaire:this.questionnaire,useTimeout:this.useTimeout,timeout:this.timeout,recordAudio:this.recordAudio})}},created:function(){this.currentTab=this.tabs.text},mounted:function(){this.init()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(132),i=s.n(n),a=s(0),o=s.n(a),r=s(226),l=(s(93),s(12)),u=(s(51),function t(e){o()(this,t),this.location=e.location,this.src=l.a.urlFromName(e.src),this.keepOriginalSize=!!e.keepOriginalSize,this.offset=e.offset||0});e.default={name:"task-images",data:function(){return{imageProps:{left:null,right:null,bottom:null},imageController:null}},props:{images:{type:Array,required:!0,default:function(){return[]}},fixation:{type:Object,default:null},viewport:{type:Object,default:null}},methods:{hasImageAt:function(t){var e=this.images;return!(!e||!t)&&e.some(function(e){return e.location===t.location})},getSource:function(t){return t?t.src:""},getClass:function(t){var e;return t?(e={},i()(e,t.location,!0),i()(e,"has-original-size",t.keepOriginalSize),e):null},getStyle:function(t){if(!t)return"";if(this.viewport){var e=-1,s=-1,n=0,i=0,a="auto",o="auto";return"bottom"===t.location?(s=this.viewport.height-(t.offset||0),i=-100,n=-50,t.keepOriginalSize||(o=(.15*this.viewport.height).toFixed(0)+"px")):"right"===t.location?(e=this.viewport.width-(t.offset||0),n=-100,i=-50,t.keepOriginalSize||(a=(.15*this.viewport.width).toFixed(0)+"px")):"left"===t.location&&(e=t.offset||0,i=-50,t.keepOriginalSize||(a=(.15*this.viewport.width).toFixed(0)+"px")),["right: auto","bottom: auto","left: "+(e<0?"50%":e+"px"),"top: "+(s<0?"50%":s+"px"),"transform: translateX("+n+"%) translateY("+i+"%)","width: "+a,"height: "+o].join(";")}return["margin-"+t.location+": "+t.offset+"px"].join(";")}},watch:{images:function(t){this.imageController.setImages(t)},fixation:function(t){this.imageController.fixate(t.word,t.duration)}},mounted:function(){var t=this;this.imageController=new r.a({onShow:function(e){console.log("IMC_CB","shown",e.src.split("_").pop().split("?")[0]),t.imageProps[e.location]=new u(e),t.$emit("show",{image:e}),console.log("IMC_CB","---")},onHide:function(e){console.log("IMC_CB","hidden",e.src.split("_").pop().split("?")[0]),t.imageProps[e.location]=null,t.$emit("hide",{image:e}),console.log("IMC_CB","---")}})},destroyed:function(){this.imageController.shutdown()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(220),i=s(9),a=s(7),o=s(3),r=s(17),l=s(34),u=s(29),c=s.n(u),d=s(19),h=s.n(d),f=s(58),p=s.n(f),m=s(391),v=s.n(m),g=s(72),_=s.n(g);s(6);e.default={name:"task-list",components:{loading:c.a,"temporal-notification":h.a,"modal-container":p.a,"task-editor":v.a,"remove-warning":_.a},mixins:[r.a,l.a],data:function(){return{parent:this.cls,tasks:null,locked:null,toEdit:null,toCopy:null,toDelete:null,isCreating:!1,isTaskModified:!1,tokens:s.i(o.b)("task_list","_labels","_buttons","_utils","_failures")}},props:{cls:{type:Object,default:null},intros:{type:Array,default:function(){return[]}}},computed:{isEditing:function(){return!!this.toEdit||this.isCreating},toDeleteName:function(){return this.toDelete?this.toDelete.name:""},action:function(){return this.isCreating?this.tokens.create:this.toEdit?this.tokens.save:""},taskEditorTitle:function(){return this.tokens.hdr_editor(this.toEdit?" - "+this.toEdit.name:"")}},methods:{loadTasks:function(){var t=this;this.parent.getTasks(function(e,s){if(e)return t.tasks=[],t.setError(e,t.tokens.load(t.tokens.tasks));t.tasks=s.sort(a.a.byName),n.a.areTasksLocked(t.tasks.map(function(t){return t.id}),function(e,s){if(e)return console.error("DBUtils.isTaskLocked:",e);t.locked=s})})},canCreate:function(t){return this.tasks.every(function(e){return e.name.toLowerCase()!==t.name.toLowerCase()})},edit:function(t,e){this.toEdit=t,this.isTaskModified=!1},copy:function(t,e){this.toCopy=t,this.isCreating=!0,this.isTaskModified=!1},save:function(t){var e=this,s=t;this.toEdit?this.toEdit.update(s,function(t){e.$emit("saved",{err:t}),e.loadTasks()}):this.canCreate(s)?this.parent.createTask(s,"text",function(t){e.$emit("created",{err:t}),t||e.loadTasks()}):this.$emit("created",{err:this.tokens.err_same_name}),this.isTaskModified=!1,this.closeEditor(null)},onTaskModified:function(t){this.isTaskModified=!0},closeEditor:function(t){var e=!0;t&&this.isTaskModified&&(e=window.confirm(this.tokens.msg_cancel_warning)),e?(this.toEdit=null,this.toCopy=null,this.isCreating=!1):t&&(t.cancelled=!0)},remove:function(t,e){this.toDelete=t},isLocked:function(t,e){return null===this.locked||this.locked.indexOf(t)>=0},removeWarningClosed:function(t){var e=this;if(t.confirm){var s=this.toDelete.id;this.parent.deleteTask(this.toDelete,function(t){if(t)return e.setError(t,e.tokens.delete(e.tokens.task));n.a.deleteTaskSessions(s,function(t){if(t)return console.error("DBUtils.deleteTaskSessions:",t)}),n.a.deleteStudentTaskSessions(s,function(t){if(t)return console.error("DBUtils.deleteStudentTaskSessions:",t)}),e.setSuccess(e.tokens.deleted(e.tokens.task)),e.$emit("deleted",{task:s}),e.loadTasks()})}this.toDelete=null},openNewTextBox:function(t){this.isCreating=!0,this.isTaskModified=!1}},created:function(){var t=this;i.a.$on("lang",function(){t.tokens=s.i(o.b)("task_list","_labels","_buttons","_utils","_failures")})},mounted:function(){this.loadTasks()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-text",data:function(){return{textStyle:{color:"#333","font-family":(this.fontname?this.fontname:"Calibri")+", Arial, sans-serif","font-size":"20pt","font-style":"normal","font-weight":"bold"}}},props:{fontname:{type:String,default:"Calibri"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3);e.default={data:function(){return{tokens:s.i(n.b)("task_text_format")}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(42);e.default={name:"temporal-notification",data:function(){return{showState:!1,timer:null}},props:{type:String,show:Number},watch:{show:function(){var t=this;this.log(),this.showState=!0,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.showState=!1,t.timer=null},4e3)}},computed:{notificationClass:function(){return"is-"+this.type}},methods:{getSlotItemText:function(t){var e=this,s="";return t.text&&(s+=t.text),t.children&&(s+=t.children.reduce(function(t,s){return t+e.getSlotItemText(s)},"")),s},getSlotText:function(){var t=this;return this.$slots.default.reduce(function(e,s){return e+t.getSlotItemText(s)},"")},log:function(){"danger"===this.type?console.error("TEMP_ERROR: ",this.getSlotText()):"success"===this.type&&console.log("TEMP_SUCCESS:",this.getSlotText())}},mounted:function(){this.showState=!1}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bulma-checkbox",data:function(){return{checked:!!this.value||!1}},props:{value:{type:Boolean,default:!1},label:{type:String},disabled:{type:Boolean,default:!1}},methods:{toggle:function(t){this.disabled||(this.checked=!this.checked,this.$emit("input",this.checked))}},watch:{value:function(t){this.checked=t}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(7);s(8);e.default={name:"feedback-editor",data:function(){return{language:i.a.convertLegacy(this.value.language),thresholdIsSmart:this.value.threshold.smart,thresholdMin:this.value.threshold.min,thresholdMax:this.value.threshold.max,thresholdValue:this.value.threshold.value,tokens:s.i(n.b)("task_editor_feedback")}},props:{value:{type:Object,required:!0},header:{type:String,required:!0},languages:{type:Array,required:!0}},computed:{canEditCalibThresholdParams:function(){return this.language&&this.thresholdIsSmart},isLanguageSelected:function(){return!!this.language},model:function(){return{language:this.language,threshold:{smart:this.thresholdIsSmart,min:this.thresholdMin,max:this.thresholdMax,value:this.thresholdValue}}}},watch:{language:function(){this.$emit("input",this.model)},thresholdIsSmart:function(){this.$emit("input",this.model)},thresholdMin:function(){this.$emit("input",this.model)},thresholdMax:function(){this.$emit("input",this.model)},thresholdValue:function(){this.$emit("input",this.model)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(44),i=s.n(n),a=s(3),o=s(6),r=s(61),l=s(126),u=s(394),c=s.n(u),d=s(155),h=s.n(d);s(8);e.default={name:"task-editor-feedback",components:{"feedback-editor":c.a,"bulma-checkbox":h.a},data:function(){return{speech:this.task?this.task.speech:o.a.defaultSpeech,speechAdjustForWordLength:this.task?this.task.speech.threshold.adjustForWordLength:o.a.defaultSpeech.threshold.adjustForWordLength,speechLangs:l.a.LANGS,syllab:this.task?this.task.syllab:o.a.defaultSyllab,syllabExceptions:this.task?o.a.syllabsToText(this.task.syllab.exceptions):"",syllabMode:this.task?this.task.syllab.mode:o.a.defaultSyllab.mode,syllabTemporary:this.task?this.task.syllab.temporary:o.a.defaultSyllab.temporary,syllabAdjustForWordLength:this.task?this.task.syllab.threshold.adjustForWordLength:o.a.defaultSyllab.threshold.adjustForWordLength,syllabModes:i()(r.a.MODES),syllabLangs:r.a.LANGS,tokens:s.i(a.b)("task_editor_feedback")}},props:{task:{type:o.a,default:null}},computed:{model:function(){var t={syllab:this.syllab,speech:this.speech,syllabExceptions:this.syllabExceptions};return t.syllab.mode=this.syllabMode,t.syllab.temporary=this.syllabTemporary,t.syllab.threshold.adjustForWordLength=this.syllabAdjustForWordLength,t.speech.threshold.adjustForWordLength=this.speechAdjustForWordLength,t}},watch:{speech:function(){this.$emit("input",this.model)},speechAdjustForWordLength:function(){this.$emit("input",this.model)},syllab:function(){this.$emit("input",this.model)},syllabExceptions:function(){this.$emit("input",this.model)},syllabMode:function(){this.$emit("input",this.model)},syllabTemporary:function(){this.$emit("input",this.model)},syllabAdjustForWordLength:function(){this.$emit("input",this.model)}}}},function(t,e,s){"use strict";function n(t){return t.split("\n\n").filter(function(t){return!!t.trim()})}function i(t){return t.split("|")[0]}function a(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f()(new d.a(t.trim().split(/\s+/gi).map(function(t){return i(t.trim())}).filter(function(t){return t.length&&"|"!==t.charAt(0)}))).map(function(t,s){return new v.b(t,e?s+"":"")})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.trim().split(/\s+/gi).map(function(t){return i(t.trim())}).filter(function(t){return t.length&&"|"!==t.charAt(0)}).map(function(t,s){return new v.b(t,e?s+"":"")})}function r(t,e){var s=n(t)[e];return s?o(s,!0):[]}Object.defineProperty(e,"__esModule",{value:!0});var l=s(132),u=s.n(l),c=s(101),d=s.n(c),h=s(37),f=s.n(h),p=s(3),m=s(6),v=s(12),g=s(17),_=s(19),k=s.n(_);e.default={name:"task-editor-images",components:{"temporal-notification":k.a},mixins:[g.a],data:function(){return{images:[],selectedFile:null,editingImageIndex:-1,uploadProgress:-1,page:"-1",location:"bottom",offset:0,keepOriginalSize:"false",on:v.a.EVENT.none,fixationWords:[],fixationDuration:1e3,off:v.a.EVENT.none,delayDuration:1,isDraggingFileOverDropzone:!1,tokens:s.i(p.b)("task_editor_images","_form","_labels","_buttons","_failures"),ON:{},OFF:{}}},props:{task:{type:m.a,default:null},currentText:{type:String,required:!0}},computed:{pageCount:function(){return n(this.currentText).length},currentWords:function(){return+this.page<0?a(this.currentText):r(this.currentText,+this.page)},isUploading:function(){return this.uploadProgress>=0},isEditing:function(){return this.editingImageIndex>=0},hasValidParams:function(){return this.constructImageEvent(this.on).isValid&&this.constructImageEvent(this.off).isValid}},methods:{listImages:function(){var t=[];this.task&&(this.task.pages.forEach(function(e){e.images&&e.images.forEach(function(e){t.find(function(t){return t.src===e.src})||t.push(e)})}),this.images=t)},edit:function(t){var e=this.images[t];this.page=""+e.page,this.location=e.location,this.offset=e.offset||0,this.keepOriginalSize=""+!!e.keepOriginalSize,this.on=this.deconstructImageEvent(e.on),this.off=this.deconstructImageEvent(e.off),this.editingImageIndex=t,this.$emit("editing",!0)},saveEdited:function(){var t=this.constructImageEvent(this.on),e=this.constructImageEvent(this.off);this.images[this.editingImageIndex]=new v.a({src:this.images[this.editingImageIndex].src,page:+this.page,location:this.location,offset:this.offset,keepOriginalSize:"true"===this.keepOriginalSize,on:t,off:e}),this.editingImageIndex=-1,this.$emit("input",{images:this.images}),this.$emit("editing",!1)},cancelEditing:function(){this.editingImageIndex=-1,this.$emit("editing",!1)},remove:function(t){var e=this,s=this.images.splice(t,1)[0];m.a.deleteImage(s,function(t){t&&e.setError(t,e.tokens.delete(e.tokens.image))}),this.$emit("input",{images:this.images})},getImageURL:function(t){return window.URL.createObjectURL(t)},canShow:function(t){return!!t.file||!!t.src},getCSSBackgroundImage:function(t){return"background-image: url('"+(t.file?this.getImageURL(t.file):v.a.urlFromName(t.src))+"')"},getImageName:function(t){return t?t.file?t.file.name:t.src?decodeURIComponent(v.a.getNameFromSource(t.src)):"-":""},getImagePage:function(t){return t.page<0?this.tokens.item_any:t.page+1},getImageLocation:function(t){return this.tokens["item_"+t.location]+(t.offset?" + "+t.offset+"px":"")},hasParameters:function(t){return v.c.hasParameters(t)},formatEventName:function(t){return t.name===v.a.EVENT.none?"-":t.name===v.a.EVENT.fixation?this.tokens.msg_fix_on_word:t.name},formatEventParams:function(t){if(t.name===v.a.EVENT.fixation){var e=t;return'"'+(e.word?[{text:e.word}]:e.words).map(function(t){return t.text}).join(" ")+'"\n'+this.tokens.lbl_longer+" "+t.duration+" ms"}return t.name===v.a.EVENT.delay?t.duration+" "+this.tokens.lbl_seconds:""},dropFile:function(t){this.isDraggingFileOverDropzone=!1;var e=t.dataTransfer,s=e.files;this.selectFile({target:{files:s}})},selectFile:function(t){var e=t.target.files[0];if(e){if("image/jpeg"!==e.type&&"image/png"!==e.type)return this.setError(this.tokens.err_image_type);if(e.size>1e5)return this.setError(this.tokens.err_image_size);this.selectedFile=e}else;},uploadImage:function(t){var e=this;this.uploadProgress=0;var s=this.constructImageEvent(this.on),n=this.constructImageEvent(this.off),i=new v.a({src:null,page:+this.page,location:this.location,offset:this.offset,keepOriginalSize:"true"===this.keepOriginalSize,on:s,off:n});m.a.uploadImage(this.selectedFile,i.meta,function(t){e.uploadProgress=t},function(t,s){e.uploadProgress=-1,t?e.setError(t,e.tokens.err_upload):(i.src=v.a.nameFromURL(s),i.file=e.selectedFile,e.images.push(i),e.selectedFile=null,e.$emit("input",{images:e.images}))})},cancel:function(t){this.selectedFile=null},constructImageEvent:function(t){return t===v.a.EVENT.fixation?new v.d(this.fixationWords,this.fixationDuration):t===v.a.EVENT.delay?new v.e(this.delayDuration):new v.c(t)},deconstructImageEvent:function(t){return t.name===v.a.EVENT.fixation?(this.fixationWords=t.words||[t.word]||[],this.fixationDuration=t.duration):name===v.a.EVENT.delay&&(this.delayDuration=t.duration),t.name}},created:function(){var t,e;this.ON=(t={},u()(t,v.a.EVENT.none,this.tokens.item_initially),u()(t,v.a.EVENT.fixation,this.tokens.item_on_fix),t),this.OFF=(e={},u()(e,v.a.EVENT.none,this.tokens.item_never),u()(e,v.a.EVENT.image,this.tokens.item_when_other),u()(e,v.a.EVENT.delay,this.tokens.item_after),e),this.listImages()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(37),i=s.n(n),a=s(3),o=s(26),r=s(6);e.default={name:"task-editor-questionnaire",data:function(){return{type:null,word:"",question:"",answers:[],questions:this.task&&this.task.questionnaire?i()(this.task.questionnaire):[],types:o.a.types,tokens:s.i(a.b)("task_editor_quest","_buttons")}},props:{task:{type:r.a,default:null}},computed:{canAdd:function(){return this.type===this.types.word?this.word.length>0:this.question.length>5&&this.answers.every(function(t){return!!t.text.length})},model:function(){return{questionnaire:this.questions}}},watch:{questions:function(){this.$emit("input",this.model)}},methods:{answersToString:function(t){return t.answers.map(function(t){return t.text}).join(", ")},getEmptyAnswers:function(){return["","","",""].map(function(t,e){return{text:"",isCorrect:0===e}})},add:function(t){this.questions.push(new o.a(this.type.name,this.type===this.types.word?this.word:"",this.question,this.answers)),this.word="",this.question="",this.answers=this.getEmptyAnswers()},remove:function(t){this.questions=this.questions.filter(function(e){return e!==t})},selectCorrect:function(t){this.answers.forEach(function(t){t.isCorrect=!1}),t.isCorrect=!0}},created:function(){this.type=this.types.text,this.answers=this.getEmptyAnswers()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(6),a=s(393),o=s.n(a);s(20),s(94),s(12);e.default={name:"task-editor-text",components:{"task-text-formatting-instructions":o.a},data:function(){return{name:this.task&&this.task.name&&!this.isCloning?this.task.name:"",originalName:this.task&&this.task.name&&this.isCloning?this.task.name:"",alignment:this.task&&this.task.alignment?this.task.alignment:"center",fontname:this.task&&this.task.fontname?this.task.fontname:"Calibri",intro:this.task&&this.task.intro?this.task.intro:"",text:this.task&&this.task.pages?i.a.pagesToText(this.task.pages):"",FONTS:["Arial","Arial Black","Bookman","Calibri","Comic Sans MS","Courier","Courier New","Garamond","Georgia","Helvetica","Impact","Palatino","Times New Roman","Times","Trebuchet MS","Verdana"],tokens:s.i(n.b)("task_editor","_form","_labels")}},props:{task:{type:i.a,default:null},isNameEditable:{type:Boolean},isCloning:{type:Boolean,default:!1},intros:{type:Array,default:function(){return[]}}},computed:{currentModel:function(){return{name:this.name,alignment:this.alignment,fontname:this.fontname,intro:this.intro,text:this.text}},hasTaskImagesBoundToWords:function(){return this.task&&this.task.pages&&this.task.pages.some(function(t){return!!t.images&&t.images.some(function(t){return!!t.on.words||!!t.on.word})})},placeholder:function(){return this.isCloning?this.originalName:this.tokens.name}},watch:{name:function(){this.$emit("input",this.currentModel)},alignment:function(){this.$emit("input",this.currentModel)},fontname:function(){this.$emit("input",this.currentModel)},intro:function(){this.$emit("input",this.currentModel)},text:function(){this.$emit("input",this.currentModel)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(154),a=s.n(i),o=s(120),r=s.n(o),l=s(6),u=s(127),c=s(125),d=s(12);s(42);e.default={name:"task-preview",components:{"task-text":a.a,"task-images":r.a},data:function(){return{textPresenter:null,feedbackProvider:null,fixatedWord:null,tokens:s.i(n.b)("preview")}},props:{firstPage:{type:Array,default:null},task:{type:l.a}},computed:{hasNextPage:function(){return!!this.textPresenter&&this.textPresenter.hasNextPage},hasPrevPage:function(){return!!this.textPresenter&&this.textPresenter.hasPrevPage},images:function(){if(!this.textPresenter)return[];var t=this.textPresenter.originalPageIndex;return t<0?[]:this.task.pages[t].images},fixation:function(){return{word:this.fixatedWord,duration:9e5+Math.floor(1e5*Math.random())}}},methods:{syllabifyAll:function(t){var e=this;this.textPresenter.words.forEach(function(t,s){e.feedbackProvider.syllabifier.syllabifyElementText(s,t)})},next:function(t){this.fixatedWord=null,this.textPresenter.nextPage(),this.feedbackProvider.reset()},prev:function(t){this.fixatedWord=null,this.textPresenter.prevPage(),this.feedbackProvider.reset()},close:function(t){this.$emit("close")},syllabify:function(t){if(t.target.classList.contains("word")){var e=this.feedbackProvider.syllabifier.unprepare(t.target.textContent);e&&this.feedbackProvider.syllabifier.syllabifyElementText(t.target,e)}},pronounce:function(t){if(t.target.classList.contains("word")){var e=this.feedbackProvider.syllabifier.unprepare(t.target.textContent);e&&this.feedbackProvider.speaker.say(e)}},fixate:function(t){var e=t.target;if(e.classList.contains("word")){var s=this.feedbackProvider.syllabifier.unprepare(e.textContent);s&&(this.fixatedWord=new d.b(s,e.dataset.wordId))}}},mounted:function(){this.feedbackProvider=new c.a(this.task.syllab,this.task.speech),this.feedbackProvider.init();var t=this.$refs.container.$refs.text;this.textPresenter=new u.a(this.task,this.firstPage,t,this.feedbackProvider.syllabifier),this.next(null)},beforeDestroy:function(){this.feedbackProvider.cleanup()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"config",function(){return n});var n={apiKey:"AIzaSyBeKdNAX1_JHeGnPouQTYH0d3APAYzRZVY",authDomain:"eye-school-test.firebaseapp.com",databaseURL:"https://eye-school-test.firebaseio.com",projectId:"eye-school-test",storageBucket:"eye-school-test.appspot.com",messagingSenderId:"1082968904935"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),s.d(e,"config",function(){return n});var n={apiKey:"AIzaSyBppBDnPTQMqo2YLDDUTaXVJN4jZuGRwOw",authDomain:"uta-gasp-silko.firebaseapp.com",databaseURL:"https://uta-gasp-silko.firebaseio.com",projectId:"uta-gasp-silko",storageBucket:"uta-gasp-silko.appspot.com",messagingSenderId:"312523900223"}},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(35),p=(s(48),s(43),function(t){function e(t,s,n){o()(this,e);var a=c()(this,(e.__proto__||i()(e)).call(this,t,n));return a._ref=s,a}return h()(e,t),l()(e,[{key:"isAdmin",get:function(){return!0}}]),e}(f.a));e.a=p},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(35),p=(s(25),s(43),function(t){function e(t,s,n){o()(this,e);var a=c()(this,(e.__proto__||i()(e)).call(this,t,n));return a._ref=s,a}return h()(e,t),l()(e,[{key:"isSchool",get:function(){return!0}}]),e}(f.a));e.a=p},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(35),p=(s(5),s(43),function(t){function e(t,s,n){o()(this,e);var a=c()(this,(e.__proto__||i()(e)).call(this,t,n));return a._ref=s,a}return h()(e,t),l()(e,[{key:"isStudent",get:function(){return!0}}]),e}(f.a));e.a=p},function(t,e,s){"use strict";var n=s(10),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(14),c=s.n(u),d=s(13),h=s.n(d),f=s(35),p=(s(22),s(43),function(t){function e(t,s,n){o()(this,e);var a=c()(this,(e.__proto__||i()(e)).call(this,t,n));return a._ref=s,a}return h()(e,t),l()(e,[{key:"isTeacher",get:function(){return!0}}]),e}(f.a));e.a=p},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(18),l=s(48),u=s(25),c=s(22),d=s(5),h=s(215),f=s(216),p=s(218),m=s(217),v=(s(43),function(){function t(){i()(this,t)}return o()(t,null,[{key:"create",value:function(t,e,s){if("admin"===e.id)return console.log("logged as admin"),s(null,new h.a(t,new l.a,e));if(e&&e.path){if(e.path===u.a.db)return console.log("logged as school"),r.a.get(u.a,e.id,function(n,i){if(!n)return s(null,new f.a(t,i,e));s(n)});if(e.path===c.a.db)return console.log("logged as teacher"),r.a.get(c.a,e.id,function(n,i){if(!n)return s(null,new p.a(t,i,e));s(n)});if(e.path===d.a.db)return console.log("logged as student"),r.a.get(d.a,e.id,function(n,i){if(!n)return s(null,new m.a(t,i,e));s(n)})}s(new Error("INTERNAL: invalid reference"))}}]),t}());e.a=v},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(9),l=s(3),u=s.i(l.b)("db");r.a.$on("lang",function(){u=s.i(l.b)("vis")});var c=s(158)("./db.development.js").config,d="https://us-central1-"+c.projectId+".cloudfunctions.net/",h=function(){function t(){i()(this,t)}return o()(t,null,[{key:"isTaskLocked",value:function(e,s){t._call("isTaskLocked",{id:e},s)}},{key:"areTasksLocked",value:function(e,s){t._call("areTasksLocked",{ids:e.join(",")},s)}},{key:"deleteTaskSessions",value:function(e,s){t._get("deleteTaskSessions",{id:e},s)}},{key:"deleteStudentTaskSessions",value:function(e,s){t._get("deleteStudentTaskSessions",{id:e},s)}},{key:"_get",value:function(t,e,s){var n=new Headers;n.append("Content-Type","text/json");var i={method:"GET",headers:n,mode:"cors",cache:"no-cache"},a=[];for(var o in e)a.push(o+"="+e[o]);var r=new Request(d+t+"?"+a.join("&"));window.fetch?window.fetch(r,i).then(function(t){return t?t.json():s(new Error(u.err_no_resp))}).then(function(t){s(null,t)}).catch(function(t){console.error(t)}):s(new Error(u.err_not_supported))}},{key:"_parseResponse",value:function(t){var e=null,s=null;try{s="string"==typeof t?JSON.parse(t):t,s&&!s.err&&"result"in s?s=s.result:e=s.err||u.err_no_results}catch(t){e=t&&t.message?t.message:u.err_unknown}return{err:e,response:s}}},{key:"_call",value:function(e,s,n){t._get(e,s,function(e,s){if(e)return n(e);var i=t._parseResponse(s),a=i.err,o=i.response;n(a,o)})}}]),t}();e.a=h},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(42),i=s(160),a=s.n(i),o=s(159);new n.a({el:"#app",router:o.a,template:"<app/>",components:{App:a.a}})},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=function t(){i()(this,t),this.pronounced=!1,this.syllabified=!1};e.a=a},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=function(){function t(){i()(this,t),this.count=0,this.first=0,this.last=0,this.duration=0}return o()(t,[{key:"start",value:function(t){this.last=t,this.count||(this.first=this.last),this.count++}},{key:"stop",value:function(t){this.duration+=t-this.last}},{key:"currentDuration",value:function(t){return t-this.last}}]),t}();e.a=r},function(t,e,s){"use strict";var n=s(64),i=s.n(n);e.a=function(){return new i.a(function(t){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){var s=null,n=[];t({start:function(t){if(s)return console.error("AudioRecorder","cannot start new recorder");s=new MediaRecorder(e),s.addEventListener("dataavailable",function(t){n.push(t.data)}),s.addEventListener("start",function(){t()}),s.start()},stop:function(){return new i.a(function(t){if(!s)return t();s.addEventListener("stop",function(){var e=new Blob(n);t(e),s=null,n=[]}),s.stop()})}})})})}},function(t,e,s){"use strict";var n=s(31),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(49),c=s(60),d=s(93),h=s(50),f=s(30),p=s(88),m=s(90),v=s(51),g=s(18),_=(s(6),s(5),s(73),s(8),s(12),s(26),function(){function t(){o()(this,t),this._date=null,this._start=0}return l()(t,[{key:"start",value:function(){this._date=(new Date).toJSON(),this._start=window.performance.now()}},{key:"value",get:function(){return Math.round(window.performance.now()-this._start)}},{key:"date",get:function(){return this._date}}]),t}()),k=function t(e){o()(this,t),this.words=new i.a,this.data=new f.a,this.data.isIntro=e},b=function(){function t(e){o()(this,t),this.hasIntroPage=e,this.items=[],this.pageIndex=-1}return l()(t,[{key:"page",value:function(t){return this.items[t]}},{key:"add",value:function(){var t=new k(!this.items.length&&this.hasIntroPage);return this.items.push(t),this.pageIndex++,t}},{key:"done",value:function(){this.pageIndex=-1}},{key:"current",get:function(){return this.items[this.pageIndex]}},{key:"last",get:function(){return this.items[this.items.length-1]}},{key:"ready",get:function(){return this.pageIndex>=0}}]),t}(),y=function t(e,s,n,i){o()(this,t),this.date=(new Date).toJSON(),this.student=s.id,this.task=e.id,this.cls=e.cls,this.font=n,this.feedbacks=i,this.screen=d.a.full,this.data=null,this.files=[]},w=function(){function t(e,s,n,i){o()(this,t),this._session=new y(e,s,n,i),this._pages=new b(!!e.intro),this._timer=new _,this._focusedElem=null,this._currentWord=null,this._audioFiles=null}return l()(t,[{key:"start",value:function(){this._timer.start()}},{key:"stop",value:function(t){this.setFocusedWord(null),this._pages.done(),this._save(t)}},{key:"nextPage",value:function(){this._closeImages(),this._pages.add().data.ts=this._timer.value}},{key:"updatePageTimestamp",value:function(){this._pages.current&&(this._pages.current.data.ts=this._timer.value)}},{key:"longGazedWords",value:function(t){var e=[],s=/\b([\w$%&]+\S*\b)/;return this._pages.items.forEach(function(n){n.words.forEach(function(n){if(n.focusing.duration>=t){var i=s.exec(n.text);i&&i.length>0?e.push(i[0]):console.log("DataCollector.longGazedWords ??",n.text)}})}),e}},{key:"setFocusedWord",value:function(t){if(this._focusedElem===t||!this._pages.ready)return null;if(this._currentWord&&(this._currentWord.focusing.stop(this._timer.value),this._currentWord=null),t){var e=this._pages.current;this._currentWord=e.words.get(t),this._currentWord||(this._currentWord=new p.a(t,this._pages.pageIndex),e.words.set(t,this._currentWord)),this._currentWord.focusing.start(this._timer.value)}return this._focusedElem=t,this._currentWord?this._currentWord.text:null}},{key:"addGazePoint",value:function(t){this._pages.ready&&this._pages.current.data.fixations.push(h.a.from(t,this._timer.value))}},{key:"syllabified",value:function(t){if(t&&this._pages.ready){var e=this._pages.current,s=e.words.get(t);s&&(s.feedback.syllabified=!0,e.data.syllabifications.push(new m.a(this._timer.value,s.text,s.rect)))}}},{key:"pronounced",value:function(t){if(t&&this._pages.ready){var e=this._pages.current,s=e.words.get(t);s&&(s.feedback.pronounced=!0,e.data.speech.push(new m.a(this._timer.value,s.text,s.rect)))}}},{key:"imageShow",value:function(t){console.log("DC","shown"),this._pages.current.data.images.push(new v.a(t,this._timer.value)),console.log("DC","---")}},{key:"imageHide",value:function(t){console.log("DC","hidden");var e=this._pages.current||this._pages.last,s=e.data.images.find(function(e){return e.src===t.src&&e.isCurrent});s&&s.hide(this._timer.value),console.log("DC","---")}},{key:"setAudioFiles",value:function(t){var e=this;this._audioFiles=t,t.forEach(function(t){e._session.files.push(t)})}},{key:"_closeImages",value:function(){var t=this,e=this._pages.current||this._pages.last;e&&e.data.images.forEach(function(e){e.isCurrent&&e.hide(t._timer.value)})}},{key:"_save",value:function(t){var e=this,s={task:this._session.task,student:this._session.student,pages:this._pages.items.map(function(t,s){return t.data.filterFixations(80),t.data.setWords(t.words),e._audioFiles&&(t.data.audio=e._audioFiles[s]||null),t.data}),questionnaire:null};g.a.add(u.a,s,function(s,n){if(s)return t(s);e._session.data=n,g.a.add(c.a,e._session,function(e,s){if(e)return t(e);t(null,{data:n,session:s})})})}},{key:"focusedWord",get:function(){return this._currentWord?{text:this._currentWord.text,duration:this._currentWord.focusing.currentDuration(this._timer.value)}:null}},{key:"wordReadingDuration",get:function(){var t=this._pages.current;if(!t)return null;var e=0,s=0;return t.words.forEach(function(t){t.focusing.duration>200&&t.focusing.duration<2e3&&(e+=t.focusing.duration,s++)}),s?e/s:null}}]),t}();e.a=w},function(t,e,s){"use strict";var n=s(31),i=s.n(n),a=s(0),o=s.n(a),r=s(1),l=s.n(r),u=s(12),c=function(){function t(e){var s=e.onShow,n=void 0===s?function(t){}:s,a=e.onHide,r=void 0===a?function(t){}:a,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o()(this,t),this._onShow=n,this._onHide=r,this._images=l,this._locations={left:null,right:null,bottom:null},this._prefetched=new i.a,this._timers=new i.a,this._prefetch(),this._start()}return l()(t,[{key:"shutdown",value:function(){var t=this;console.log("IMC","shutdown"),this._timers.forEach(function(e,s){window.clearTimeout(e),t._hide(s)});for(var e in this._locations){var s=this._locations[e];s&&this._hide(s)}this._timers.clear(),console.log("IMC","---")}},{key:"setImages",value:function(t){console.log("IMC","setImages"),this.shutdown(),this._images=t,this._start(),console.log("IMC","---")}},{key:"fixate",value:function(t,e){var s=this;t&&this._images.forEach(function(n){if(s._locations[n.location]!==n&&n.on.name===u.a.EVENT.fixation){var i=n.on,a=i.word?[i.word]:i.words;a.find(function(e){return t.isEqual(e)})&&i.duration<e&&(console.log("IMC",'fixated "',a.map(function(t){return"-"+t.text+"-"}).join(" "),'" ---'),s._show(n))}})}},{key:"_prefetch",value:function(){var t=this;this._images.forEach(function(e){var s=new Image;s.src=u.a.urlFromName(e.src),s.width=1,s.height=1,s.style.position="absolute",s.style.left="0",s.style.top="0",window.document.body.appendChild(s),t._prefetched.set(e,s)})}},{key:"_start",value:function(){var t=this;console.log("IMC","_start"),this._images.forEach(function(e){e.on.name===u.a.EVENT.none&&t._show(e)}),console.log("IMC","---")}},{key:"_show",value:function(t){var e=this;console.log("IMC","_show");for(var s in this._locations){var n=this._locations[s];n&&n.off.name===u.a.EVENT.image&&this._hide(n)}if(t.off.name===u.a.EVENT.delay){var i=window.setTimeout(function(){e._hide(t),e._timers.delete(t)},1e3*t.off.duration);this._timers.set(t,i)}this._locations[t.location]=t,this._onShow(t),console.log("IMC","---")}},{key:"_hide",value:function(t){console.log("IMC","_hide"),this._locations[t.location]=null,this._onHide(t),console.log("IMC","---")}}]),t}();e.a=c},function(t,e,s){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s=Math.ceil(s),t=Math.floor(t);var n=Math.round(Math.random()*(t-s));return(n=Math.round(n/e)*e)+s+0}var i=s(79),a=s.n(i),o=s(54),r=s.n(o),l=s(37),u=s.n(l),c=s(0),d=s.n(c),h=s(1),f=s.n(h),p=!!window.webpackHotUpdate,m=function(){function t(e){d()(this,t),this.enabled=!0,this._name=e,this._css=["background: hsl( "+n(360,10)+", "+n(100,20)+"%, "+n(100,20)+"% )","display: inline-block"].join(";"),this.info(this._name+": __module_created___")}return f()(t,[{key:"info",value:function(){if(this.enabled){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];var n=this._stringify(e);console.info("%c  ",this._css,this._format(n))}}},{key:"ok",value:function(){if(this.enabled){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];var n=this._stringify(e);console.log("%c  ",this._css,this._format(n))}}},{key:"error",value:function(){if(this.enabled){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];var n=this._stringify(e);console.error("%c  ",this._css,this._format(n))}}},{key:"_stringify",value:function(t){return u()(t).map(function(t){return"object"===(void 0===t?"undefined":r()(t))?a()(t):t}).join(" ")}},{key:"_format",value:function(t){return this._name+": "+t}}]),t}();e.a=function(t){return p?new m(t):{info:function(){},ok:function(){},error:function(){}}}},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(75),l=s(53),u=s(7),c=(s(21),s(5),s(60),s(76),function(){function t(e,s){i()(this,t),this.ref=e,this.tasks=s,this.students=null}return o()(t,[{key:"loadStudents",value:function(t){var e=this;this.ref.getStudents(function(s,n){if(e.students=[],s)return t(s);n.sort(u.a.byName),n.forEach(function(s){e._loadStudentSessions(s,t)})})}},{key:"_loadStudentSessions",value:function(t,e){var s=this;t.getSessions(function(n,i){if(n)return e(n);var a=new r.a(t);i.forEach(function(e){var n=s.tasks.find(function(t){return t.id===e.task});if(n){var i=new l.a(e,t,n,s.ref);n.sessions.push(i),n.students.add(a),a.sessions.push(i)}}),a.sessions.length&&s.students.push(a),e()})}}]),t}());e.a=c},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=s(96),l=(s(30),s(90),s(50),0),u=function(){function t(e,s,n,a){i()(this,t),this._root=e,this._name=s,this._session=n,this._offset=a,this._color=r.a.colors[l++%r.a.colors.length],this._pointerSize=8,this._fixationEndTimer=null,this._fixationGrowTimer=null,this._nextTimer=null,this._syllabTimer=null,this._fixations=null,this._currentFixation=null,this._currentDuration=0,this._fixationIndex=-1,this._callbacks={},this._syllabifications=null,this._nextSyllabificationIndex=0,this._pointer=null,this._lastPause=0,this.__next=this._next.bind(this)}return o()(t,[{key:"start",value:function(t,e){if(this._callbacks=e||{},this._callbacks.fixation=this._callbacks.fixation||function(){},this._callbacks.completed=this._callbacks.completed||function(){},this._callbacks.syllabification=this._callbacks.syllabification||function(){},this._fixations=this._session[t].fixations,!this._fixations)return void this._callbacks.completed(!0);this._syllabifications=this._session[t].syllabifications,this._nextSyllabificationIndex=this._syllabifications?0:-1,this._fixationIndex=0,this._pointer=document.createElement("div"),this._pointer.classList.add("track-pointer"),this._pointer.classList.add("invisible"),this._root.appendChild(this._pointer),this._nextTimer=setTimeout(this.__next,1500)}},{key:"stop",value:function(){this._stopFixationTimers(),this._nextTimer&&(clearTimeout(this._nextTimer),this._nextTimer=null),this._pointer&&(this._root.removeChild(this._pointer),this._pointer=null)}},{key:"togglePause",value:function(){return!!this._pointer&&(this._nextTimer?(this._stopFixationTimers(),clearTimeout(this._nextTimer),this._nextTimer=null,!0):(this._nextTimer=setTimeout(this.__next,this._lastPause),this._moveFixation(this._currentFixation),!1))}},{key:"_stopFixationTimers",value:function(){this._fixationEndTimer&&(clearTimeout(this._fixationEndTimer),this._fixationEndTimer=null),this._fixationGrowTimer&&(clearInterval(this._fixationGrowTimer),this._fixationGrowTimer=null),this._syllabTimer&&(clearTimeout(this._syllabTimer),this._syllabTimer=null)}},{key:"_next",value:function(){var t=this._fixations[this._fixationIndex];this._moveFixation(t),this._fixationIndex++,this._fixationIndex<this._fixations.length?(this._lastPause=this._fixations[this._fixationIndex].ts-t.ts,this._nextTimer=setTimeout(this.__next,this._lastPause)):(this._callbacks.completed(),this._root.removeChild(this._pointer),this._pointer=null,this._nextTimer=null)}},{key:"_moveFixation",value:function(t){var e=this;this._stopFixationTimers(),t?(this._checkSyllabification(t),this._callbacks.fixation(t,this._pointer),t.x>0&&t.y>0&&(this._currentDuration=100,this._updatePointer(),this._pointer.classList.remove("invisible")),this._fixationEndTimer=setTimeout(function(){e._stopFixationTimers(),e._pointer&&e._pointer.classList.add("invisible")},t.duration),this._fixationGrowTimer=setInterval(function(){e._updatePointer()},100)):this._pointer.classList.add("invisible"),this._currentFixation=t}},{key:"_updatePointer",value:function(){if(this._currentFixation&&this._pointer){var t=Math.round(Math.sqrt(this._currentDuration));this._pointer.setAttribute("style","\n      left: "+(this._currentFixation.x+this._offset.x-t/2)+"px;\n      top: "+(this._currentFixation.y+this._offset.y-t/2)+"px;\n      width: "+t+"px;\n      height: "+t+"px;\n      border-radius: "+t/2+"px;\n      background-color: "+this._color+";"),this._currentDuration+=100}}},{key:"_checkSyllabification",value:function(t){var e=this;if(!(this._nextSyllabificationIndex<0)){var s=this._syllabifications[this._nextSyllabificationIndex],n=t.tsSync+t.duration;s.ts<n&&(this._nextSyllabificationIndex++,this._nextSyllabificationIndex===this._syllabifications.length&&(this._nextSyllabificationIndex=-1),this._syllabTimer=setTimeout(function(){e._syllabTimer=null,e._callbacks.syllabification(s)},n-s.ts))}}},{key:"name",get:function(){return this._name}},{key:"color",get:function(){return this._color}}],[{key:"resetColors",value:function(){l=0}}]),t}();e.a=u},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(1),o=s.n(a),r=(s(30),s(50),function(){function t(e,s,n){i()(this,t),this._root=e,this._session=s,this._offset=n,this._fixations=null,this._fixationIndex=-1,this._lastTimestamp=-1,this._pointer=document.createElement("div"),this._pointer.classList.add("track-pointer"),this._pointer.classList.add("invisible"),this._root.appendChild(this._pointer)}return o()(t,[{key:"setPage",value:function(t){this._fixationIndex=-1,this._updatePointer(null),this._fixations=this._session[t].fixations,this._fixations}},{key:"cleanup",value:function(){this._pointer&&(this._root.removeChild(this._pointer),this._pointer=null)}},{key:"setTime",value:function(t){if(!this._fixations)return void console.log("fix","!fixs");for(var e=null,s=-1,n=0;n<this._fixations.length;n+=1){var i=this._fixations[n];if(i.tsSync<=t&&t<=i.tsSync+i.duration){e=i,s=n,this._lastTimestamp=t;break}}s!=this._fixationIndex&&(this._fixationIndex=s,this._updatePointer(e))}},{key:"_updatePointer",value:function(t){if(this._pointer){var e=!t,s=t&&t.x>0&&t.y>0;if(!e&&s||this._pointer.classList.add("invisible"),s){var n=Math.round(Math.sqrt(t.duration));this._pointer.setAttribute("style","\n        left: "+(t.x+this._offset.x-n/2)+"px;\n        top: "+(t.y+this._offset.y-n/2)+"px;\n        width: "+n+"px;\n        height: "+n+"px;\n        border-radius: "+n/2+"px;\n        background-color: #289AE5;\n      "),this._pointer.classList.remove("invisible")}}}},{key:"fixation",get:function(){return this._fixationIndex<0?null:this._fixations[this._fixationIndex]}},{key:"pointer",get:function(){return this._pointer}}]),t}());e.a=r},function(t,e,s){"use strict";s.d(e,"a",function(){return u});var n=s(1),i=s.n(n),a=s(0),o=s.n(a),r=s(3),l=(s(30),s(89),function t(e){o()(this,t),this.id=e.id,this.totalDuration=0}),u=function(){function t(e,n,i,a){o()(this,t),this._root=e,this._name=n,this._id=a,this._pointerSize=8,this._pointer=null,this._fixationTimer=null,this._nextTimer=null,this._session=i,this._fixations=null,this._words=null,this._fixationIndex=-1,this._onWordFixated=null,this._onCompleted=null,this.__next=this._next.bind(this),this.tokens=s.i(r.b)("vis_word_replay")}return i()(t,[{key:"start",value:function(t,e,s,n){if(this._onWordFixated=s,this._onCompleted=n,this._fixations=t,this._words=e.map(function(t){return new l(t)}),this._words.forEach(function(t){t.totalDuration=0}),this._fixationIndex=0,!t)return void n();this._pointer=document.createElement("div"),this._pointer.classList.add("pointer"),this._pointer.classList.add("invisible"),this._root.appendChild(this._pointer),this._nextTimer=setTimeout(this.__next,1500)}},{key:"stop",value:function(){this._nextTimer&&(clearTimeout(this._nextTimer),this._nextTimer=null),this._fixationTimer&&(clearTimeout(this._fixationTimer),this._fixationTimer=null),this._pointer&&(this._root.removeChild(this._pointer),this._pointer=null)}},{key:"togglePause",value:function(){return!!this._pointer&&(this._nextTimer?(clearTimeout(this._nextTimer),this._nextTimer=null,!0):(this._nextTimer=setTimeout(this.__next,500),!1))}},{key:"_next",value:function(){var t=this._fixations[this._fixationIndex];if(this._moveFixation(t.word,t.duration),++this._fixationIndex<this._fixations.length){var e=this._fixations[this._fixationIndex].ts-t.ts;this._nextTimer=setTimeout(this.__next,e)}else this._onCompleted(),this._root.removeChild(this._pointer),this._pointer=null,this._nextTimer=null}},{key:"_moveFixation",value:function(t,e){var s=this;this._fixationTimer&&(clearTimeout(this._fixationTimer),this._fixationTimer=null),t?(this._onWordFixated(t,e,this._pointer),this._pointer.classList.remove("invisible"),this._fixationTimer=setTimeout(function(){s._fixationTimer=null,s._pointer&&s._pointer.classList.add("invisible")},e)):this._pointer.classList.add("invisible")}},{key:"name",get:function(){return this._name}},{key:"id",get:function(){return this._id}},{key:"doneMessage",get:function(){return this.tokens.lbl_done}},{key:"pointerSize",get:function(){return this._pointerSize}},{key:"pointer",get:function(){return this._pointer}},{key:"session",get:function(){return this._session}},{key:"words",get:function(){return this._words}},{key:"hasData",get:function(){return!!this._fixations}}]),t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,s){s(320);var n=s(2)(s(162),s(413),"data-v-425b4d8b",null);t.exports=n.exports},function(t,e,s){s(307);var n=s(2)(s(163),s(401),"data-v-0cb43a53",null);t.exports=n.exports},function(t,e,s){s(354);var n=s(2)(s(164),s(445),"data-v-e5029da0",null);t.exports=n.exports},function(t,e,s){s(337);var n=s(2)(s(165),s(428),"data-v-690d1f10",null);t.exports=n.exports},function(t,e,s){s(329);var n=s(2)(s(166),s(421),"data-v-5b4bf9e5",null);t.exports=n.exports},function(t,e,s){s(311);var n=s(2)(s(167),s(405),"data-v-248409ab",null);t.exports=n.exports},function(t,e,s){s(328);var n=s(2)(s(168),s(420),"data-v-5850bae0",null);t.exports=n.exports},function(t,e,s){s(341);var n=s(2)(s(169),s(432),"data-v-7112b42e",null);t.exports=n.exports},function(t,e,s){s(342);var n=s(2)(s(170),s(433),"data-v-73b91f1e",null);t.exports=n.exports},function(t,e,s){s(340);var n=s(2)(s(171),s(430),"data-v-7024c5d7",null);t.exports=n.exports},function(t,e,s){s(326);var n=s(2)(s(172),s(418),"data-v-5669a8c7",null);t.exports=n.exports},function(t,e,s){var n=s(2)(s(173),s(442),null,null);t.exports=n.exports},function(t,e,s){s(333);var n=s(2)(s(174),s(424),"data-v-5e4a4003",null);t.exports=n.exports},function(t,e,s){s(339);var n=s(2)(s(175),s(429),"data-v-6e5a70c2",null);t.exports=n.exports},function(t,e,s){s(314);var n=s(2)(s(176),s(407),"data-v-30436e93",null);t.exports=n.exports},function(t,e,s){s(346);var n=s(2)(s(177),s(436),"data-v-7f8a5885",null);t.exports=n.exports},function(t,e,s){var n=s(2)(s(178),null,null,null);t.exports=n.exports},function(t,e,s){s(312);var n=s(2)(s(179),null,null,null);t.exports=n.exports},function(t,e,s){s(338);var n=s(2)(s(180),null,null,null);t.exports=n.exports},function(t,e,s){s(334);var n=s(2)(s(182),s(425),"data-v-634297ab",null);t.exports=n.exports},function(t,e,s){s(350);var n=s(2)(s(183),s(440),"data-v-a05465c6",null);t.exports=n.exports},function(t,e,s){s(321);var n=s(2)(s(184),s(414),"data-v-47a95014",null);t.exports=n.exports},function(t,e,s){s(318);var n=s(2)(s(186),s(411),"data-v-3dcb22e2",null);t.exports=n.exports},function(t,e,s){s(345),s(344);var n=s(2)(s(187),s(435),"data-v-7d5d875b",null);t.exports=n.exports},function(t,e,s){s(332);var n=s(2)(s(189),s(423),"data-v-5d6be80c",null);t.exports=n.exports},function(t,e,s){s(323);var n=s(2)(s(190),s(416),"data-v-52f54fae",null);t.exports=n.exports},function(t,e,s){s(310);var n=s(2)(s(193),s(404),"data-v-1f310dde",null);t.exports=n.exports},function(t,e,s){var n=s(2)(s(195),s(431),null,null);t.exports=n.exports},function(t,e,s){var n=s(2)(s(196),null,null,null);t.exports=n.exports},function(t,e,s){s(352);var n=s(2)(s(198),s(443),"data-v-c82dcd74",null);t.exports=n.exports},function(t,e,s){s(315);var n=s(2)(s(199),s(408),"data-v-332a2e2e",null);t.exports=n.exports},function(t,e,s){s(351);var n=s(2)(s(200),s(441),"data-v-a42f22a6",null);t.exports=n.exports},function(t,e,s){s(316);var n=s(2)(s(202),s(409),"data-v-3b33b144",null);t.exports=n.exports},function(t,e,s){s(308);var n=s(2)(s(204),s(402),"data-v-0fb9d777",null);t.exports=n.exports},function(t,e,s){s(355);var n=s(2)(s(207),s(446),"data-v-ec8f61e6",null);t.exports=n.exports},function(t,e,s){s(313);var n=s(2)(s(208),s(406),"data-v-2b86d2b2",null);t.exports=n.exports},function(t,e,s){s(335);var n=s(2)(s(209),s(426),"data-v-65010d36",null);t.exports=n.exports},function(t,e,s){s(343);var n=s(2)(s(210),s(434),"data-v-7519dcc6",null);t.exports=n.exports},function(t,e,s){s(309);var n=s(2)(s(211),s(403),"data-v-11eeeada",null);t.exports=n.exports},function(t,e,s){s(317);var n=s(2)(s(212),s(410),"data-v-3b6ac658",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:{"is-modal":t.isModal},attrs:{id:"loading"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"assignment"}},[s("div",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.task?t.task.name:""))])]),t.state===t.STATES.calibrate?s("calib-page",{attrs:{texts:t.introTexts},on:{close:t.calibrate}}):t._e(),t.intro?s("start-page",{directives:[{name:"show",rawName:"v-show",value:t.state===t.STATES.start,expression:"state === STATES.start"}],attrs:{texts:t.introTexts,task:t.task,student:t.student},on:{close:t.startPageClosed,saved:t.gazeDataSaved}}):t._e(),t.state===t.STATES.questionnaire?s("questionnaire-page",{attrs:{questionnaire:t.task.questionnaire,longGazedWords:t.longGazedWords},on:{finished:t.questionnaireDone}}):t._e(),t.state===t.STATES.finished?s("finished-page",{attrs:{texts:t.introTexts,saving:!t.isDataSaved}}):t._e(),s("modal-error",{attrs:{text:t.errorText},on:{close:t.exit}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"panel notification is-paddingless",attrs:{id:"task-text-formatting-instructions"}},[s("p",{staticClass:"panel-block"}),s("h4",{staticClass:"heading is-4 has-text-centered"},[t._v(t._s(t.tokens.rules))]),s("p"),s("p",{staticClass:"panel-block"},[s("code",[t._v("["+t._s(t.tokens.empty_line)+"]")]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.separator))])]),s("p",{staticClass:"panel-block"},[s("code",[t._v("|")]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.styles)),s("span",{staticClass:"explanation is-inline-block"},[t._v(t._s(t.tokens.word)+":"),t._m(0)]),s("span",{staticClass:"explanation is-inline-block"},[t._v(t._s(t.tokens.line)+":"),t._m(1)])])]),s("p",{staticClass:"panel-block"},[s("code",[s("a",{attrs:{href:"https://www.w3schools.com/cssref/css_colors.asp",target:"_blank"}},[t._v("red")]),s("span"),s("a",{attrs:{href:"https://www.w3schools.com/colors/colors_rgb.asp",target:"_blank"}},[t._v("#22aaff")]),s("span"),s("abbr",{attrs:{title:t.tokens.lighter}},[t._v("light")]),s("span"),s("abbr",{attrs:{title:t.tokens.darker}},[t._v("dark")])]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.color))])]),s("p",{staticClass:"panel-block"},[s("code",[t._v("22pt")]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.size))])]),s("p",{staticClass:"panel-block"},[s("code",[t._v("italic regular")]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.style))])]),s("p",{staticClass:"panel-block"},[s("code",[t._v("normal bold")]),s("span",{staticClass:"explanation"},[t._v(t._s(t.tokens.weight))])]),s("p",{staticClass:"panel-block"},[s("span",{staticClass:"has-text-centered"},[s("h4",{staticClass:"heading is-4 is-inline has-text-centered"},[t._v(t._s(t.tokens.example))]),s("i",{staticClass:"is-block"},[t._v("A big grey line with blue|#22aaff & italic|italic words |grey,18pt")]),t._m(2)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"example"},[s("i",[t._v("Iso koulupiha|bold")]),s("span",[t._v("= Iso")]),s("b",[t._v("koulupiha")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"example"},[s("i",[t._v("Iso koulupiha |bold")]),s("span",[t._v("=")]),s("b",[t._v("Iso koulupiha")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"is-block",staticStyle:{color:"grey","font-size":"18pt"}},[s("span",[t._v("A big grey line with")]),s("span",{staticStyle:{color:"#22aaff"}},[t._v("blue")]),s("span",[t._v("&")]),s("span",{staticStyle:{"font-style":"italic"}},[t._v("italic")]),s("span",[t._v("words")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field",attrs:{id:"task-editor-text"}},[s("p",{staticClass:"control"}),s("div",{staticClass:"columns is-inlined"},[t.isNameEditable?s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.name))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]):t._e(),s("div",{staticClass:"column is-narrow"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.lbl_alignment))]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.alignment,expression:"alignment"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.alignment=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"center"}},[t._v(t._s(t.tokens.item_center))]),s("option",{attrs:{value:"left"}},[t._v(t._s(t.tokens.item_left))])])])]),s("div",{staticClass:"column is-narrow"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.lbl_font))]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.fontname,expression:"fontname"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.fontname=e.target.multiple?s:s[0]}}},t._l(t.FONTS,function(e){return s("option",{key:e},[t._v(t._s(e))])}))])]),s("div",{staticClass:"column is-narrow"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.instructions))]),s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.intro,expression:"intro"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.intro=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v(t._s(t.tokens.item_none))]),t._l(t.intros,function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])])]),s("p"),s("p",{staticClass:"control"}),s("div",{staticClass:"columns is-inlined tip-parent"},[s("div",{staticClass:"column"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.text))])]),s("div",{staticClass:"column is-narrow tip-header"},[t._v(t._s(t.tokens.lbl_formatting))]),s("task-text-formatting-instructions",{staticClass:"is-tip"})],1),s("p"),t.hasTaskImagesBoundToWords?s("div",{staticClass:"notification is-warning"},[t._v(t._s(t.tokens.msg_not_editable))]):t._e(),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"textarea text",attrs:{placeholder:t.tokens.text,disabled:t.hasTaskImagesBoundToWords},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",class:{"is-danger":t.isEmailValid===t.checkValues.INVALID},attrs:{type:"email",placeholder:t.tokens.email_id,autofocus:"autofocus"},domProps:{value:t.email},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._m(0),t.isEmailValid===t.checkValues.INVALID?s("span",{staticClass:"icon is-small is-right"},[s("i",{staticClass:"fa fa-exclamation-triangle"})]):t._e()]),s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",class:{"is-danger":t.isPasswordValid===t.checkValues.INVALID},attrs:{type:"password",placeholder:t.tokens.password},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(1),t.isPasswordValid===t.checkValues.INVALID?s("span",{staticClass:"icon is-small is-right"},[s("i",{staticClass:"fa fa-exclamation-triangle"})]):t._e()]),s("p",{staticClass:"control"}),s("div",{staticClass:"has-text-centered"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canLogIn},on:{click:t.login}},[t._v("Log in")])]),s("p")]),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fa fa-envelope"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fa fa-user-secret"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"instructions"}},[s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.instructions))]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.intros?s("div",{staticClass:"container"},[s("loading")],1):t.intros.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.name))]),s("th",[t._v(t._s(t.tokens.text))]),s("th",[s("div",{staticClass:"is-pulled-right"},[t._v(t._s(t.tokens.actions))])])])]),s("tbody",t._l(t.intros,function(e){return s("tr",[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"keep-lines"},[t._v(t._s(e.textsSummary()))]),s("td",[s("div",{staticClass:"is-pulled-right is-flex"},[s("button",{staticClass:"button is-light",attrs:{title:t.tokens.tit_edit},on:{click:function(s){t.edit(e)}}},[s("i",{staticClass:"fa fa-edit"})]),s("button",{staticClass:"button is-danger",attrs:{title:t.tokens.tit_delete},on:{click:function(s){t.remove(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])])}))]):s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_instructions))])])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_new))]),s("div",{staticClass:"panel-block is-paddingless"},[s("intro-editor",{staticClass:"control",attrs:{action:t.tokens.create,"name-editable":!0,reload:t.resetNew},on:{save:t.tryToCreate}})],1)]),t.toEdit?s("modal-container",{attrs:{title:t.tokens.hdr_editor},on:{close:t.closeEditor}},[s("intro-editor",{attrs:{action:t.tokens.save,"show-labels":!0,intro:t.toEdit},on:{save:t.saveEdited}})],1):t._e(),t.toDelete?s("remove-warning",{attrs:{object:"instruction",name:t.toDeleteName},on:{close:t.removeWarningClosed}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-editor-feedback"}},[s("div",{staticClass:"columns is-paddingless is-marginless"},[s("div",{staticClass:"column is-paddingless is-marginless is-narrow"},[s("feedback-editor",{attrs:{header:t.tokens.lbl_speech,languages:t.speechLangs},model:{value:t.speech,callback:function(e){t.speech=e},expression:"speech"}},[s("div",{staticClass:"field"},[s("div",{staticClass:"field is-horizontal"},[s("bulma-checkbox",{attrs:{label:t.tokens.lbl_word,disabled:!t.speech.language},model:{value:t.speechAdjustForWordLength,callback:function(e){t.speechAdjustForWordLength=e},expression:"speechAdjustForWordLength"}})],1)])]),s("feedback-editor",{attrs:{header:t.tokens.lbl_syllab,languages:t.syllabLangs},model:{value:t.syllab,callback:function(e){t.syllab=e},expression:"syllab"}},[s("div",{staticClass:"field"},[s("div",{staticClass:"field is-horizontal"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.syllabMode,expression:"syllabMode"}],attrs:{disabled:!t.syllab.language},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.syllabMode=e.target.multiple?s:s[0]}}},t._l(t.syllabModes,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(t.tokens["item_"+e]))])}))])]),s("div",{staticClass:"field is-horizontal"},[s("bulma-checkbox",{attrs:{label:t.tokens.lbl_temp,disabled:!t.syllab.language},model:{value:t.syllabTemporary,callback:function(e){t.syllabTemporary=e},expression:"syllabTemporary"}})],1),s("div",{staticClass:"field is-horizontal"},[s("bulma-checkbox",{attrs:{label:t.tokens.lbl_word,disabled:!t.syllab.language},model:{value:t.syllabAdjustForWordLength,callback:function(e){t.syllabAdjustForWordLength=e},expression:"syllabAdjustForWordLength"}})],1)])])],1),s("div",{staticClass:"column is-paddingless is-marginless"},[s("div",{staticClass:"columns is-paddingless is-marginless"},[s("div",{staticClass:"column is-paddingless is-marginless is-narrow"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.lbl_exceptions))])]),s("div",{staticClass:"column has-text-right is-paddingless is-marginless"},[s("i",{staticClass:"instruction"},[t._v(t._s(t.tokens.lbl_example)+" ")])])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.syllabExceptions,expression:"syllabExceptions"}],staticClass:"textarea exceptions",attrs:{disabled:!t.syllab.language,placeholder:t.tokens.lbl_syllabs},domProps:{value:t.syllabExceptions},on:{input:function(e){e.target.composing||(t.syllabExceptions=e.target.value)}}})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-page"}},[s("task-text",{ref:"container",attrs:{fontname:t.task.fontname}}),s("task-images",{directives:[{name:"show",rawName:"v-show",value:t.images,expression:"images"}],attrs:{images:t.images,fixation:t.fixation},on:{show:t.onImageShow,hide:t.onImageHide}}),s("div",{staticClass:"is-bottom-right"},[s("a",{directives:[{name:"show",rawName:"v-show",value:t.hasNextPage,expression:"hasNextPage"}],staticClass:"button is-primary is-large",attrs:{disabled:t.isWaitingToFinilizePage},on:{click:t.next}},[s("span",[t._v(t._s(t.tokens.btn_next))])]),s("a",{directives:[{name:"show",rawName:"v-show",value:t.isLastPage,expression:"isLastPage"}],staticClass:"button is-primary is-large",attrs:{disabled:t.isWaitingToFinilizePage},on:{click:t.finish}},[s("span",[t._v(t._s(t.tokens.btn_finish))])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel",attrs:{id:"student-list"}},[s("p",{staticClass:"panel-heading"},[s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[t._v(t._s(t.tokens.num_student(t.students)))])]),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-primary",on:{click:t.openEditor}},[t._v(t._s(t.tokens.add))])])])])]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.students?s("div",{staticClass:"container"},[s("loading")],1):s("table",{staticClass:"table"},[s("thead",[t.students&&t.students.length?s("tr",{staticClass:"is-subheader"},[s("th",[t._v(t._s(t.tokens.name))]),s("th",{staticClass:"is-narrow"},[s("div",{staticClass:"has-text-centered"},[t._v(t._s(t.tokens.assignments))])]),s("th",{staticClass:"is-narrow"})]):t._e()]),s("tbody",t._l(t.students,function(e){return s("tr",{key:t.currentClass.id+e.id},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"is-narrow"},[s("div",{staticClass:"tags"},t._l(e.assignments,function(n,i){return t.doesTaskBelongsToClass(i)?s("div",{staticClass:"tag is-medium"},[t._v(t._s(t.getAssignmentName(i))),s("button",{staticClass:"delete is-small",on:{click:function(s){t.removeAssignment(e,i)}}})]):t._e()})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.availableTasks(e).length,expression:"availableTasks( student ).length"}],ref:t.currentClass.id+e.id,refInFor:!0,staticClass:"dropdown"},[s("div",{staticClass:"dropdown-trigger",on:{click:function(t){t.stopPropagation()}}},[s("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:function(s){t.toggleTaskList(t.currentClass.id+e.id)}}},[s("span",[t._v(t._s(t.tokens.lbl_add))]),t._m(0,!0)])]),s("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[s("div",{staticClass:"dropdown-content"},t._l(t.availableTasks(e),function(n){return s("div",{staticClass:"dropdown-item",on:{click:function(s){s.stopPropagation(),t.addAssignment(e,n.id,s)}}},[t._v(t._s(n.name))])}))])])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button",attrs:{title:t.tokens.tit_remove},on:{click:function(s){t.remove(e)}}},[s("i",{staticClass:"fa fa-times"})])])])}))])]),t.isEditing?s("modal-container",{attrs:{title:t.tokens.tit_students},on:{close:t.closeEditor}},[s("item-selection-box",{attrs:{items:t.schoolGrades,multiple:!0,"single-group":!1,"item-name":t.tokens.data_grade,"subitem-name":t.tokens.data_student},on:{accept:t.addNewStudents}})],1):t._e(),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel",attrs:{id:"task-list"}},[s("p",{staticClass:"panel-heading"},[s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[t._v(t._s(t.tokens.num_task(t.tasks)))])]),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-primary",on:{click:t.openNewTextBox}},[t._v(t._s(t.tokens.btn_new))])])])])]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.tasks?s("div",{staticClass:"container"},[s("loading")],1):s("table",{staticClass:"table"},[s("tbody",t._l(t.tasks,function(e){return s("tr",{key:t.parent.id+e.id},[s("td",[s("span",{staticClass:"is-inline-block"},[t._v(t._s(e.name))]),e.pages?s("span",{staticClass:"is-inline-block"},[t._v(" ("+t._s(t.tokens.lbl_pages(e.pages.length))+")")]):t._e()]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-light",attrs:{title:t.tokens.tit_edit(t.isLocked(e.id)),disabled:t.isLocked(e.id)},on:{click:function(s){t.edit(e)}}},[s("i",{staticClass:"far fa-edit"})]),s("button",{staticClass:"button is-light",attrs:{title:t.tokens.tit_copy},on:{click:function(s){t.copy(e)}}},[s("i",{staticClass:"far fa-copy"})]),s("button",{staticClass:"button is-danger",attrs:{title:t.tokens.tit_delete},on:{click:function(s){t.remove(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])}))])]),t.isEditing?s("modal-container",{attrs:{title:t.taskEditorTitle},on:{close:t.closeEditor}},[s("task-editor",{attrs:{action:t.action,task:t.toEdit,source:t.toCopy,intros:t.intros},on:{save:t.save,modified:t.onTaskModified}})],1):t._e(),t.toDelete?s("remove-warning",{attrs:{object:"task",name:t.toDeleteName},on:{close:t.removeWarningClosed}},[s("span",[t._v(t._s(t.tokens.msg_delete_warning)+". ")])]):t._e(),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-preview"}},[s("div",{staticClass:"notification is-info has-text-centered on-top"},[s("div",{staticClass:"columns"},[t.task.syllab.language?s("div",{staticClass:"column"},[t._v(t._s(t.tokens.lbl_syllab_word))]):t._e(),t.task.syllab.language?s("div",{staticClass:"column"},[s("button",{staticClass:"button is-primary is-small",on:{click:t.syllabifyAll}},[t._v(t._s(t.tokens.btn_syllab_all))])]):t._e(),t.task.speech.language?s("div",{staticClass:"column"},[t._v(t._s(t.tokens.lbl_speak_word))]):t._e()])]),s("task-text",{ref:"container",nativeOn:{click:[function(e){if(!e.ctrlKey)return null;t.syllabify(e)},function(e){if(!e.altKey)return null;t.pronounce(e)},function(e){t.fixate(e)}]}}),s("task-images",{attrs:{images:t.images,fixation:t.fixation}}),s("div",{staticClass:"columns at-bottom"},[s("div",{staticClass:"column has-text-right"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.hasPrevPage},on:{click:t.prev}},[s("span",[t._v("<")])])]),s("div",{staticClass:"column has-text-centered is-narrow"},[s("button",{staticClass:"button is-primary",on:{click:t.close}},[s("span",[t._v(t._s(t.tokens.btn_close))])])]),s("div",{staticClass:"column has-text-left"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.hasNextPage},on:{click:t.next}},[s("span",[t._v(">")])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"vis-title"}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"root",attrs:{id:"vis-plot"}},[s("canvas",{ref:"canvas"}),s("task-images",{attrs:{images:t.visibleImages,fixation:t.fixation,viewport:t.defaultSession.screen}}),t.isWarningMessageVisible?s("div",{staticClass:"message is-danger below-title"},[s("div",{staticClass:"message-header"},[t._v(t._s(t.tokens.hdr_missing_data))]),s("div",{staticClass:"message-body"},[t._v(t._s(t.tokens.msg_missing_data))])]):t._e(),s("control-panel",{attrs:{title:t.title,feedback:t.feedback,questionnaire:1===t.data.records.length?t.defaultQuestionnaire:null,"text-length":t.textLength,"initial-page-index":t.initialPageIndex,options:t.options,"show-player":t.data.name.indexOf("Replay")>=0,"is-player-paused":t.isPlayerPaused},on:{"page-changed":t.setPage,"show-options":t.showOptions,"restart-player":t.restartPlayer,"toggle-player":t.togglePlayer,close:t.close}}),s("options",{directives:[{name:"show",rawName:"v-show",value:t.isOptionsDisplayed,expression:"isOptionsDisplayed"}],attrs:{values:t.options},on:{close:t.closeOptions,apply:t.applyOptions}}),t.audioPlayerProps.visible?s("audio-player",{staticClass:"audio-player",attrs:{duration:t.audioPlayerProps.duration,playing:t.audioPlayerProps.playing,time:t.audioPlayerProps.time},on:{toggled:function(e){t.audioPlayerProps.toggled(e)},slided:function(e){t.audioPlayerProps.slided(e)}}}):t._e(),t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isAssignment,expression:"!isAssignment"}],staticClass:"nav has-shadow"},[s("div",{staticClass:"nav-left"},[s("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[s("h2",{staticClass:"logo"},[t._v("Silko")])]),t.isAdmin?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/schools"}},[s("i",{staticClass:"fa fa-university"}),s("span",[t._v(t._s(t.tokens.schools))])]):t._e(),t.isAdmin||t.isSchool?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/teachers"}},[s("i",{staticClass:"fa fa-users"}),s("span",[t._v(t._s(t.tokens.teachers))])]):t._e(),t.isAdmin||t.isSchool||t.isTeacher?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/students"}},[s("i",{staticClass:"fa fa-child"}),s("span",[t._v(t._s(t.tokens.students))])]):t._e(),t.isTeacher?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/instructions"}},[s("i",{staticClass:"fa fa-info"}),s("span",[t._v(t._s(t.tokens.instructions))])]):t._e(),t.isTeacher?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/classes"}},[s("i",{staticClass:"fa fa-database"}),s("span",[t._v(t._s(t.tokens.classes))])]):t._e(),t.isTeacher?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/results"}},[s("i",{staticClass:"fa fa-chart-pie"}),s("span",[t._v(t._s(t.tokens.results))])]):t._e(),t.isStudent?s("router-link",{staticClass:"nav-item is-tab",attrs:{to:"/assignments"}},[s("i",{staticClass:"fa fa-tasks"}),s("span",[t._v(t._s(t.tokens.assignments))])]):t._e()],1),t.user?s("div",{staticClass:"nav-right"},[s("a",{staticClass:"button",attrs:{href:t.manualLink,target:"_blank"}},[t._v(t._s(t.tokens.manual))]),s("div",{staticClass:"dropdown is-right",class:{"is-active":t.isUsermenuDropped},attrs:{id:"usermenu"}},[s("div",{staticClass:"dropdown-trigger"},[s("button",{staticClass:"button",class:{"is-primary":t.isUsermenuDropped},attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:function(e){e.stopPropagation(),t.isUsermenuDropped=!t.isUsermenuDropped},mouseover:function(e){t.isUsermenuHover=!0},mouseleave:function(e){t.isUsermenuHover=!1}}},[s("span",[t._v(t._s(t.user.ref.name))]),s("span",{staticClass:"icon is-small",style:{color:t.isUsermenuHover&&!t.isUsermenuDropped?"hsl(171, 100%, 41%)":"inherit",transform:"translateY(0.1em)"}},[s("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])])]),s("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[s("div",{staticClass:"dropdown-content"},[s("div",{staticClass:"select",on:{click:function(t){t.stopPropagation()}}},[s("select",{domProps:{value:t.user.prefs.lang},on:{input:t.updateLanguage}},t._l(t.langs,function(e){return s("option",{key:e},[t._v(t._s(e))])}))]),s("hr",{staticClass:"dropdown-divider"}),s("div",{staticClass:"nav-item"},[s("a",{on:{click:t.logOut}},[t._v(t._s(t.tokens.logout))])])])])])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"student-summary"}},[s("div",{staticClass:"container"},[s("table",[s("thead",[s("tr",[s("th",{class:t.headerNameClass,on:{click:function(e){t.sort(-1)}}},[t._v(t._s(t.tokens.name))]),t._l(t.statistics,function(e,n){return s("th",{key:n,class:t.statNameClass(e,n),attrs:{title:e.title||""},on:{click:function(e){t.sort(n)}}},[t._v(t._s(e.name))])})],2)]),s("tbody",t._l(t.students,function(e){return s("tr",{key:e.ref.id},[s("td",[t._v(t._s(e.ref.name))]),t._l(e.statistics,function(n,i){return s("td",{key:i},[1===i?s("span",[t._v(t._s(Math.floor(n/60).toFixed(0)+":"+t.secondsToString(n%60)))]):s("span",[t.statistics[i].hasProgress?s("span",{class:{progressLink:!0},on:{click:function(s){t.showProgress(e,i)}}},[t._v(t._s(n))]):s("span",[t._v(t._s(n))])])])})],2)}))])]),t.isShowingProgress?s("modal-container",{attrs:{title:t.progressChartData.title},on:{close:t.closeChart}},[s("progress-chart",{staticClass:"chart",attrs:{data:t.progressChartData}})],1):t._e(),s("control-panel",{attrs:{title:t.title,options:t.options},on:{"show-options":t.showOptions,close:t.close}}),s("options",{directives:[{name:"show",rawName:"v-show",value:t.isOptionsDisplayed,expression:"isOptionsDisplayed"}],attrs:{values:t.options},on:{close:t.closeOptions,apply:t.applyOptions}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bulma-checkbox",on:{click:t.toggle}},[s("div",{staticClass:"button is-primary is-inverted",attrs:{disabled:t.disabled}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.checked,expression:"checked"}],staticClass:"icon"},[s("i",{staticClass:"fa fa-check"})])]),s("label",{attrs:{disabled:t.disabled}},[t._v(t._s(t.label))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"intro-editor"}},[s("div",{staticClass:"field",class:{squeezed:t.showLabels}},[s("label",{directives:[{name:"show",rawName:"v-show",value:t.showLabels,expression:"showLabels"}],staticClass:"label"},[t._v(t._s(t.tokens.name))]),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",class:{"is-danger":t.name.length&&!t.isNameValid},attrs:{type:"text",placeholder:t.tokens.name,disabled:!t.nameEditable},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.name.length&&!t.isNameValid,expression:"name.length && !isNameValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.name_invalid))]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.showLabels,expression:"showLabels"}],staticClass:"control"},[s("label",{staticClass:"label"},[t._v(t._s(t.tokens.hdr_texts))])]),s("p",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.calib,expression:"calib"}],staticClass:"textarea low",class:{"is-danger":!t.isCalibInstructionValid},attrs:{placeholder:t.tokens.ph_calib_inst},domProps:{value:t.calib},on:{input:function(e){e.target.composing||(t.calib=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isCalibInstructionValid,expression:"!isCalibInstructionValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.msg_instruction_invalid))]),s("p",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],staticClass:"textarea low",class:{"is-danger":!t.isStartInstructionValid},attrs:{placeholder:t.tokens.ph_start_inst},domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isStartInstructionValid,expression:"!isStartInstructionValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.msg_instruction_invalid))]),s("p",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.firstPage,expression:"firstPage"}],staticClass:"textarea",class:{"is-danger":!t.isFirstPageValid},attrs:{placeholder:t.tokens.ph_first_page},domProps:{value:t.firstPage},on:{input:function(e){e.target.composing||(t.firstPage=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isFirstPageValid,expression:"!isFirstPageValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.msg_instruction_invalid))]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canSave},on:{click:t.save}},[t._v(t._s(t.action))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-text"}},[s("div",{ref:"text",staticClass:"text median",style:t.textStyle})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"calib-page"}},[s("section",{staticClass:"section"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isETUDConnected,expression:"isETUDConnected"}],staticClass:"container"},[s("div",{staticClass:"content is-large"},t._l(t.calibInstruction,function(e){return s("p",[t._v(t._s(e))])})),s("button",{staticClass:"button is-large is-primary",attrs:{disabled:!t.isConnected},on:{click:t.calibrate}},[t._v(t._s(t.tokens.btn_calib))]),s("button",{staticClass:"button is-large",attrs:{disabled:!t.isCalibrated},on:{click:t.skip}},[t._v(t._s(t.tokens.btn_skip_calib))]),s("button",{staticClass:"button is-large",on:{click:t.cancel}},[t._v(t._s(t.tokens.cancel))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isETUDConnected,expression:"!isETUDConnected"}],staticClass:"container"},[s("div",{staticClass:"message is-danger is-centered"},[s("div",{staticClass:"message-header"},[t._v(t._s(t.tokens.hdr_cannot_conect))]),s("div",{staticClass:"message-body"},[s("div",{staticClass:"content has-text-left"},[s("span",[t._v(t._s(t.tokens.msg_cannot_conect_1))]),s("ul",[s("li",[t._v(t._s(t.tokens.msg_cannot_conect_2))]),s("li",[t._v(t._s(t.tokens.msg_cannot_conect_3))])])])])])]),s("div",{staticClass:"is-bottom-right"},[s("a",{staticClass:"button",attrs:{disabled:!t.isETUDConnected},on:{click:t.showETUDOptions}},[t._m(0)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-eye"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal is-active"},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"notification"},[s("div",{staticClass:"heading has-text-centered"},[s("h1",[t._v(t._s(t.title))])]),t._t("default")],2)]),s("button",{staticClass:"modal-close",on:{click:t.close}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"results"}},[null===t.classes?s("div",{staticClass:"container"},[s("loading")],1):t.classes.length?t._e():s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_data))])]),t._l(t.classes,function(e){return s("nav",{key:e.ref.id,staticClass:"panel"},[s("div",{staticClass:"panel-block is-marginless is-paddingless"},[s("div",{staticClass:"card is-fullwidth"},[s("header",{staticClass:"card-header notification is-info is-paddingless"},[s("div",{staticClass:"card-header-title"},[t._v(t._s(e.ref.name))])]),s("div",{staticClass:"card-content"},[s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.tasks))]),s("th"),s("th"),s("th"),s("th")])]),s("tbody",t._l(t.tasksWithSessions(e.tasks),function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectTaskStudents(e,t.VISUALIZATIONS.durations)}}},[t._v(t._s(t.tokens.btn_durations))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectTaskStudents(e,t.VISUALIZATIONS.gazeReplay)}}},[t._v(t._s(t.tokens.btn_gaze_replay))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectTaskStudents(e,t.VISUALIZATIONS.wordReplay)}}},[t._v(t._s(t.tokens.btn_word_replay))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded||!e.hasQuestionnaire},on:{click:function(s){t.selectTaskStudents(e,t.VISUALIZATIONS.questionnaireResults)}}},[t._v(t._s(t.tokens.btn_questionnaire))])])])}))]),null===e.students?s("div",{staticClass:"container"},[s("loading")],1):e.students.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.students))]),s("th"),s("th"),s("th"),s("th"),s("th"),s("th",[s("button",{staticClass:"button is-primary is-pulled-right",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectClassStudents(e,t.VISUALIZATIONS.studentsSummary)}}},[t._v(t._s(t.tokens.btn_summary))])])])]),s("tbody",t._l(e.students,function(e){return s("tr",{key:e.ref.id},[s("td",[t._v(t._s(e.ref.name))]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-warning",attrs:{disabled:!t.isLoaded||!e.sessions.length},on:{click:function(s){t.editSessions(e)}}},[t._v(t._s(t.tokens.btn_edit))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectSession(e,t.VISUALIZATIONS.gazePlot)}}},[t._v(t._s(t.tokens.btn_gaze_plot))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded||!t.hasItems(e,t.filterHasAudio)},on:{click:function(s){t.selectSession(e,t.VISUALIZATIONS.audioReplay,t.filterHasAudio)}}},[t._v(t._s(t.tokens.btn_audio_replay))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectSession(e,t.VISUALIZATIONS.durations)}}},[t._v(t._s(t.tokens.btn_durations))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectSession(e,t.VISUALIZATIONS.gazeReplay)}}},[t._v(t._s(t.tokens.btn_gaze_replay))])]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.isLoaded},on:{click:function(s){t.selectSession(e,t.VISUALIZATIONS.wordReplay)}}},[t._v(t._s(t.tokens.btn_word_replay))])])])}))]):s("div",{staticClass:"container"})])])])])}),t.gradeWithStudents?s("modal-container",{attrs:{title:t.gradeWithStudents[0].text},on:{close:t.closeStudentSelectionBox}},[s("item-selection-box",{attrs:{items:t.gradeWithStudents,"item-name":t.tokens.data_grade,"subitem-name":t.tokens.data_student},on:{accept:t.continueDeferredWithStudents}})],1):t._e(),t.studentWithSessions?s("modal-container",{attrs:{title:t.studentWithSessions[0].text},on:{close:t.closeSessionSelectionBox}},[s("item-selection-box",{attrs:{multiple:!t.isMultipleSessions,"single-group":!t.isMultipleSessions&&!t.studentWithSessions[0].multiGroup,items:t.studentWithSessions,"item-name":t.tokens.data_grade,"subitem-name":t.tokens.data_session},on:{accept:t.continueDeferredWithSessions}})],1):t._e(),t.editingStudent?s("modal-container",{attrs:{title:t.tokens.tit_sessions(t.editingStudent.ref.name)},on:{close:t.closeSessionEditingBox}},[s("session-editing-box",{attrs:{student:t.editingStudent},on:{deleted:t.sessionDeleted}})],1):t._e(),t.isShowing(t.VISUALIZATIONS.gazePlot)?s("gaze-plot",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.audioReplay)?s("gaze-with-audio",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.durations)?s("durations",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.gazeReplay)?s("gaze-replay",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.wordReplay)?s("word-replay",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.questionnaireResults)?s("questionnaire-results",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),t.isShowing(t.VISUALIZATIONS.studentsSummary)?s("students-summary",{attrs:{data:t.visualization},on:{close:t.closeVisualization}}):t._e(),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[s("section",{staticClass:"hero"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title logo"},[t._v("Silko")]),s("h2",{staticClass:"subtitle"},[t._v(t._s(t.tokens.hdr_subtitle))])])])]),t.isConnecting?s("section",{staticClass:"connecting"},[s("div",[t._v(t._s(t.tokens.msg_connecting))]),s("loading")],1):t.user?s("section",{staticClass:"section"},[s("div",{staticClass:"message is-info"},[s("div",{staticClass:"message-header"},[s("p",[t._v(t._s(t.tokens.hdr_info_title(t.userTitle)))])]),s("div",{staticClass:"message-body is-paddingless"},[s("div",{staticClass:"panel"},[t.isAdmin||t.isSchool?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_adm_1))]):t._e(),t.isAdmin?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_adm_2))]):t._e(),t.isAdmin||t.isSchool||t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_adm_3))]):t._e(),t.isAdmin?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_adm_3))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_1))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_2))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_3))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_4))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_5))]):t._e(),t.isTeacher?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_tch_6))]):t._e(),t.isStudent?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_std_1))]):t._e(),t.isStudent?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_std_2))]):t._e(),t.isStudent?s("div",{staticClass:"panel-block"},[t._v(t._s(t.tokens.info_std_3))]):t._e()])])])]):s("section",[s("login"),s("p",{staticClass:"control extra-tools"}),s("div",{staticClass:"has-text-centered"},[s("button",{staticClass:"button is-link",on:{click:t.register}},[t._v(t._s(t.tokens.btn_request_account))]),s("button",{staticClass:"button is-link",on:{click:t.remindPassword}},[t._v(t._s(t.tokens.btn_forgot_password))])]),s("p")],1),t.user?t._e():s("footer",{staticClass:"footer"},[s("div",{staticClass:"columns is-32"},[s("div",{staticClass:"column"},[s("div",[t._v("TAUCHI, COMS, "+t._s(t.tokens.msg_contact_uta))])]),s("div",{staticClass:"column is-narrow"},[s("a",{staticClass:"manual",attrs:{href:"https://uta-gasp.gitbooks.io/silko/"}},[t._v(t._s(t.tokens.manual))])]),s("div",{staticClass:"column"},[s("div",{staticClass:"browser-info"},[t._v(t._s(t.tokens.msg_test_info))]),t._m(0)])])]),t.schools?s("modal-container",{attrs:{title:t.tokens.tit_registration},on:{close:t.closeSelectionBox}},[s("div",{staticClass:"has-text-centered"},[s("div",[t._v(t._s(t.tokens.msg_contact_info))]),s("div",[t._v("Oleg Špakov @ "+t._s(t.tokens.msg_contact_uta))]),s("div",[t._v("oleg.spakov at uta dot fi")])])]):t._e(),t.isGettingEmail?s("modal-container",{attrs:{title:t.tokens.tit_pass_reset},on:{close:t.closeEmailBox,mounted:t.passwordResetAppeared}},[t.schoolToRegester?t._e():s("div",{staticClass:"field"},[s("p",{staticClass:"control"},[s("span",[t._v(t._s(t.tokens.hdr_password_reset))])])]),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],ref:"email",staticClass:"input",attrs:{type:"email",placeholder:t.tokens.email},domProps:{value:t.email},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.sendPasswordResetRequest(e)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fa fa-envelope"})]),t.isEmailValid?t._e():s("span",{staticClass:"icon is-small is-right"},[s("i",{staticClass:"fa fa-exclamation-triangle"})])])]),s("p",{staticClass:"control"}),s("div",{staticClass:"has-text-centered"},[s("button",{staticClass:"button is-primary",on:{click:t.sendPasswordResetRequest}},[t._v(t._s(t.tokens.btn_send))])]),s("p")]):t._e(),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("div",{staticClass:"modal",class:{"is-active":t.isStudent&&t.showWsSecurityError},attrs:{id:"ws-security-error"}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"notification is-danger"},[s("h3",{staticClass:"title is-3"},[t._v(t._s(t.tokens.ws_err_title))]),s("div",{staticClass:"subtitle"},[t._v(t._s(t.tokens.ws_err_subtitle))]),t.isFirefox?s("ul",{staticClass:"unblock-ws-instruction"},[s("li",{staticClass:"step"},[t._v("- "+t._s(t.tokens.ws_unblock_1[0])+' "'),s("span",{staticClass:"code"},[t._v("about:config")]),t._v('" '+t._s(t.tokens.ws_unblock_1[1]))]),s("li",{staticClass:"step"},[t._v("- "+t._s(t.tokens.ws_unblock_2[0])+' "'),s("span",{staticClass:"code"},[t._v("network.websocket.allowInsecureFromHTTPS")]),t._v('" '+t._s(t.tokens.ws_unblock_2[1]))]),s("li",{staticClass:"step"},[t._v("- "+t._s(t.tokens.ws_unblock_3[0])+' "'),s("span",{staticClass:"code"},[t._v("false")]),t._v('", '+t._s(t.tokens.ws_unblock_3[1])+' "'),s("span",{staticClass:"code"},[t._v("true")]),t._v('"'+t._s(t.tokens.ws_unblock_3[2]))])]):s("div",{staticClass:"unblock-ws-instruction"},[t._v(t._s(t.tokens.ws_unblock_4))])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"is-inline-block"},[s("div",{staticClass:"browser-name chrome"},[t._v("Chrome 55+")]),s("div",{staticClass:"browser-name firefox"},[t._v("Firefox 47+")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"options"},on:{click:t.close}},[s("div",{staticClass:"inner"},[s("div",{staticClass:"options-title"},[t._v(t._s(t.tokens.hdr_settings))]),s("div",{ref:"container",staticClass:"options"}),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-primary",on:{click:t.save}},[t._v(t._s(t.tokens.btn_save_close))]),s("button",{staticClass:"button is-primary",on:{click:t.apply}},[t._v(t._s(t.tokens.btn_apply))]),s("button",{staticClass:"button is-danger",on:{click:t.reset}},[t._v(t._s(t.tokens.btn_reset))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"audio-player"}},[s("div",{staticClass:"icon-btn",class:{play:!t.isPlaying,pause:t.isPlaying},attrs:{title:t.title},on:{click:t.toggle}}),s("input",{staticClass:"slider is-fullwidth is-small is-circle",attrs:{type:"range",step:"1",min:"0",max:t.durationMs,disabled:t.isPlaying},domProps:{value:t.currentTimeMs},on:{input:t.updateTime}}),s("div",{staticClass:"time"},[t._v(t._s(t.currentTimeMin))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"questionnaire-page"}},[s("section",{staticClass:"section"},[t.question?s("div",{staticClass:"container"},[s("div",{staticClass:"content is-large"},[s("p",[t._v(t._s(t.question.question))])]),s("div",{staticClass:"answers"},t._l(t.question.answers,function(e){return s("button",{staticClass:"button answer is-large is-light",class:t.asnwerRevealedClass(e),on:{click:function(s){t.reply(e)}}},[t._v(t._s(e.text))])}))]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"player"}},[s("abbr",{attrs:{title:t.tokens.tit_restart}},[s("button",{staticClass:"icon-btn restart",on:{click:t.restart}})]),s("abbr",{attrs:{title:t.tokens.tit_pause_cont}},[s("button",{staticClass:"icon-btn",class:{play:t.isPaused,pause:!t.isPaused},on:{click:t.toggle}})]),s("div",{staticClass:"track"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-editor-images"}},[t.isEditing?t._e():s("section",{staticClass:"top-only"},[t.images.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.lbl_preview))]),s("th",[t._v(t._s(t.tokens.name))]),s("th",[t._v(t._s(t.tokens.lbl_page))]),s("th",[t._v(t._s(t.tokens.lbl_location))]),s("th",[t._v(t._s(t.tokens.lbl_size))]),s("th",[t._v(t._s(t.tokens.lbl_on))]),s("th",[t._v(t._s(t.tokens.lbl_off))]),s("th")])]),s("tbody",t._l(t.images,function(e,n){return s("tr",{key:n,staticClass:"is-64"},[s("td",[t.canShow(e)?s("p",{staticClass:"image is-64x64 preview",style:t.getCSSBackgroundImage(e)}):t._e()]),s("td",[t._v(t._s(t.getImageName(e)))]),s("td",[t._v(t._s(t.getImagePage(e)))]),s("td",[t._v(t._s(t.getImageLocation(e)))]),s("td",[t._v(t._s(t.tokens.lbl_keep_size(e.keepOriginalSize)))]),s("td",[s("div",{staticClass:"event-name"},[t._v(t._s(t.formatEventName(e.on)))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasParameters(e.on),expression:"hasParameters( image.on )"}],staticClass:"event-param"},[t._v(t._s(t.formatEventParams(e.on)))])]),s("td",[s("div",{staticClass:"event-name"},[t._v(t._s(t.formatEventName(e.off)))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasParameters(e.off),expression:"hasParameters( image.off )"}],staticClass:"event-param"},[t._v(t._s(t.formatEventParams(e.off)))])]),s("td",[s("button",{staticClass:"button",attrs:{title:t.tokens.tit_params},on:{click:function(e){t.edit(n)}}},[s("i",{staticClass:"far fa-edit"})])]),s("td",[s("button",{staticClass:"button",attrs:{title:t.tokens.tit_remove},on:{click:function(e){t.remove(n)}}},[s("i",{staticClass:"fa fa-times"})])])])}))]):s("section",[s("i",[t._v(t._s(t.tokens.msg_no_images))])])]),s("section",{staticClass:"absolute-parent"},[t.isEditing?t._e():s("div",{staticClass:"has-text-centered"},[s("section",{staticClass:"is-fullwidth is-dropzone",class:{"is-dragover":t.isDraggingFileOverDropzone},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(e){e.stopPropagation(),e.preventDefault(),t.isDraggingFileOverDropzone=!1},dragend:function(e){e.stopPropagation(),e.preventDefault(),t.isDraggingFileOverDropzone=!1},dragleave:function(e){e.stopPropagation(),e.preventDefault(),t.isDraggingFileOverDropzone=!1},dragenter:function(e){e.stopPropagation(),e.preventDefault(),t.isDraggingFileOverDropzone=!0},dragover:function(e){e.stopPropagation(),e.preventDefault(),t.isDraggingFileOverDropzone=!0},drop:function(e){e.stopPropagation(),e.preventDefault(),t.dropFile(e)}}},[s("div",{staticClass:"file is-centered is-boxed"},[s("label",{staticClass:"file-label"},[s("input",{staticClass:"file-input",attrs:{type:"file"},on:{change:function(e){t.selectFile(e)}}}),s("span",{staticClass:"file-cta"},[t._m(0),s("span",{staticClass:"file-label"},[t._v(t._s(t.tokens.msg_choose))]),s("span",{staticClass:"help"},[t._v(t._s(t.tokens.msg_drag))])])])])])]),t.selectedFile||t.isEditing?s("div",{class:{sticked:!t.isEditing,"at-top":!t.images.length,"at-bottom":t.images.length}},[t.selectedFile?s("article",{staticClass:"media"},[s("figure",{staticClass:"media-left"},[s("p",{staticClass:"image is-64x64"},[s("img",{attrs:{src:t.getImageURL(t.selectedFile)}})])]),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("div",[s("strong",[t._v(t._s(t.selectedFile.name))])]),s("div",[s("small",[t._v(t._s(t.selectedFile.size)+" "+t._s(t.tokens.lbl_bytes))])]),s("progress",{directives:[{name:"show",rawName:"v-show",value:t.isUploading,expression:"isUploading"}],staticClass:"progress is-small is-primary",attrs:{max:"100"},domProps:{value:t.uploadProgress}})])]),s("div",{staticClass:"media-right"},[s("div",{staticClass:"field"},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.isUploading||!t.hasValidParams},on:{click:t.uploadImage}},[t._v(t._s(t.tokens.btn_upload))]),s("button",{staticClass:"button",attrs:{disabled:t.isUploading},on:{click:t.cancel}},[t._v(t._s(t.tokens.cancel))])])])]):t._e(),s("article",[t.isEditing?s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"}),s("div",{staticClass:"field-body"},[s("h4",{staticClass:"heading is-4"},[t._v(t._s(t.getImageName(t.images[t.editingImageIndex])))])])]):t._e(),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[t._v(t._s(t.tokens.lbl_page))]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.page,expression:"page"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.page=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"-1"}},[t._v(t._s(t.tokens.item_any))]),t._l(t.pageCount,function(e){return s("option",{key:e,domProps:{value:e-1}},[t._v(t._s(e))])})],2)])])]),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[t._v(t._s(t.tokens.lbl_location))]),s("div",{staticClass:"field-body"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.offset,expression:"offset",modifiers:{number:!0}}],staticClass:"input is-inline",attrs:{type:"number",step:"5",min:"0",max:"800"},domProps:{value:t.offset},on:{input:function(e){e.target.composing||(t.offset=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"info-label"},[t._v(t._s(t.tokens.lbl_pixels))]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.location=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"left"}},[t._v(t._s(t.tokens.item_left))]),s("option",{attrs:{value:"bottom"}},[t._v(t._s(t.tokens.item_bottom))]),s("option",{attrs:{value:"right"}},[t._v(t._s(t.tokens.item_right))])])])])]),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[t._v(t._s(t.tokens.lbl_size))]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.keepOriginalSize,expression:"keepOriginalSize"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.keepOriginalSize=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"true"}},[t._v(t._s(t.tokens.item_original))]),s("option",{attrs:{value:"false"}},[t._v(t._s(t.tokens.item_15))])])])])]),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[t._v(t._s(t.tokens.lbl_show))]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.on,expression:"on"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.on=e.target.multiple?s:s[0]}}},t._l(t.ON,function(e,n){return s("option",{key:n,domProps:{value:n}},[t._v(t._s(e))])}))]),s("div",{directives:[{name:"show",rawName:"v-show",value:"fixation"===t.on,expression:"on === 'fixation'"}],staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal is-inner-label no-wrap"},[t._v(t._s(t.tokens.lbl_at))]),s("div",{staticClass:"field-body select-container"},[s("div",{staticClass:"select is-multiple"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.fixationWords,expression:"fixationWords"}],attrs:{multiple:"multiple"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.fixationWords=e.target.multiple?s:s[0]}}},t._l(t.currentWords,function(e){return s("option",{key:e.text+Math.random(),domProps:{value:e}},[t._v(t._s(e.text))])}))])]),s("div",{staticClass:"field-label is-normal is-inner-label no-wrap"},[t._v(t._s(t.tokens.lbl_longer))]),s("div",{staticClass:"field-body number-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fixationDuration,expression:"fixationDuration"}],staticClass:"input is-number",attrs:{type:"text"},domProps:{value:t.fixationDuration},on:{input:function(e){e.target.composing||(t.fixationDuration=e.target.value)}}})]),s("div",{staticClass:"field-label is-normal is-inner-label no-wrap"},[t._v("ms")])])])]),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[t._v(t._s(t.tokens.lbl_hide))]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.off,expression:"off"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.off=e.target.multiple?s:s[0]}}},t._l(t.OFF,function(e,n){return s("option",{key:n,domProps:{value:n}},[t._v(t._s(e))])}))]),s("div",{directives:[{name:"show",rawName:"v-show",value:"delay"===t.off,expression:"off === 'delay'"}],staticClass:"field is-horizontal"},[s("div",{staticClass:"field-body number-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.delayDuration,expression:"delayDuration"}],staticClass:"input is-number",attrs:{type:"text"},domProps:{value:t.delayDuration},on:{input:function(e){e.target.composing||(t.delayDuration=e.target.value)}}})]),s("div",{staticClass:"field-label is-normal is-inner-label no-wrap"},[t._v("sec")])])])]),t.isEditing?s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"}),s("div",{staticClass:"field-body"},[s("div",{staticClass:"is-grouped is-right"},[s("button",{staticClass:"button is-primary",on:{click:function(e){t.saveEdited()}}},[t._v(t._s(t.tokens.save))]),s("button",{staticClass:"button",on:{click:function(e){t.cancelEditing()}}},[t._v(t._s(t.tokens.cancel))])])])]):t._e()])]):t._e()]),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"file-icon"},[s("i",{staticClass:"fa fa-upload"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns is-mobile",attrs:{id:"control-panel"}},[s("div",{staticClass:"column title"},[t._v(t._s(t.title))]),s("div",{staticClass:"column is-narrow"},[t.showPlayer?s("player",{staticClass:"player",attrs:{"is-paused":t.isPlayerPaused},on:{restart:t.restartPlayer,toggle:t.togglePlayer}}):t._e(),t.feedback?s("div",{staticClass:"props"},[s("abbr",{staticClass:"prop speech",class:{off:!t.feedback.speech.enabled},attrs:{title:t.tokens.tit_speech}}),s("abbr",{staticClass:"prop syllab",class:{off:!t.feedback.syllabification.enabled},attrs:{title:t.tokens.tit_syllab}},[t.feedback.syllabification.enabled?s("span",[t._v(t._s(t.feedback.syllabification.threshold.value))]):t._e()])]):t._e(),t.questionnaire&&t.questionnaire.length?s("div",{staticClass:"props"},[s("abbr",{staticClass:"prop questionnaire",attrs:{title:t.tokens.tit_quest}},[t._v(t._s(t.correctAnswers))])]):t._e(),s("div",{staticClass:"menu"},[t.textLength?[s("div",{staticClass:"navigation"},[s("abbr",{attrs:{title:t.tokens.tit_prev}},[s("button",{staticClass:"icon-btn prev",class:{disabled:!t.pageIndex},on:{click:t.prevPage}})]),s("div",{staticClass:"page"},[t._v(t._s(t.dispPage))]),s("abbr",{attrs:{title:t.tokens.tit_next}},[s("button",{staticClass:"icon-btn next",class:{disabled:t.pageIndex===t.textLength-1},on:{click:t.nextPage}})])]),s("div",{staticClass:"separator"})]:t._e(),t.showOptionsButton?[s("abbr",{attrs:{title:t.tokens.tit_settings}},[s("button",{staticClass:"icon-btn settings",on:{click:t.showOptions}})]),s("div",{staticClass:"separator"})]:t._e(),s("abbr",{attrs:{title:t.tokens.tit_close}},[s("button",{staticClass:"icon-btn close",on:{click:t.close}})])],2)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"classes"}},[s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.classes))]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.classes?s("div",{staticClass:"container"},[s("loading")],1):s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.name))]),s("th",[t._v(t._s(t.tokens.tasks))]),s("th",[t._v(t._s(t.tokens.students))])])]),s("tbody",t._l(t.classes,function(e){return s("tr",{key:e.id},[s("td",[s("div",{staticClass:"title is-4 no-wrapping"},[t._v(t._s(e.name))]),s("button",{staticClass:"button is-danger",attrs:{title:t.tokens.tit_delete_class},on:{click:function(s){t.removeClass(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",[s("task-list",{attrs:{cls:e,intros:t.intros},on:{saved:t.taskSaved,created:t.taskCreated,deleted:t.taskDeleted}})],1),s("td",[s("student-list",{attrs:{cls:e,teacher:t.teacher,refresh:t.refreshStudents}})],1)])}))])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_new))]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"field control"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"input",class:{"is-danger":t.newName.length&&!t.canCreate},attrs:{type:"text",placeholder:t.tokens.name},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newName.length&&!t.canCreate,expression:"newName.length && !canCreate"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.name_invalid))]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canCreate},on:{click:t.tryToCreate}},[t._v(t._s(t.tokens.create))])])])])]),t.toDelete?s("remove-warning",{attrs:{object:"class",name:t.toDeleteName},on:{close:t.removeWarningClosed}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"start-page"}},[s("section",{staticClass:"section"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isConnected,expression:"isConnected"}],staticClass:"container"},[s("div",{staticClass:"content is-large"},t._l(t.startInstruction,function(e){return s("p",[t._v(t._s(e))])})),s("button",{staticClass:"button is-large is-primary",attrs:{disabled:!t.isCalibrated},on:{click:t.start}},[t._v(t._s(t.tokens.start))]),s("button",{staticClass:"button is-large",on:{click:t.cancel}},[t._v(t._s(t.tokens.cancel))])])]),s("div",{ref:"fullscreen",staticClass:"fullscreen"},[t.isRunning?s("task-page",{attrs:{texts:t.texts,task:t.task,student:t.student,finilize:t.finilizeTask},on:{finished:t.finishedReading,saved:t.gazeDataSaved}}):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFullscreen&&!t.isRunning,expression:"isFullscreen && !isRunning"}],staticClass:"container tracking-lost-error-container"},[s("div",{staticClass:"message is-danger tracking-lost-error"},[s("div",{staticClass:"message-body"},[t._v(t._s(t.tokens.msg_tracking_lost))])])])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCalibrated,expression:"!isCalibrated"}],staticClass:"container"},[s("div",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[t._v(t._s(t.tokens.msg_tracker_not_calibrated))])]),s("article",{staticClass:"message is-info"},[s("div",{staticClass:"message-body"},[t._v(t._s(t.tokens.msg_calib_window_not_visible))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"teachers"}},[s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_new))]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"field control"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"input",class:{"is-danger":t.newName.length&&!t.isNewNameValid},attrs:{type:"text",placeholder:t.tokens.name},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newName.length&&!t.isNewNameValid,expression:"newName.length && !isNewNameValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.name_invalid))]),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],staticClass:"input",class:{"is-danger":t.newEmail.length&&!t.isNewEmailValid},attrs:{type:"email",placeholder:t.tokens.email},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newEmail.length&&!t.isNewEmailValid,expression:"newEmail.length && !isNewEmailValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.email_invalid))]),t.isAdmin?s("p",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchool,expression:"newSchool"}],attrs:{required:"required"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.newSchool=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"disabled",selected:"selected",hidden:"hidden"}},[t._v(t._s(t.tokens.school))]),t._l(t.schoolItems,function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})],2)])]):t._e(),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canCreate},on:{click:t.tryToCreate}},[t._v(t._s(t.tokens.create))])])])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.teachers))]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.teachers?s("div",{staticClass:"container"},[s("loading")],1):t.teachers.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.name))]),t.isAdmin?s("th",[t._v(t._s(t.tokens.school))]):t._e(),t.isAdmin?t._e():s("th",[t._v(t._s(t.tokens.classes))])])]),s("tbody",t._l(t.teachers,function(e){return s("tr",[s("td",[t._v(t._s(e.name))]),t.isAdmin?s("td",[s("span",{staticClass:"select"},[s("select",{domProps:{value:e.school},on:{input:function(s){t.moveTeacher(e,s)}}},t._l(t.schools,function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))])]):t._e(),t.isAdmin?t._e():s("td",[s("span",{staticClass:"ellipsis"},[t._v(t._s(t.getListOfTeacherClasses(e)))])])])}))]):s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_teachers))])])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{"is-active":!!t.text},attrs:{id:"modal-error"}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"notification is-danger"},[s("div",{staticClass:"heading has-text-centered"},[t._v(t._s(t.tokens.title))]),s("div",{staticClass:"has-text-centered"},[t._v(t._s(t.text))])])]),s("button",{staticClass:"modal-close",on:{click:t.close}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"schools"}},[s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v("New school")]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"field control"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"input",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],staticClass:"input",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}})]),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canCreate},on:{click:t.tryToCreate}},[t._v("Create")])])])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v("Schools")]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.schools?s("div",{staticClass:"container"},[s("loading")],1):t.schools.length?s("table",{staticClass:"table"},[t._m(0),s("tbody",t._l(t.schools,function(e){return s("tr",[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(t._f("count")(e.teachers)))]),s("td",[t._v(t._s(t._f("count")(e.students)))])])}))]):s("div",{staticClass:"container"},[s("i",[t._v("No school exists yet")])])])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),s("th",[t._v("Teachers")]),s("th",[t._v("Students")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"students"}},[s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])]),s("temporal-notification",{attrs:{type:"success",show:t.showSuccess}},[s("span",[t._v(t._s(t.successMessage))])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_new))]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"field control"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],staticClass:"input",class:{"is-danger":t.newName.length&&!t.isNewNameValid},attrs:{type:"text",placeholder:t.tokens.name},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newName.length&&!t.isNewNameValid,expression:"newName.length && !isNewNameValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.name_invalid))]),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],staticClass:"input",class:{"is-danger":t.newEmail.length&&!t.isNewEmailValid},attrs:{type:"email",placeholder:t.tokens.email_id},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newEmail.length&&!t.isNewEmailValid,expression:"newEmail.length && !isNewEmailValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.email_invalid))]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isRealEmail,expression:"!isRealEmail"}],staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"input",class:{"is-danger":t.newPassword.length&&!t.isNewPasswordValid},attrs:{type:"text",placeholder:t.tokens.password},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.newPassword.length&&!t.isNewPasswordValid,expression:"newPassword.length && !isNewPasswordValid"}],staticClass:"help is-danger"},[t._v(t._s(t.tokens.password_invalid))]),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newGrade,expression:"newGrade"}],staticClass:"input",attrs:{type:"text",placeholder:t.tokens.grade},domProps:{value:t.newGrade},on:{input:function(e){e.target.composing||(t.newGrade=e.target.value)}}})]),t.isAdmin?s("p",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.newSchool,expression:"newSchool"}],attrs:{required:"required"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.newSchool=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:"disabled",selected:"selected",hidden:"hidden"}},[t._v(t._s(t.tokens.school))]),t._l(t.schoolItems,function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.text))])})],2)])]):t._e(),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canCreateStudent},on:{click:t.tryToCreateStudent}},[t._v(t._s(t.tokens.create))])])])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.students))]),s("div",{staticClass:"panel-block is-paddingless"},[null===t.students?s("div",{staticClass:"container"},[s("loading")],1):t.students.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.name))]),t.isAdmin?s("th",[t._v(t._s(t.tokens.school))]):t._e(),s("th",[t._v(t._s(t.tokens.grade))]),t.isAdmin?t._e():s("th",[t._v(t._s(t.tokens.classes))]),t.isAdmin?s("th",[s("div",{staticClass:"is-pulled-right"},[t._v(t._s(t.tokens.actions))])]):t._e()])]),s("tbody",t._l(t.students,function(e){return e.deleted?t._e():s("tr",[s("td",[t._v(t._s(e.name))]),t.isAdmin?s("td",[s("span",{staticClass:"select"},[s("select",{domProps:{value:e.school},on:{input:function(s){t.moveStudent(e,s)}}},t._l(t.schools,function(e){return s("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}))])]):t._e(),s("td",[t._v(t._s(e.grade))]),t.isAdmin?t._e():s("td",[s("span",{staticClass:"ellipsis"},[t._v(t._s(t.getListOfStudentClasses(e)))])]),t.isAdmin?s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-danger",on:{click:function(s){t.remove(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])]):t._e()])}))]):s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_students))])])])]),t.toDelete?s("remove-warning",{attrs:{object:"student",name:t.toDeleteName},on:{close:t.removeWarningClosed}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-editor-questionnaire"}},[s("nav",{staticClass:"panel"},[s("div",{staticClass:"panel-block"},[s("div",{staticClass:"field control"},[s("p",{staticClass:"control"}),s("div",{staticClass:"columns is-inlined"},[s("div",{staticClass:"column is-narrow"},[s("div",{staticClass:"control-line"},[t._v(t._s(t.tokens.lbl_for))]),s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?s:s[0]}}},t._l(t.types,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(t.tokens["item_"+e.name]))])}))])]),s("div",{staticClass:"column"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"},{name:"show",rawName:"v-show",value:t.type===t.types.word,expression:"type === types.word"}],staticClass:"input",attrs:{type:"text",placeholder:t.tokens.ph_word},domProps:{value:t.word},on:{input:function(e){e.target.composing||(t.word=e.target.value)}}})])]),s("p"),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],staticClass:"input",attrs:{type:"text",placeholder:t.tokens.ph_question},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}})]),s("p",{staticClass:"control"}),s("div",{staticClass:"columns is-inlined"},t._l(t.answers,function(e){return s("div",{staticClass:"column"},[s("p",{staticClass:"control has-icon"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"answer.text"}],staticClass:"input",attrs:{type:"text",placeholder:t.tokens.ph_answer},domProps:{value:e.text},on:{input:function(s){s.target.composing||t.$set(e,"text",s.target.value)}}}),e.text?[e.isCorrect?s("span",{staticClass:"icon is-small is-left checkbox is-success"},[s("i",{staticClass:"fa fa-check-circle",on:{click:function(s){t.selectCorrect(e)}}})]):s("span",{staticClass:"icon is-small is-left checkbox"},[s("i",{staticClass:"fa fa-check",on:{click:function(s){t.selectCorrect(e)}}})])]:t._e()],2)])})),s("p"),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canAdd},on:{click:t.add}},[t._v(t._s(t.tokens.add))])])])]),s("div",{staticClass:"panel-block questions is-paddingless"},[s("table",{staticClass:"table"},[s("tbody",t._l(t.questions,function(e){return s("tr",{key:e.question},[s("td",{staticClass:"is-narrow"},["word"===e.type?[s("p",{staticClass:"word is-inline-block"},[t._v(t._s(e.word))])]:[s("div",{staticClass:"heading is-inline-block"},[t._v(t._s(t.tokens["lbl_"+e.type]))])]],2),s("td",[s("span",{staticClass:"is-inline-block"},[t._v(t._s(e.question))]),s("i",{staticClass:"is-inline-block is-pulled-right answers"},t._l(e.answers,function(e){return s("span",{staticClass:"answer",class:{"is-correct":e.isCorrect}},[t._v(t._s(e.text))])}))]),s("td",{staticClass:"is-narrow"},[s("button",{staticClass:"button is-danger",on:{click:function(s){t.remove(e)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])}))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"word-replay"}},[s("div",{ref:"root",staticClass:"list"},[s("table",{ref:"table"},[s("thead",[s("tr",[s("th"),t._l(t.data.records,function(e){return s("th",[t._v(t._s(e.student.name))])})],2)]),s("tbody",t._l(t.words,function(e){return s("tr",{key:e.key},[s("td",{staticClass:"word"},[t._v(t._s(e.text))]),t._l(e.durations,function(e,n){return s("td",{staticClass:"duration",class:{"is-danger":t.hasNoData(n)}})})],2)})),s("tfoot",[s("tr",[s("td"),t._l(t.tracks,function(e){return s("td",[s("span",{class:{hidden:e.pointer}},[t._v(t._s(e.doneMessage))])])})],2)])])]),s("control-panel",{attrs:{title:t.title,feedback:null,"text-length":t.textLength,"initial-page-index":t.initialPageIndex,options:t.options,"show-player":!0,"is-player-paused":t.isPlayerPaused},on:{"page-changed":t.setPage,"show-options":t.showOptions,"restart-player":t.restartPlayer,"toggle-player":t.togglePlayer,close:t.close}}),s("options",{directives:[{name:"show",rawName:"v-show",value:t.isOptionsDisplayed,expression:"isOptionsDisplayed"}],attrs:{values:t.options},on:{close:t.closeOptions,apply:t.applyOptions}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"vis-durations"}},[s("div",{staticClass:"list"},t._l(t.words,function(e){return s("div",{staticClass:"record"},[s("div",{staticClass:"word"},[t._v(t._s(e.text))]),s("div",{staticClass:"duration"},[t._v(t._s(e.value))])])})),s("control-panel",{attrs:{title:t.title,feedback:t.feedback,"text-length":t.textLength,"initial-page-index":t.initialPageIndex,options:t.options},on:{"page-changed":t.setPage,"show-options":t.showOptions,close:t.close}}),s("options",{directives:[{name:"show",rawName:"v-show",value:t.isOptionsDisplayed,expression:"isOptionsDisplayed"}],attrs:{values:t.options},on:{close:t.closeOptions,apply:t.applyOptions}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"temporal-notification"}},[s("transition",{attrs:{name:"slide-fade"}},[t.showState?s("div",{staticClass:"modal on-top is-active"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"notification has-text-centered is-rounded",class:t.notificationClass},[t._t("default")],2)])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar",{directives:[{name:"show",rawName:"v-show",value:t.isLoggedIn,expression:"isLoggedIn"}]}),s("section",{staticClass:"section is-paddingless"},[s("div",{staticClass:"container is-fluid is-marginless"},[s("router-view")],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-images"}},t._l(t.imageProps,function(e){return s("img",{directives:[{name:"show",rawName:"v-show",value:t.hasImageAt(e),expression:"hasImageAt( props )"}],staticClass:"image",class:t.getClass(e),style:t.getStyle(e),attrs:{src:t.getSource(e)}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"questionnaire-results"}},[t.questionnaire?s("div",{staticClass:"list"},[s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.name))]),s("th",{staticClass:"is-narrow"},[t._v(t._s(t.tokens.date))]),t._l(t.questionnaire.questions,function(e){return s("th",[t._v(t._s(e))])}),s("th",{staticClass:"is-narrow"},[t._v(t._s(t.tokens.hdr_total))])],2)]),s("tbody",t._l(t.questionnaire.sessions,function(e,n){return s("tr",[s("td",[t._v(t._s(t._f("name")(n)))]),s("td",{staticClass:"is-narrow"},[t._v(t._s(t._f("date")(n)))]),t._l(t.questionnaire.questions,function(n){return s("td",{staticClass:"is-paddingless"},[s("div",{staticClass:"answer",class:t.getAnswerClass(e,n)},[t._v(t._s(t.getAnswerText(e,n)))])])}),s("td",{staticClass:"is-narrow"},[s("div",{staticClass:"total"},[t._v(t._s(t.getTotal(e)))])])],2)}))])]):t._e(),s("control-panel",{attrs:{title:t.title},on:{close:t.close}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"task-editor"}},[s("div",{staticClass:"tabs is-centered"},[s("ul",t._l(t.tabs,function(e,n){return s("li",{key:n,class:{"is-active":t.isCurrentTab(e)}},[s("a",{on:{click:function(s){t.selectTab(e)}}},[t._v(t._s(t.tokens[e.name.toLowerCase()]))])])}))]),s("div",{staticClass:"field expand"},[s("task-editor-text",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===t.tabs.text,expression:"currentTab === tabs.text"}],attrs:{task:t.ref,intros:t.intros,"is-name-editable":t.isTaskNameEditable,"is-cloning":t.isCloningTask},on:{input:t.setTextInput}}),s("task-editor-feedback",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===t.tabs.feedback,expression:"currentTab === tabs.feedback"}],attrs:{task:t.ref},on:{input:t.setFeedbackInput}}),s("task-editor-images",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===t.tabs.images,expression:"currentTab === tabs.images"}],attrs:{task:t.ref,"current-text":t.text},on:{input:t.setImagesInput,editing:function(e){t.onImageEditing(e)}}}),s("task-editor-questionnaire",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===t.tabs.questionnaire,expression:"currentTab === tabs.questionnaire"}],attrs:{task:t.ref},on:{input:t.setQuestionnaireInput}})],1),s("p",{staticClass:"control bottom-panel"},[s("span",{staticClass:"is-inline-block"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canSave},on:{click:t.save}},[t._v(t._s(t.action))]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.currentTab===t.tabs.feedback,expression:"currentTab === tabs.feedback"}],staticClass:"button stacked",on:{click:t.setDefaultFeedback}},[t._v(t._s(t.tokens.btn_set_default))]),s("span",{staticClass:"is-inline-block stacked"},[s("bulma-checkbox",{staticClass:"is-inline-block",attrs:{label:t.tokens.lbl_use_timeout,disabled:!1},model:{value:t.useTimeout,callback:function(e){t.useTimeout=e},expression:"useTimeout"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.timeout,expression:"timeout",modifiers:{number:!0}}],staticClass:"input is-inline-block timeout",attrs:{type:"number",step:"1",disabled:!t.useTimeout,min:"1",max:"1000"},domProps:{value:t.timeout},on:{input:function(e){e.target.composing||(t.timeout=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("span",[t._v(t._s(t.tokens.lbl_minute))])],1),s("span",{staticClass:"is-inline-block stacked"},[s("bulma-checkbox",{staticClass:"is-inline-block",attrs:{label:t.tokens.lbl_record_audio},model:{value:t.recordAudio,callback:function(e){t.recordAudio=e},expression:"recordAudio"}})],1)]),s("button",{staticClass:"button is-primary",attrs:{disabled:!t.canPreview},on:{click:t.preview}},[t._v(t._s(t.tokens.btn_preview))])]),s("div",{ref:"fullscreen",staticClass:"fullscreen"},[t.inPreview?s("task-preview",{attrs:{task:t.getCurrentTask()},on:{close:t.closePreview}}):t._e()],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"finished-page"}},[s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("button",{staticClass:"button is-large is-primary",class:{"is-loading":t.saving},attrs:{disabled:t.saving},on:{click:t.back}},[t._v(t._s(t.tokens.btn_thanks))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"session-edit-box"}},[s("table",{staticClass:"table"},[s("tbody",t._l(t.student.sessions,function(e){return s("tr",[s("td",[s("div",{staticClass:"name is-inline-block"},[t._v(t._s(t.sessionToString(e)))])]),s("td",[s("button",{staticClass:"button is-danger",on:{click:function(s){t.showDeleteWarning(e)}}},[s("i",{staticClass:"fa fa-times"})])])])}))]),t.sessionToDelete?s("remove-warning",{attrs:{object:"session",name:t.toDeleteName},on:{close:t.removeWarningClosed}}):t._e(),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"item-select-box"}},[t.items.length>0?s("header",{staticClass:"tabs is-centered is-boxed"},[s("ul",{staticClass:"ul"},t._l(t.items,function(e){return t.items.length>1?s("li",{key:e.id,class:{"is-active":t.isItemSelected(e)}},[s("a",{on:{click:function(s){t.selectItem(e)}}},[t._v(t._s(e.text))])]):t._e()}))]):t._e(),s("main",{staticClass:"subitems"},[t.isItemSelected()?t._e():s("div",{staticClass:"has-text-centered"},[s("i",[t._v(t._s(t.tokens.lbl_select(t.itemName)))])]),t.currentItem?s("div",[t._l(t.groups,function(e,n){return e.items.length?s("article",{key:n,staticClass:"message is-primary group"},["_"!==n?s("div",{staticClass:"message-header",on:{click:function(s){t.toggleItemsVisibility(e)}}},[s("p",[t._v(t._s(n))])]):t._e(),s("div",{staticClass:"message-body is-paddingless"},t._l(e.items,function(n,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.isGroupVisible(e),expression:"isGroupVisible( group )"}],key:n.id,staticClass:"card subitem",class:{"is-selected":n.selected}},[s("div",{staticClass:"card-content",on:{click:function(e){t.selectSubitem(n,i,e)}}},[t._v(t._s(n.text))])])}))]):t._e()}),t.hasSubitems(t.currentItem)?t._e():s("div",{staticClass:"has-text-centered"},[s("i",[t._v(t._s(t.tokens.lbl_no_avail(t.subitemName)))])])],2):t._e()]),s("footer",{staticClass:"field"},[s("p",{staticClass:"control"}),s("div",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-primary",attrs:{disabled:!t.hasItemsSelected},on:{click:t.accept}},[t._v(t._s(t.tokens.btn_select))])]),s("div",{staticClass:"level-item"})]),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[t.multiple&&!t.singleGroup?s("button",{staticClass:"button",attrs:{disabled:!t.hasSubitems()},on:{click:t.selectAllSubitems}},[t._v(t._s(t.tokens.btn_select_all))]):t._e()]),s("div",{staticClass:"level-item"},[t.multiple?s("button",{staticClass:"button",attrs:{disabled:!t.hasSubitems()},on:{click:t.removeAllSubitems}},[t._v(t._s(t.tokens.btn_remove_all))]):t._e()])])]),s("p")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section",attrs:{id:"assignments"}},[t.student&&t.student.deleted?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[t._v(t._s(t.tokens.msg_removed_account))])]):s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_assignments))]),s("div",{staticClass:"panel-block"},[null===t.assignments?s("div",{staticClass:"container"},[s("loading")],1):t.assignments.length?s("div",{staticClass:"tile is-ancestor"},t._l(t.assignments,function(e){return s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child"},[s("div",{staticClass:"card"},[s("header",{staticClass:"card-header notification is-info is-paddingless"},[s("div",{staticClass:"card-header-title"},[t._v(t._s(e.cls.name))]),s("div",{staticClass:"card-header-icon"},[e.task.syllab.language?s("span",{staticClass:"icon",attrs:{title:t.tokens.tit_syllab}},[s("i",{staticClass:"fa fa-ellipsis-h"})]):t._e(),e.task.speech.language?s("span",{staticClass:"icon",attrs:{title:t.tokens.tit_voice}},[s("i",{staticClass:"fa fa-headphones"})]):t._e(),e.task.recordAudio?s("span",{staticClass:"icon",attrs:{title:t.tokens.tit_rec}},[s("i",{staticClass:"fa fa-microphone"})]):t._e()])]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[t._v(t._s(e.task.name))])]),s("div",{staticClass:"card-footer"},[s("a",{staticClass:"card-footer-item",on:{click:function(s){t.start(e)}}},[t._v(t._s(t.tokens.start))])])])])])})):s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_assignments))])])])]),s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading"},[t._v(t._s(t.tokens.hdr_completed))]),s("div",{staticClass:"panel-block"},[null===t.sessions?s("div",{staticClass:"container"},[s("loading")],1):t.sessions.length?s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.tokens.class))]),s("th",[t._v(t._s(t.tokens.task))]),s("th",[t._v(t._s(t.tokens.hdr_wpm))]),s("th",[t._v(t._s(t.tokens.date))])])]),s("tbody",t._l(t.sessions,function(e){return s("tr",[s("td",[t._v(t._s(e.cls.name))]),s("td",[t._v(t._s(e.task.name))]),s("td",[t._v(t._s(t.getWPM(e.data)))]),s("td",[t._v(t._s(t._f("prettifyDate")(e.session.date)))])])}))]):s("div",{staticClass:"container"},[s("i",[t._v(t._s(t.tokens.msg_no_completed)+" ")])])])]),s("temporal-notification",{attrs:{type:"danger",show:t.showError}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"feedback-editor"}},[s("p",{staticClass:"control"},[s("label",{staticClass:"label"},[t._v(t._s(t.header))])]),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.language=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",selected:"selected"}},[t._v(t._s(t.tokens.item_none))]),t._l(t.languages,function(e){return s("option",{domProps:{value:e}},[t._v(t._s(e))])})],2)]),t._t("first")],2),s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.thresholdIsSmart,expression:"thresholdIsSmart"}],attrs:{disabled:!t.isLanguageSelected},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.thresholdIsSmart=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:!1}},[t._v(t._s(t.tokens.item_fixed))]),s("option",{domProps:{value:!0}},[t._v(t._s(t.tokens.item_calib))])])]),t.thresholdIsSmart?[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.thresholdMin,expression:"thresholdMin",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"100",disabled:!t.canEditCalibThresholdParams,min:"1000",max:t.thresholdMax},domProps:{value:t.thresholdMin},on:{input:function(e){e.target.composing||(t.thresholdMin=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"control-line"},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.thresholdMax,expression:"thresholdMax",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"100",disabled:!t.canEditCalibThresholdParams,max:"5000",min:t.thresholdMin},domProps:{value:t.thresholdMax},on:{input:function(e){e.target.composing||(t.thresholdMax=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"control-line"},[t._v("ms")])]:[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.thresholdValue,expression:"thresholdValue",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"number",step:"100",disabled:!t.language},domProps:{value:t.thresholdValue},on:{input:function(e){e.target.composing||(t.thresholdValue=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),s("div",{staticClass:"control-line"},[t._v("ms")])],t._t("second")],2),s("div",{staticClass:"field is-horizontal"},[t._t("default")],2),s("p")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"remove-warning"}},[s("div",{staticClass:"modal is-active"},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-header"},[s("p",[t._v(t._s(t.tokens.header(t.object))+".")]),s("button",{staticClass:"delete",on:{click:t.reject}})]),s("div",{staticClass:"message-body"},[s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("span",[s("span",[t._v(t._s(t.tokens.warning(t.object,t.name))+". ")]),t._t("default"),s("span",[t._v(t._s(t.tokens.continue))])],2)])]),s("div",{staticClass:"level"},[s("div",{staticClass:"level-item"},[s("button",{staticClass:"button is-danger",on:{click:t.confirm}},[t._v(t._s(t.tokens.ok))]),s("button",{staticClass:"button",on:{click:t.reject}},[t._v(t._s(t.tokens.cancel))])])])])])])])])},staticRenderFns:[]}}],[221]);
//# sourceMappingURL=app.6959a06b18552cd89bcb.js.map